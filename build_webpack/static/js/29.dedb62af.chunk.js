(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1681:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return p}));var r=n(260),a=n(109),c=n(72),o=n(258),i=n(1690),u=n(39),s=n(138),l=n(12);function f(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){f(c,r,a,o,i,"next",e)}function i(e){f(c,r,a,o,i,"throw",e)}o(void 0)}))}}var d=function(e){return e.match(/.{2}/g).reduce((function(e,t){return t===s.a?e+0:"00"===t?e+4:e+16}),0)},b=function(){var e=m(regeneratorRuntime.mark((function e(t,n,a,o,f){var m,d,b,p,v,x,h,g,w,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m=Object(l.k)(),e.next=4,Object(l.d)(m);case 4:return d=e.sent,b=new m.eth.Contract(r.abi,t),e.next=8,b.methods.nonce().call();case 8:return p=e.sent,e.next=11,b.methods.getThreshold().call();case 11:if(v=e.sent,!(o&&o.confirmations.size===v||!!f||"1"===v)){e.next=20;break}return h=o&&o.confirmations?Object(i.a)(o.confirmations,f):"0x000000000000000000000000".concat(d.replace("0x",""),"000000000000000000000000000000000000000000000000000000000000000001"),e.next=17,b.methods.execTransaction(n,o?o.value:0,a,c.a,0,0,0,u.a,u.a,h).encodeABI();case 17:x=e.sent,e.next=26;break;case 20:return e.next=22,b.methods.getTransactionHash(n,o?o.value:0,a,c.a,0,0,0,u.a,u.a,p).call({from:d});case 22:return g=e.sent,e.next=25,b.methods.approveHash(g).encodeABI();case 25:x=e.sent;case 26:return e.next=28,Object(s.b)(x,d,t);case 28:return w=e.sent,e.next=31,Object(s.c)();case 31:return y=e.sent,e.abrupt("return",w*parseInt(y,10));case 35:return e.prev=35,e.t0=e.catch(0),console.error("Error while estimating transaction execution gas costs:"),console.error(e.t0),e.abrupt("return",1e4);case 40:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),p=function(){var e=m(regeneratorRuntime.mark((function e(t,n,r,c,i,u){var s,f,m,b,p,v,x,h,g,w,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=t){e.next=6;break}return e.next=5,Object(o.h)(n);case 5:s=e.sent;case 6:return e.next=8,Object(l.k)();case 8:return f=e.sent,m=s.contract.methods.requiredTxGas(c,i,r,u).encodeABI(),e.next=12,f.eth.call({to:n,from:n,data:m});case 12:return b=e.sent,p=new a.BigNumber(b.substring(138),16).toNumber()+1e4,v=d(m)+21e3,x=[1e4,2e4,4e4,8e4,16e4,32e4,64e4,128e4,256e4,512e4],h=new f.BatchRequest,g=x.map((function(e){return new Promise((function(n){var r=f.eth.call.request({to:t.address,from:t.address,data:m,gasPrice:0,gasLimit:p+v+e},(function(t,r){var a=r&&"string"===typeof r.data,c=!t&&("string"===typeof r&&"0x"!==r||a&&"0x"!==r.data.slice(9));n({success:c,estimation:p+e})}));h.add(r)}))})),h.execute(),e.next=21,Promise.all(g);case 21:if(w=e.sent,!(y=w.find((function(e){return e.success})))){e.next=25;break}return e.abrupt("return",y.estimation);case 25:return e.abrupt("return",0);case 28:return e.prev=28,e.t0=e.catch(0),console.error("Error calculating tx gas estimation",e.t0),e.abrupt("return",0);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t,n,r,a,c,o){return e.apply(this,arguments)}}()},1683:function(e,t,n){"use strict";var r=n(67),a=n(511),c=n.n(a),o=n(153),i=n(22),u=n(258),s=n(31),l=n(72),f=n(1681),m=n(510),d=n(504),b=n(39),p=n(138),v=n(83),x=n(64),h=n(1704),g=n(1691),w=n(1692);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){E(c,r,a,o,i,"next",e)}function i(e){E(c,r,a,o,i,"throw",e)}o(void 0)}))}}t.a=function(e){var t=e.safeAddress,n=e.to,a=e.valueInWei,y=e.txData,j=void 0===y?p.a:y,E=e.notifiedTransaction,R=e.enqueueSnackbar,S=e.closeSnackbar,A=e.txNonce,N=e.operation,P=void 0===N?l.a:N,T=e.navigateToTransactionsTab,I=void 0===T||T,B=e.origin,C=void 0===B?null:B;return function(){var e=k(regeneratorRuntime.mark((function e(p,y){var N,T,B,D,M,W,z,H,L,q,F,G,J,U,X,Y,$,_,K,Q,V,Z;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N=y(),I&&p(Object(r.d)("".concat(x.c,"/").concat(t,"/transactions"))),e.next=4,Object(o.c)();case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return T=Object(v.e)(N),B=T.account,D=T.hardwareWallet,M=T.smartContractWallet,e.next=10,Object(u.h)(t);case 10:return W=e.sent,e.next=13,Object(g.a)(t);case 13:return z=e.sent,e.next=16,Object(g.b)(A,z,W);case 16:return H=e.sent,e.next=19,Object(g.c)(W,H,z);case 19:return L=e.sent,e.next=22,Object(d.c)(W);case 22:return q=e.sent,e.next=25,Object(f.a)(W,t,j,n,a,P);case 25:if(F=e.sent,G="0x000000000000000000000000".concat(B.replace("0x",""),"000000000000000000000000000000000000000000000000000000000000000001"),J=Object(s.c)(E,C),U=Object(s.d)(J.beforeExecution,R,S),_={safeInstance:W,to:n,valueInWei:a,data:j,operation:P,nonce:H,safeTxGas:F,baseGas:0,gasPrice:0,gasToken:b.a,refundReceiver:b.a,sender:B,sigs:G},e.prev=30,!(!L&&!M&&c()(q,m.a))){e.next=43;break}return e.next=35,Object(m.b)(O({},_,{safeAddress:t}),D);case 35:if(!(K=e.sent)){e.next=43;break}return S(U),e.next=40,Object(l.f)(O({},_,{signature:K,origin:C}));case 40:return Object(s.d)(J.afterExecution.moreConfirmationsNeeded,R,S),p(Object(h.a)(t)),e.abrupt("return");case 43:if(!L){e.next=49;break}return e.next=46,Object(l.e)(_);case 46:e.t0=e.sent,e.next=52;break;case 49:return e.next=51,Object(l.d)(_);case 51:e.t0=e.sent;case 52:return $=e.t0,Q={from:B,value:0},_.to===Object(i.a)()&&(Q.gas="2000000"),e.next=58,$.send(Q).once("transactionHash",function(){var e=k(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y=n,S(U),X=Object(s.d)(J.pendingExecution,R,S),e.prev=3,e.next=6,Object(l.f)(O({},_,{txHash:Y,origin:C}));case 6:p(Object(h.a)(t)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e){console.error("Tx error: ",e)})).then((function(e){return S(X),Object(s.d)(L?J.afterExecution.noMoreConfirmationsNeeded:J.afterExecution.moreConfirmationsNeeded,R,S),p(Object(h.a)(t)),e.transactionHash}));case 58:e.next=71;break;case 60:return e.prev=60,e.t1=e.catch(30),console.error(e.t1),S(U),S(X),Object(s.d)(J.afterExecutionError,R,S),V=W.contract.methods.execTransaction(n,a,j,P,0,0,0,b.a,b.a,G).encodeABI(),e.next=69,Object(w.a)(W.address,0,V,B);case 69:Z=e.sent,console.error("Error creating the TX: ".concat(Z));case 71:return e.abrupt("return",Y);case 72:case"end":return e.stop()}}),e,null,[[30,60]])})));return function(t,n){return e.apply(this,arguments)}}()}},1685:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1688),a=n.n(r),c=function(e){e.target.onerror=null,e.target.src=a.a}},1688:function(e,t,n){e.exports=n.p+"img/c1abe466eadcf313c3beb9a2c0e3f4d9.svg"},1690:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(6);var r=function(e,t){var n=e.reduce((function(e,t){return e[t.owner.toLowerCase()]=t,e}),{});t&&(n[t.toLowerCase()]={owner:t});var r="0x";return Object.keys(n).sort().forEach((function(e){var t=n[e];t.signature?r+=t.signature.slice(2):r+="000000000000000000000000".concat(e.replace("0x",""),"000000000000000000000000000000000000000000000000000000000000000001")})),r}},1691:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var r=n(84),a=n.n(r),c=n(508);function o(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){o(c,r,a,i,u,"next",e)}function u(e){o(c,r,a,i,u,"throw",e)}i(void 0)}))}}var u=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(c.a)(t),e.next=4,a.a.get(n,{params:{limit:1}});case 4:return r=e.sent,e.abrupt("return",r.data.results[0]||null);case 8:return e.prev=8,e.t0=e.catch(0),console.error("failed to retrieve last Tx from server",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=i(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Number.isInteger(Number.parseInt(t,10))){e.next=9;break}if(null!==n){e.next=7;break}return e.next=4,r.nonce();case 4:e.t0=e.sent.toString(),e.next=8;break;case 7:e.t0="".concat(n.nonce+1);case 8:return e.abrupt("return",e.t0);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),l=function(){var e=i(regeneratorRuntime.mark((function e(t,n,r){var a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getThreshold();case 2:if(1!==e.sent.toNumber()){e.next=7;break}return a=0===Number.parseInt(n),c=r&&r.isExecuted,e.abrupt("return",a||c);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},1692:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(1708),a=n.n(r),c=n(12);function o(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,a)}var i=function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r,o,i){var u,s,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=Object(c.k)(),t.next=3,u.eth.call({to:n,from:i,value:r,data:o});case 3:return s=t.sent,l=e.from(s.slice(2),"hex"),t.abrupt("return",a.a.rawDecode(["string"],l.slice(4))[0]);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var c=t.apply(e,n);function i(e){o(c,r,a,i,u,"next",e)}function u(e){o(c,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t,r,a){return n.apply(this,arguments)}}()}).call(this,n(11).Buffer)},1695:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(47),o=n(319),i=n(32);t.a=function(){var e=Object(c.f)(i.w),t=e.address,n=void 0===t?"":t,r=e.ethBalance,u=e.name;return a.a.createElement(o.a,{ethBalance:r,safeAddress:n,safeName:u})}},1701:function(e,t,n){e.exports=n.p+"img/055702caa32eb6aad480ce87eeace9c8.svg"},2333:function(e,t,n){"use strict";n.r(t);var r=n(479),a=n(379),c=n(501),o=n.n(c),i=n(109),u=n(212),s=n(0),l=n.n(s),f=n(47),m=n(1701),d=n.n(m),b=n(2),p=n(316),v=n(317),x=n(151),h=n(95),g=n(96),w=n(97),y=n(80),O=n(50),j=n(27),E=n(70),k=n(72),R=n(1681),S=n(516),A=n(318),N=n(507),P=n(138),T=n(12),I=n(1695),B=n(1685),C=n(503),D=n(1683),M=n(32);function W(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,a)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){W(c,r,a,o,i,"next",e)}function i(e){W(c,r,a,o,i,"throw",e)}o(void 0)}))}}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){a=!0,c=u}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=Object(a.a)((function(){return{heading:{padding:"".concat(b.md," ").concat(b.lg),justifyContent:"flex-start",boxSizing:"border-box",maxHeight:"75px"},annotation:{letterSpacing:"-1px",color:b.secondaryText,marginRight:"auto",marginLeft:"20px"},headingText:{fontSize:b.lg},closeIcon:{height:"35px",width:"35px"},container:{padding:"".concat(b.md," ").concat(b.lg)},amount:{marginLeft:b.sm},address:{marginRight:b.sm},buttonRow:{height:"84px",justifyContent:"center","& > button":{fontFamily:"Averta",fontSize:b.md}},submitButton:{boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)",marginLeft:"15px"}}}));t.default=Object(u.withSnackbar)((function(e){var t=e.closeSnackbar,n=e.enqueueSnackbar,a=e.onClose,c=e.onPrev,u=e.tx,m=q(),W=Object(f.e)(),L=Object(f.f)(M.w).address,F=Object(f.f)(C.a),G=H(Object(s.useState)("< 0.001"),2),J=G[0],U=G[1],X=H(Object(s.useState)(""),2),Y=X[0],$=X[1],_=F.find((function(e){return e.address===u.token})),K=_.address===N.a,Q=K?u.recipientAddress:_.address;Object(s.useEffect)((function(){var e=!0;return function(){var t=z(regeneratorRuntime.mark((function t(){var n,r,a,c,o,s,l,f,m,d,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(T.k)().utils,r=n.fromWei,a=n.toBN,c=P.a,K){t.next=14;break}return t.next=5,Object(S.e)();case 5:return o=t.sent,t.next=8,o.at(_.address);case 8:return s=t.sent,t.next=11,s.decimals();case 11:l=t.sent,f=new i.BigNumber(u.amount).times(Math.pow(10,l.toNumber())).toString(),c=s.contract.methods.transfer(u.recipientAddress,f).encodeABI();case 14:return t.next=16,Object(R.b)(L,Q,c);case 16:m=t.sent,d=r(a(m),"ether"),b=Object(A.a)(d),e&&(U(b),$(c));case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[]);var V=function(){var e=z(regeneratorRuntime.mark((function e(){var r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(T.k)(),c=K?r.utils.toWei(u.amount,"ether"):"0",W(Object(D.a)({safeAddress:L,to:Q,valueInWei:c,txData:Y,notifiedTransaction:k.c.STANDARD_TX,enqueueSnackbar:n,closeSnackbar:t})),a();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{align:"center",className:m.heading,grow:!0},l.a.createElement(j.a,{className:m.headingText,noMargin:!0,weight:"bolder"},"Send Funds"),l.a.createElement(j.a,{className:m.annotation},"2 of 2"),l.a.createElement(r.a,{disableRipple:!0,onClick:a},l.a.createElement(o.a,{className:m.closeIcon}))),l.a.createElement(y.a,null),l.a.createElement(h.a,{className:m.container},l.a.createElement(I.a,null),l.a.createElement(E.a,{margin:"md"},l.a.createElement(w.a,{xs:1},l.a.createElement("img",{alt:"Arrow Down",src:d.a,style:{marginLeft:b.sm}})),l.a.createElement(w.a,{center:"xs",layout:"column",xs:11},l.a.createElement(y.a,null))),l.a.createElement(E.a,{margin:"xs"},l.a.createElement(j.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Recipient")),l.a.createElement(E.a,{align:"center",margin:"md"},l.a.createElement(w.a,{xs:1},l.a.createElement(x.a,{address:u.recipientAddress,diameter:32})),l.a.createElement(w.a,{layout:"column",xs:11},l.a.createElement(h.a,{justify:"left"},l.a.createElement(j.a,{className:m.address,noMargin:!0,weight:"bolder"},u.recipientAddress),l.a.createElement(p.a,{content:u.recipientAddress}),l.a.createElement(v.a,{type:"address",value:u.recipientAddress})))),l.a.createElement(E.a,{margin:"xs"},l.a.createElement(j.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Amount")),l.a.createElement(E.a,{align:"center",margin:"md"},l.a.createElement(O.a,{alt:_.name,height:28,onError:B.a,src:_.logoUri}),l.a.createElement(j.a,{className:m.amount,noMargin:!0,size:"md"},u.amount," ",_.symbol)),l.a.createElement(E.a,null,l.a.createElement(j.a,null,"You're about to create a transaction and will have to confirm it with your currently connected wallet. Make sure you have ".concat(J," (fee price) ETH in this wallet to fund this confirmation.")))),l.a.createElement(y.a,{style:{position:"absolute",bottom:85}}),l.a.createElement(E.a,{align:"center",className:m.buttonRow},l.a.createElement(g.a,{minWidth:140,onClick:c},"Back"),l.a.createElement(g.a,{className:m.submitButton,color:"primary","data-testid":"submit-tx-btn",disabled:!Y,minWidth:140,onClick:V,type:"submit",variant:"contained"},"Submit")))}))}}]);