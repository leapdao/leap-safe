(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1681:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b}));var r=n(260),a=n(109),c=n(72),o=n(258),i=n(1690),u=n(39),s=n(138),l=n(12);function f(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){f(c,r,a,o,i,"next",e)}function i(e){f(c,r,a,o,i,"throw",e)}o(void 0)}))}}var d=function(e){return e.match(/.{2}/g).reduce((function(e,t){return t===s.a?e+0:"00"===t?e+4:e+16}),0)},p=function(){var e=m(regeneratorRuntime.mark((function e(t,n,a,o,f){var m,d,p,b,g,x,v,h,y,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m=Object(l.k)(),e.next=4,Object(l.d)(m);case 4:return d=e.sent,p=new m.eth.Contract(r.abi,t),e.next=8,p.methods.nonce().call();case 8:return b=e.sent,e.next=11,p.methods.getThreshold().call();case 11:if(g=e.sent,!(o&&o.confirmations.size===g||!!f||"1"===g)){e.next=20;break}return v=o&&o.confirmations?Object(i.a)(o.confirmations,f):"0x000000000000000000000000".concat(d.replace("0x",""),"000000000000000000000000000000000000000000000000000000000000000001"),e.next=17,p.methods.execTransaction(n,o?o.value:0,a,c.a,0,0,0,u.a,u.a,v).encodeABI();case 17:x=e.sent,e.next=26;break;case 20:return e.next=22,p.methods.getTransactionHash(n,o?o.value:0,a,c.a,0,0,0,u.a,u.a,b).call({from:d});case 22:return h=e.sent,e.next=25,p.methods.approveHash(h).encodeABI();case 25:x=e.sent;case 26:return e.next=28,Object(s.b)(x,d,t);case 28:return y=e.sent,e.next=31,Object(s.c)();case 31:return w=e.sent,e.abrupt("return",y*parseInt(w,10));case 35:return e.prev=35,e.t0=e.catch(0),console.error("Error while estimating transaction execution gas costs:"),console.error(e.t0),e.abrupt("return",1e4);case 40:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),b=function(){var e=m(regeneratorRuntime.mark((function e(t,n,r,c,i,u){var s,f,m,p,b,g,x,v,h,y,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=t){e.next=6;break}return e.next=5,Object(o.h)(n);case 5:s=e.sent;case 6:return e.next=8,Object(l.k)();case 8:return f=e.sent,m=s.contract.methods.requiredTxGas(c,i,r,u).encodeABI(),e.next=12,f.eth.call({to:n,from:n,data:m});case 12:return p=e.sent,b=new a.BigNumber(p.substring(138),16).toNumber()+1e4,g=d(m)+21e3,x=[1e4,2e4,4e4,8e4,16e4,32e4,64e4,128e4,256e4,512e4],v=new f.BatchRequest,h=x.map((function(e){return new Promise((function(n){var r=f.eth.call.request({to:t.address,from:t.address,data:m,gasPrice:0,gasLimit:b+g+e},(function(t,r){var a=r&&"string"===typeof r.data,c=!t&&("string"===typeof r&&"0x"!==r||a&&"0x"!==r.data.slice(9));n({success:c,estimation:b+e})}));v.add(r)}))})),v.execute(),e.next=21,Promise.all(h);case 21:if(y=e.sent,!(w=y.find((function(e){return e.success})))){e.next=25;break}return e.abrupt("return",w.estimation);case 25:return e.abrupt("return",0);case 28:return e.prev=28,e.t0=e.catch(0),console.error("Error calculating tx gas estimation",e.t0),e.abrupt("return",0);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t,n,r,a,c,o){return e.apply(this,arguments)}}()},1683:function(e,t,n){"use strict";var r=n(67),a=n(511),c=n.n(a),o=n(153),i=n(22),u=n(258),s=n(31),l=n(72),f=n(1681),m=n(510),d=n(504),p=n(39),b=n(138),g=n(83),x=n(64),v=n(1704),h=n(1691),y=n(1692);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){E(c,r,a,o,i,"next",e)}function i(e){E(c,r,a,o,i,"throw",e)}o(void 0)}))}}t.a=function(e){var t=e.safeAddress,n=e.to,a=e.valueInWei,w=e.txData,O=void 0===w?b.a:w,E=e.notifiedTransaction,S=e.enqueueSnackbar,R=e.closeSnackbar,T=e.txNonce,A=e.operation,N=void 0===A?l.a:A,P=e.navigateToTransactionsTab,C=void 0===P||P,I=e.origin,z=void 0===I?null:I;return function(){var e=k(regeneratorRuntime.mark((function e(b,w){var A,P,I,M,B,H,D,W,L,q,F,G,_,J,U,X,V,Y,$,K,Q,Z;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=w(),C&&b(Object(r.d)("".concat(x.c,"/").concat(t,"/transactions"))),e.next=4,Object(o.c)();case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return P=Object(g.e)(A),I=P.account,M=P.hardwareWallet,B=P.smartContractWallet,e.next=10,Object(u.h)(t);case 10:return H=e.sent,e.next=13,Object(h.a)(t);case 13:return D=e.sent,e.next=16,Object(h.b)(T,D,H);case 16:return W=e.sent,e.next=19,Object(h.c)(H,W,D);case 19:return L=e.sent,e.next=22,Object(d.c)(H);case 22:return q=e.sent,e.next=25,Object(f.a)(H,t,O,n,a,N);case 25:if(F=e.sent,G="0x000000000000000000000000".concat(I.replace("0x",""),"000000000000000000000000000000000000000000000000000000000000000001"),_=Object(s.c)(E,z),J=Object(s.d)(_.beforeExecution,S,R),Y={safeInstance:H,to:n,valueInWei:a,data:O,operation:N,nonce:W,safeTxGas:F,baseGas:0,gasPrice:0,gasToken:p.a,refundReceiver:p.a,sender:I,sigs:G},e.prev=30,!(!L&&!B&&c()(q,m.a))){e.next=43;break}return e.next=35,Object(m.b)(j({},Y,{safeAddress:t}),M);case 35:if(!($=e.sent)){e.next=43;break}return R(J),e.next=40,Object(l.f)(j({},Y,{signature:$,origin:z}));case 40:return Object(s.d)(_.afterExecution.moreConfirmationsNeeded,S,R),b(Object(v.a)(t)),e.abrupt("return");case 43:if(!L){e.next=49;break}return e.next=46,Object(l.e)(Y);case 46:e.t0=e.sent,e.next=52;break;case 49:return e.next=51,Object(l.d)(Y);case 51:e.t0=e.sent;case 52:return V=e.t0,K={from:I,value:0},Y.to===Object(i.a)()&&(K.gas="2000000"),e.next=58,V.send(K).once("transactionHash",function(){var e=k(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X=n,R(J),U=Object(s.d)(_.pendingExecution,S,R),e.prev=3,e.next=6,Object(l.f)(j({},Y,{txHash:X,origin:z}));case 6:b(Object(v.a)(t)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e){console.error("Tx error: ",e)})).then((function(e){return R(U),Object(s.d)(L?_.afterExecution.noMoreConfirmationsNeeded:_.afterExecution.moreConfirmationsNeeded,S,R),b(Object(v.a)(t)),e.transactionHash}));case 58:e.next=71;break;case 60:return e.prev=60,e.t1=e.catch(30),console.error(e.t1),R(J),R(U),Object(s.d)(_.afterExecutionError,S,R),Q=H.contract.methods.execTransaction(n,a,O,N,0,0,0,p.a,p.a,G).encodeABI(),e.next=69,Object(y.a)(H.address,0,Q,I);case 69:Z=e.sent,console.error("Error creating the TX: ".concat(Z));case 71:return e.abrupt("return",X);case 72:case"end":return e.stop()}}),e,null,[[30,60]])})));return function(t,n){return e.apply(this,arguments)}}()}},1685:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1688),a=n.n(r),c=function(e){e.target.onerror=null,e.target.src=a.a}},1688:function(e,t,n){e.exports=n.p+"img/c1abe466eadcf313c3beb9a2c0e3f4d9.svg"},1690:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(6);var r=function(e,t){var n=e.reduce((function(e,t){return e[t.owner.toLowerCase()]=t,e}),{});t&&(n[t.toLowerCase()]={owner:t});var r="0x";return Object.keys(n).sort().forEach((function(e){var t=n[e];t.signature?r+=t.signature.slice(2):r+="000000000000000000000000".concat(e.replace("0x",""),"000000000000000000000000000000000000000000000000000000000000000001")})),r}},1691:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var r=n(84),a=n.n(r),c=n(508);function o(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){o(c,r,a,i,u,"next",e)}function u(e){o(c,r,a,i,u,"throw",e)}i(void 0)}))}}var u=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(c.a)(t),e.next=4,a.a.get(n,{params:{limit:1}});case 4:return r=e.sent,e.abrupt("return",r.data.results[0]||null);case 8:return e.prev=8,e.t0=e.catch(0),console.error("failed to retrieve last Tx from server",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=i(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Number.isInteger(Number.parseInt(t,10))){e.next=9;break}if(null!==n){e.next=7;break}return e.next=4,r.nonce();case 4:e.t0=e.sent.toString(),e.next=8;break;case 7:e.t0="".concat(n.nonce+1);case 8:return e.abrupt("return",e.t0);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),l=function(){var e=i(regeneratorRuntime.mark((function e(t,n,r){var a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getThreshold();case 2:if(1!==e.sent.toNumber()){e.next=7;break}return a=0===Number.parseInt(n),c=r&&r.isExecuted,e.abrupt("return",a||c);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},1692:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(1708),a=n.n(r),c=n(12);function o(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,a)}var i=function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r,o,i){var u,s,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=Object(c.k)(),t.next=3,u.eth.call({to:n,from:i,value:r,data:o});case 3:return s=t.sent,l=e.from(s.slice(2),"hex"),t.abrupt("return",a.a.rawDecode(["string"],l.slice(4))[0]);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var c=t.apply(e,n);function i(e){o(c,r,a,i,u,"next",e)}function u(e){o(c,r,a,i,u,"throw",e)}i(void 0)}))});return function(e,t,r,a){return n.apply(this,arguments)}}()}).call(this,n(11).Buffer)},1721:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),a=function(){return{heading:{padding:"".concat(r.md," ").concat(r.lg),justifyContent:"flex-start",boxSizing:"border-box",maxHeight:"75px"},annotation:{letterSpacing:"-1px",color:"#a2a8ba",marginRight:"auto",marginLeft:"20px"},manage:{fontSize:r.lg},closeIcon:{height:"35px",width:"35px"},qrCodeBtn:{cursor:"pointer"},formContainer:{padding:"".concat(r.md," ").concat(r.lg)},buttonRow:{height:"84px",justifyContent:"center","& > button":{fontFamily:"Averta",fontSize:r.md}},submitButton:{boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)",marginLeft:"15px"},dataInput:{"& TextField-root-294":{lineHeight:"auto",border:"green"}},selectAddress:{cursor:"pointer"},fullWidth:{justifyContent:"space-between"}}}},1859:function(e,t,n){"use strict";var r=n(479),a=n(379),c=n(501),o=n.n(c),i=n(0),u=n.n(i),s=n(27),l=n(70),f=n(1721),m=Object(a.a)(f.a);t.a=function(e){var t=e.onClose,n=e.subTitle,a=e.title,c=m();return u.a.createElement(l.a,{align:"center",className:c.heading,grow:!0},u.a.createElement(s.a,{className:c.manage,noMargin:!0,weight:"bolder"},a),u.a.createElement(s.a,{className:c.annotation},n),u.a.createElement(r.a,{disableRipple:!0,onClick:t},u.a.createElement(o.a,{className:c.closeIcon})))}},2334:function(e,t,n){"use strict";n.r(t);var r=n(379),a=n(212),c=n(0),o=n.n(c),i=n(47),u=n(2),s=n(533),l=n(95),f=n(96),m=n(97),d=n(80),p=n(50),b=n(27),g=n(70),x=n(72),v=n(1681),h=n(318),y=n(507),w=n(12),j=n(1859),O=n(1685),E=n(1683),k=n(32);function S(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){S(c,r,a,o,i,"next",e)}function i(e){S(c,r,a,o,i,"throw",e)}o(void 0)}))}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){a=!0,c=u}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=Object(r.a)((function(){return{heading:{padding:"".concat(u.md," ").concat(u.lg),justifyContent:"flex-start",boxSizing:"border-box",maxHeight:"75px"},annotation:{letterSpacing:"-1px",color:u.secondaryText,marginRight:"auto",marginLeft:"20px"},headingText:{fontSize:u.lg},closeIcon:{height:"35px",width:"35px"},container:{padding:"".concat(u.md," ").concat(u.lg)},value:{marginLeft:u.sm},outerData:{borderRadius:"5px",border:"1px solid ".concat(u.border),padding:"11px",minHeight:"21px"},data:{wordBreak:"break-all",overflow:"auto",fontSize:"14px",fontFamily:"Averta",maxHeight:"100px",letterSpacing:"normal",fontStretch:"normal",lineHeight:"1.43"},buttonRow:{height:"84px",justifyContent:"center","& > button":{fontFamily:"Averta",fontSize:u.md}},submitButton:{boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)",marginLeft:"15px"}}}));t.default=Object(a.withSnackbar)((function(e){var t=e.closeSnackbar,n=e.enqueueSnackbar,r=e.onClose,a=e.onPrev,u=e.tx,S=N(),A=Object(i.e)(),P=Object(i.f)(k.w).address,C=T(Object(c.useState)("< 0.001"),2),I=C[0],z=C[1];Object(c.useEffect)((function(){var e=!0;return function(){var t=R(regeneratorRuntime.mark((function t(){var n,r,a,c,o,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(w.k)().utils,r=n.fromWei,a=n.toBN,c=u.data?u.data.trim():"",t.next=4,Object(v.b)(P,u.contractAddress,c);case 4:o=t.sent,i=r(a(o),"ether"),s=Object(h.a)(i),e&&z(s);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[]);var M=function(){var e=R(regeneratorRuntime.mark((function e(){var a,c,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(w.k)(),c=u.contractAddress,o=u.data?u.data.trim():"",i=u.value?a.utils.toWei(u.value,"ether"):"0",A(Object(E.a)({safeAddress:P,to:c,valueInWei:i,txData:o,notifiedTransaction:x.c.STANDARD_TX,enqueueSnackbar:n,closeSnackbar:t})),r();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{onClose:r,subTitle:"2 of 2",title:"Contract Interaction"}),o.a.createElement(d.a,null),o.a.createElement(l.a,{className:S.container},o.a.createElement(g.a,{margin:"xs"},o.a.createElement(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Contract Address")),o.a.createElement(g.a,{align:"center",margin:"md"},o.a.createElement(s.a,{safeAddress:u.contractAddress})),o.a.createElement(g.a,{margin:"xs"},o.a.createElement(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Value")),o.a.createElement(g.a,{align:"center",margin:"md"},o.a.createElement(m.a,{xs:1},o.a.createElement(p.a,{alt:"Ether",height:28,onError:O.a,src:Object(y.c)("0").logoUri})),o.a.createElement(m.a,{layout:"column",xs:11},o.a.createElement(l.a,{justify:"left"},o.a.createElement(b.a,{className:S.value,noMargin:!0,size:"md",style:{margin:0}},u.value||0," ETH")))),o.a.createElement(g.a,{margin:"xs"},o.a.createElement(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Method")),o.a.createElement(g.a,{align:"center",margin:"md"},o.a.createElement(b.a,{className:S.value,size:"md",style:{margin:0}},u.selectedMethod.name)),u.selectedMethod.inputs.map((function(e,t){var n=e.name,r=e.type,a="methodInput-".concat(u.selectedMethod.name,"_").concat(t,"_").concat(r);return o.a.createElement(o.a.Fragment,{key:a},o.a.createElement(g.a,{margin:"xs"},o.a.createElement(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},n," (",r,")")),o.a.createElement(g.a,{align:"center",margin:"md"},o.a.createElement(b.a,{className:S.value,noMargin:!0,size:"md",style:{margin:0}},u[a])))})),o.a.createElement(g.a,{margin:"xs"},o.a.createElement(b.a,{color:"disabled",noMargin:!0,size:"md",style:{letterSpacing:"-0.5px"}},"Data (hex encoded)")),o.a.createElement(g.a,{align:"center",margin:"md"},o.a.createElement(m.a,{className:S.outerData},o.a.createElement(g.a,{className:S.data,size:"md"},u.data))),o.a.createElement(g.a,null,o.a.createElement(b.a,null,"You're about to create a transaction and will have to confirm it with your currently connected wallet. Make sure you have ".concat(I," (fee price) ETH in this wallet to fund this confirmation.")))),o.a.createElement(d.a,null),o.a.createElement(g.a,{align:"center",className:S.buttonRow},o.a.createElement(f.a,{minWidth:140,onClick:a},"Back"),o.a.createElement(f.a,{className:S.submitButton,color:"primary","data-testid":"submit-tx-btn",minWidth:140,onClick:M,type:"submit",variant:"contained"},"Submit")))}))}}]);