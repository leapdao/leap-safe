(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1711:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return l}));var n={},o={},a=function(e,t){o[e]=t},i=function(e){var t=function(t,r){Object.assign(this,r),this.name=e,this.message=t||e,this.stack=(new Error).stack};return t.prototype=new Error,n[e]=t,t};i("AccountNameRequired"),i("AccountNotSupported"),i("AmountRequired"),i("BluetoothRequired"),i("BtcUnmatchedApp"),i("CantOpenDevice"),i("CashAddrNotSupported"),i("CurrencyNotSupported"),i("DeviceAppVerifyNotSupported"),i("DeviceGenuineSocketEarlyClose"),i("DeviceNotGenuine"),i("DeviceOnDashboardExpected"),i("DeviceOnDashboardUnexpected"),i("DeviceInOSUExpected"),i("DeviceHalted"),i("DeviceNameInvalid"),i("DeviceSocketFail"),i("DeviceSocketNoBulkStatus"),i("DisconnectedDevice"),i("DisconnectedDeviceDuringOperation"),i("EnpointConfig");var s=i("EthAppPleaseEnableContractData"),c=(i("FeeEstimationFailed"),i("FirmwareNotRecognized"),i("HardResetFail"),i("InvalidXRPTag"),i("InvalidAddress"),i("InvalidAddressBecauseDestinationIsAlsoSource"),i("LatestMCUInstalledError"),i("UnknownMCU"),i("LedgerAPIError"),i("LedgerAPIErrorWithMessage"),i("LedgerAPINotAvailable"),i("ManagerAppAlreadyInstalled"),i("ManagerAppRelyOnBTC"),i("ManagerAppDepInstallRequired"),i("ManagerAppDepUninstallRequired"),i("ManagerDeviceLocked"),i("ManagerFirmwareNotEnoughSpace"),i("ManagerNotEnoughSpace"),i("ManagerUninstallBTCDep"),i("NetworkDown"),i("NoAddressesFound"),i("NotEnoughBalance"),i("NotEnoughBalanceToDelegate"),i("NotEnoughBalanceInParentAccount"),i("NotEnoughSpendableBalance"),i("NotEnoughBalanceBecauseDestinationNotCreated"),i("NoAccessToCamera"),i("NotEnoughGas"),i("NotSupportedLegacyAddress"),i("GasLessThanEstimate"),i("PasswordsDontMatch"),i("PasswordIncorrect"),i("RecommendSubAccountsToEmpty"),i("RecommendUndelegation"),i("TimeoutTagged"),i("UnexpectedBootloader"),i("MCUNotGenuineToDashboard"),i("RecipientRequired"),i("UnavailableTezosOriginatedAccountReceive"),i("UnavailableTezosOriginatedAccountSend"),i("UpdateFetchFileFail"),i("UpdateIncorrectHash"),i("UpdateIncorrectSig"),i("UpdateYourApp"),i("UserRefusedDeviceNameChange"),i("UserRefusedAddress"),i("UserRefusedFirmwareUpdate"),i("UserRefusedAllowManager"),i("UserRefusedOnDevice"),i("TransportOpenUserCancelled"),i("TransportInterfaceNotAvailable"),i("TransportRaceCondition"));i("TransportWebUSBGestureRequired"),i("DeviceShouldStayInApp"),i("WebsocketConnectionError"),i("WebsocketConnectionFailed"),i("WrongDeviceForAccount"),i("WrongAppForCurrency"),i("ETHAddressNonEIP"),i("CantScanQRCode"),i("FeeNotLoaded"),i("FeeRequired"),i("FeeTooHigh"),i("SyncError"),i("PairingFailed"),i("GenuineCheckFailed"),i("LedgerAPI4xx"),i("LedgerAPI5xx"),i("FirmwareOrAppUpdateRequired"),i("NoDBPathGiven"),i("DBWrongPassword"),i("DBNotReset");function d(e,t){this.name="TransportError",this.message=e,this.stack=(new Error).stack,this.id=t}d.prototype=new Error,a("TransportError",(function(e){return new d(e.message,e.id)}));var u={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function l(e){this.name="TransportStatusError";var t=Object.keys(u).find((function(t){return u[t]===e}))||"UNKNOWN_ERROR",r=function(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}(e)||t,n=e.toString(16);this.message="Ledger device: "+r+" (0x"+n+")",this.stack=(new Error).stack,this.statusCode=e,this.statusText=t}l.prototype=new Error,a("TransportStatusError",(function(e){return new l(e.statusCode)}))},2264:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"default",(function(){return s}));var n=r(2265),o=r(1711);r(109);function a(t){return e.from(t.startsWith("0x")?t.slice(2):t,"hex")}function i(e){return e?a(e):null}class s{constructor(e,t="w0w"){this.transport=void 0,this.transport=e,e.decorateAppAPIMethods(this,["getAddress","provideERC20TokenInformation","signTransaction","signPersonalMessage","getAppConfiguration","starkGetPublicKey","starkSignOrder","starkSignTransfer","starkProvideQuantum"],t)}getAddress(t,r,o){let a=Object(n.b)(t),i=e.alloc(1+4*a.length);return i[0]=a.length,a.forEach((e,t)=>{i.writeUInt32BE(e,1+4*t)}),this.transport.send(224,2,r?1:0,o?1:0,i).then(e=>{let t={},r=e[0],n=e[1+r];return t.publicKey=e.slice(1,1+r).toString("hex"),t.address="0x"+e.slice(1+r+1,1+r+1+n).toString("ascii"),o&&(t.chainCode=e.slice(1+r+1+n,1+r+1+n+32).toString("hex")),t})}provideERC20TokenInformation({data:e}){return this.transport.send(224,10,0,0,e).then(()=>!0,e=>{if(e&&27904===e.statusCode)return!1;throw e})}signTransaction(t,r){let a,i=Object(n.b)(t),s=0,c=e.from(r,"hex"),d=[];for(;s!==c.length;){let t=0===s?149-4*i.length:150,r=s+t>c.length?c.length-s:t,n=e.alloc(0===s?1+4*i.length+r:r);0===s?(n[0]=i.length,i.forEach((e,t)=>{n.writeUInt32BE(e,1+4*t)}),c.copy(n,1+4*i.length,s,s+r)):c.copy(n,0,s,s+r),d.push(n),s+=r}return Object(n.a)(d,(e,t)=>this.transport.send(224,4,0===t?0:128,0,e).then(e=>{a=e})).then(()=>({v:a.slice(0,1).toString("hex"),r:a.slice(1,33).toString("hex"),s:a.slice(33,65).toString("hex")}),e=>{throw(e=>e&&27264===e.statusCode?new o.a("Please enable Contract data on the Ethereum app Settings"):e)(e)})}getAppConfiguration(){return this.transport.send(224,6,0,0).then(e=>{let t={};return t.arbitraryDataEnabled=1&e[0],t.erc20ProvisioningNecessary=2&e[0],t.starkEnabled=4&e[0],t.version=e[1]+"."+e[2]+"."+e[3],t})}signPersonalMessage(t,r){let o,a=Object(n.b)(t),i=0,s=e.from(r,"hex"),c=[];for(;i!==s.length;){let t=0===i?149-4*a.length-4:150,r=i+t>s.length?s.length-i:t,n=e.alloc(0===i?1+4*a.length+4+r:r);0===i?(n[0]=a.length,a.forEach((e,t)=>{n.writeUInt32BE(e,1+4*t)}),n.writeUInt32BE(s.length,1+4*a.length),s.copy(n,1+4*a.length+4,i,i+r)):s.copy(n,0,i,i+r),c.push(n),i+=r}return Object(n.a)(c,(e,t)=>this.transport.send(224,8,0===t?0:128,0,e).then(e=>{o=e})).then(()=>({v:o[0],r:o.slice(1,33).toString("hex"),s:o.slice(33,65).toString("hex")}))}starkGetPublicKey(t,r){let o=Object(n.b)(t),a=e.alloc(1+4*o.length);return a[0]=o.length,o.forEach((e,t)=>{a.writeUInt32BE(e,1+4*t)}),this.transport.send(240,2,r?1:0,0,a).then(e=>e.slice(0,e.length-2))}starkSignOrder(t,r,o,a,s,c,d,u,l,h,p){const g=i(r),E=i(a);let I=Object(n.b)(t),S=e.alloc(1+4*I.length+20+32+20+32+4+4+8+8+4+4,0),N=0;return S[0]=I.length,I.forEach((e,t)=>{S.writeUInt32BE(e,1+4*t)}),N=1+4*I.length,g&&g.copy(S,N),N+=20,e.from(o.toString(16).padStart(64,"0"),"hex").copy(S,N),N+=32,E&&E.copy(S,N),N+=20,e.from(s.toString(16).padStart(64,"0"),"hex").copy(S,N),N+=32,S.writeUInt32BE(c,N),N+=4,S.writeUInt32BE(d,N),N+=4,e.from(u.toString(16).padStart(16,"0"),"hex").copy(S,N),N+=8,e.from(l.toString(16).padStart(16,"0"),"hex").copy(S,N),N+=8,S.writeUInt32BE(h,N),N+=4,S.writeUInt32BE(p,N),this.transport.send(240,4,1,0,S).then(e=>({r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")}))}starkSignTransfer(t,r,o,s,c,d,u,l,h){const p=i(r),g=a(s);let E=Object(n.b)(t),I=e.alloc(1+4*E.length+20+32+32+4+4+8+4+4,0),S=0;return I[0]=E.length,E.forEach((e,t)=>{I.writeUInt32BE(e,1+4*t)}),S=1+4*E.length,p&&p.copy(I,S),S+=20,e.from(o.toString(16).padStart(64,"0"),"hex").copy(I,S),S+=32,g.copy(I,S),S+=32,I.writeUInt32BE(c,S),S+=4,I.writeUInt32BE(d,S),S+=4,e.from(u.toString(16).padStart(16,"0"),"hex").copy(I,S),S+=8,I.writeUInt32BE(l,S),S+=4,I.writeUInt32BE(h,S),this.transport.send(240,4,2,0,I).then(e=>({r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")}))}starkProvideQuantum(t,r){const n=i(t);let o=e.alloc(52,0);return n&&n.copy(o,0),e.from(r.toString(16).padStart(64,"0"),"hex").copy(o,20),this.transport.send(240,8,0,0,o).then(()=>!0,e=>{if(e&&27904===e.statusCode)return!1;throw e})}}}.call(this,r(11).Buffer)},2265:function(e,t,r){"use strict";function n(e){let t=[];return e.split("/").forEach(e=>{let r=parseInt(e,10);isNaN(r)||(e.length>1&&"'"===e[e.length-1]&&(r+=2147483648),t.push(r))}),t}function o(e,t){return Promise.resolve().then(()=>function e(r,n,o){return r>=n.length?o:t(n[r],r).then((function(t){return o.push(t),e(r+1,n,o)}))}(0,e,[]))}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}))}}]);