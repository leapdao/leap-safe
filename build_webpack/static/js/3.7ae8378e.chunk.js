(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1716:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=void 0;var n,o=r(2118),s=(n=o)&&n.__esModule?n:{default:n};var i="function"===typeof Symbol;function a(e){return i&&"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){return a(e)?(0,s.default)(e):e},t.isAsync=a},1737:function(e,t){e.exports=function(){}},1739:function(e,t){function r(e){return e.sort((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:n(e)-n(t))}function n(e){return void 0===e||null===e?e:Number.parseInt(e,16)}function o(e){if(void 0===e||null===e)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function s(){return Math.floor(16*Math.random()).toString(16)}e.exports={minBlockRef:function(...e){return r(e)[0]},maxBlockRef:function(...e){const t=r(e);return t[t.length-1]},sortBlockRefs:r,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:n,incrementHexInt:function(e){if(void 0===e||null===e)return e;return o(n(e)+1)},intToHex:o,unsafeRandomBytes:function(e){let t="0x";for(let r=0;r<e;r++)t+=s(),t+=s();return t}}},1764:function(e,t,r){const n=r(320).EventEmitter,o=r(322).inherits,s=r(1765),i=r(2091),a=r(2094),c=r(2122),u=r(2125),f=(r(2126),r(1768)),l=function(){};function p(e){n.call(this),this.setMaxListeners(30),e=e||{};const t={sendAsync:this._handleAsync.bind(this)},r=e.blockTrackerProvider||t;this._blockTracker=e.blockTracker||new i({provider:r,pollingInterval:e.pollingInterval||4e3,setSkipCacheFlag:!0}),this._ready=new u,this.currentBlock=null,this._providers=[]}e.exports=p,o(p,n),p.prototype.start=function(e=l){const t=this;t._ready.go(),t._blockTracker.on("latest",e=>{t._getBlockByNumberWithRetry(e,(e,r)=>{if(e)return void this.emit("error",e);if(!r)return console.log(r),void this.emit("error",new Error("Could not find block"));const n=(o=r,{number:s.toBuffer(o.number),hash:s.toBuffer(o.hash),parentHash:s.toBuffer(o.parentHash),nonce:s.toBuffer(o.nonce),mixHash:s.toBuffer(o.mixHash),sha3Uncles:s.toBuffer(o.sha3Uncles),logsBloom:s.toBuffer(o.logsBloom),transactionsRoot:s.toBuffer(o.transactionsRoot),stateRoot:s.toBuffer(o.stateRoot),receiptsRoot:s.toBuffer(o.receiptRoot||o.receiptsRoot),miner:s.toBuffer(o.miner),difficulty:s.toBuffer(o.difficulty),totalDifficulty:s.toBuffer(o.totalDifficulty),size:s.toBuffer(o.size),extraData:s.toBuffer(o.extraData),gasLimit:s.toBuffer(o.gasLimit),gasUsed:s.toBuffer(o.gasUsed),timestamp:s.toBuffer(o.timestamp),transactions:o.transactions});var o;t._setCurrentBlock(n),t.emit("rawBlock",r),t.emit("latest",r)})}),t._blockTracker.on("sync",t.emit.bind(t,"sync")),t._blockTracker.on("error",t.emit.bind(t,"error")),t._running=!0,t.emit("start")},p.prototype.stop=function(){this._blockTracker.removeAllListeners(),this._running=!1,this.emit("stop")},p.prototype.isRunning=function(){return this._running},p.prototype.addProvider=function(e,t){const r=this;"number"===typeof t?r._providers.splice(t,0,e):r._providers.push(e),e.setEngine(this)},p.prototype.removeProvider=function(e){const t=this._providers.indexOf(e);if(t<0)throw new Error("Provider not found.");this._providers.splice(t,1)},p.prototype.send=function(e){throw new Error("Web3ProviderEngine does not support synchronous requests.")},p.prototype.sendAsync=function(e,t){const r=this;r._ready.await((function(){Array.isArray(e)?a(e,r._handleAsync.bind(r),t):r._handleAsync(e,t)}))},p.prototype._getBlockByNumberWithRetry=function(e,t){const r=this;let n=5;return void o();function o(){r._getBlockByNumber(e,s)}function s(e,r){return e?t(e):r?void t(null,r):n>0?(n--,void setTimeout((function(){o()}),1e3)):void t(null,null)}},p.prototype._getBlockByNumber=function(e,t){const r=f({method:"eth_getBlockByNumber",params:[e,!1],skipCache:!0});this._handleAsync(r,(e,r)=>e?t(e):t(null,r.result))},p.prototype._handleAsync=function(e,t){var r=this,n=-1,o=null,s=null,i=[];function a(r,n){s=r,o=n,c(i,(function(e,t){e?e(s,o,t):t()}),(function(){var r={id:e.id,jsonrpc:e.jsonrpc,result:o};null!=s?(r.error={message:s.stack||s.message||s,code:-32e3},t(s,r)):t(null,r)}))}!function t(o){if(n+=1,i.unshift(o),n>=r._providers.length)a(new Error('Request for method "'+e.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{r._providers[n].handleRequest(e,t,a)}catch(s){a(s)}}()},p.prototype._setCurrentBlock=function(e){this.currentBlock=e,this.emit("block",e)}},1765:function(e,t,r){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(1870),s=r(211),i=r(321),a=r(214),c=r(10),u=r(152),f=r(19).Buffer;Object.assign(t,r(122)),t.MAX_INTEGER=new c("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new c("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.SHA3_NULL_S=t.KECCAK256_NULL_S,t.KECCAK256_NULL=f.from(t.KECCAK256_NULL_S,"hex"),t.SHA3_NULL=t.KECCAK256_NULL,t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.SHA3_RLP_ARRAY_S=t.KECCAK256_RLP_ARRAY_S,t.KECCAK256_RLP_ARRAY=f.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.SHA3_RLP_ARRAY=t.KECCAK256_RLP_ARRAY,t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.SHA3_RLP_S=t.KECCAK256_RLP_S,t.KECCAK256_RLP=f.from(t.KECCAK256_RLP_S,"hex"),t.SHA3_RLP=t.KECCAK256_RLP,t.BN=c,t.rlp=a,t.secp256k1=s,t.zeros=function(e){return f.allocUnsafe(e).fill(0)},t.zeroAddress=function(){var e=t.zeros(20);return t.bufferToHex(e)},t.setLengthLeft=t.setLength=function(e,r,n){var o=t.zeros(r);return e=t.toBuffer(e),n?e.length<r?(e.copy(o),o):e.slice(0,r):e.length<r?(e.copy(o,r-e.length),o):e.slice(-r)},t.setLengthRight=function(e,r){return t.setLength(e,r,!0)},t.unpad=t.stripZeros=function(e){for(var r=(e=t.stripHexPrefix(e))[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e},t.toBuffer=function(e){if(!f.isBuffer(e))if(Array.isArray(e))e=f.from(e);else if("string"===typeof e)e=t.isHexString(e)?f.from(t.padToEven(t.stripHexPrefix(e)),"hex"):f.from(e);else if("number"===typeof e)e=t.intToBuffer(e);else if(null===e||void 0===e)e=f.allocUnsafe(0);else if(c.isBN(e))e=e.toArrayLike(f);else{if(!e.toArray)throw new Error("invalid type");e=f.from(e.toArray())}return e},t.bufferToInt=function(e){return new c(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(e){return new c(e).fromTwos(256)},t.toUnsigned=function(e){return f.from(e.toTwos(256).toArray())},t.keccak=function(e,r){return e=t.toBuffer(e),r||(r=256),o("keccak"+r).update(e).digest()},t.keccak256=function(e){return t.keccak(e)},t.sha3=t.keccak,t.sha256=function(e){return e=t.toBuffer(e),u("sha256").update(e).digest()},t.ripemd160=function(e,r){e=t.toBuffer(e);var n=u("rmd160").update(e).digest();return!0===r?t.setLength(n,32):n},t.rlphash=function(e){return t.keccak(a.encode(e))},t.isValidPrivate=function(e){return s.privateKeyVerify(e)},t.isValidPublic=function(e,t){return 64===e.length?s.publicKeyVerify(f.concat([f.from([4]),e])):!!t&&s.publicKeyVerify(e)},t.pubToAddress=t.publicToAddress=function(e,r){return e=t.toBuffer(e),r&&64!==e.length&&(e=s.publicKeyConvert(e,!1).slice(1)),i(64===e.length),t.keccak(e).slice(-20)};var l=t.privateToPublic=function(e){return e=t.toBuffer(e),s.publicKeyCreate(e,!1).slice(1)};t.importPublic=function(e){return 64!==(e=t.toBuffer(e)).length&&(e=s.publicKeyConvert(e,!1).slice(1)),e},t.ecsign=function(e,t){var r=s.sign(e,t),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},t.hashPersonalMessage=function(e){var r=t.toBuffer("\x19Ethereum Signed Message:\n"+e.length.toString());return t.keccak(f.concat([r,e]))},t.ecrecover=function(e,r,n,o){var i=f.concat([t.setLength(n,32),t.setLength(o,32)],64),a=r-27;if(0!==a&&1!==a)throw new Error("Invalid signature v value");var c=s.recover(e,i,a);return s.publicKeyConvert(c,!1).slice(1)},t.toRpcSig=function(e,r,n){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return t.bufferToHex(f.concat([t.setLengthLeft(r,32),t.setLengthLeft(n,32),t.toBuffer(e-27)]))},t.fromRpcSig=function(e){if(65!==(e=t.toBuffer(e)).length)throw new Error("Invalid signature length");var r=e[64];return r<27&&(r+=27),{v:r,r:e.slice(0,32),s:e.slice(32,64)}},t.privateToAddress=function(e){return t.publicToAddress(l(e))},t.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},t.isZeroAddress=function(e){return t.zeroAddress()===t.addHexPrefix(e)},t.toChecksumAddress=function(e){e=t.stripHexPrefix(e).toLowerCase();for(var r=t.keccak(e).toString("hex"),n="0x",o=0;o<e.length;o++)parseInt(r[o],16)>=8?n+=e[o].toUpperCase():n+=e[o];return n},t.isValidChecksumAddress=function(e){return t.isValidAddress(e)&&t.toChecksumAddress(e)===e},t.generateAddress=function(e,r){return e=t.toBuffer(e),r=(r=new c(r)).isZero()?null:f.from(r.toArray()),t.rlphash([e,r]).slice(-20)},t.isPrecompiled=function(e){var r=t.unpad(e);return 1===r.length&&r[0]>=1&&r[0]<=8},t.addHexPrefix=function(e){return"string"!==typeof e||t.isHexPrefixed(e)?e:"0x"+e},t.isValidSignature=function(e,t,r,n){var o=new c("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),s=new c("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===t.length&&32===r.length&&((27===e||28===e)&&(t=new c(t),r=new c(r),!(t.isZero()||t.gt(s)||r.isZero()||r.gt(s))&&(!1!==n||1!==new c(r).cmp(o))))},t.baToJSON=function(e){if(f.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var r=[],n=0;n<e.length;n++)r.push(t.baToJSON(e[n]));return r}},t.defineProperties=function(e,r,o){if(e.raw=[],e._fields=[],e.toJSON=function(r){if(r){var n={};return e._fields.forEach((function(t){n[t]="0x"+e[t].toString("hex")})),n}return t.baToJSON(this.raw)},e.serialize=function(){return a.encode(e.raw)},r.forEach((function(r,n){function o(){return e.raw[n]}function s(o){"00"!==(o=t.toBuffer(o)).toString("hex")||r.allowZero||(o=f.allocUnsafe(0)),r.allowLess&&r.length?(o=t.stripZeros(o),i(r.length>=o.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===o.length||!r.length||i(r.length===o.length,"The field "+r.name+" must have byte length of "+r.length),e.raw[n]=o}e._fields.push(r.name),Object.defineProperty(e,r.name,{enumerable:!0,configurable:!0,get:o,set:s}),r.default&&(e[r.name]=r.default),r.alias&&Object.defineProperty(e,r.alias,{enumerable:!1,configurable:!0,set:s,get:o})})),o)if("string"===typeof o&&(o=f.from(t.stripHexPrefix(o),"hex")),f.isBuffer(o)&&(o=a.decode(o)),Array.isArray(o)){if(o.length>e._fields.length)throw new Error("wrong number of fields in data");o.forEach((function(r,n){e[e._fields[n]]=t.toBuffer(r)}))}else{if("object"!==("undefined"===typeof o?"undefined":n(o)))throw new Error("invalid data");var s=Object.keys(o);r.forEach((function(t){-1!==s.indexOf(t.name)&&(e[t.name]=o[t.name]),-1!==s.indexOf(t.alias)&&(e[t.alias]=o[t.alias])}))}}},1766:function(e,t,r){var n=r(2096),o=r(1878);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},1767:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),o=0;o<r;o++)n[o]=e[t+o];return n},e.exports=t.default},1768:function(e,t,r){const n=r(2127),o=r(519);e.exports=function(e){return o({id:n(),jsonrpc:"2.0",params:[]},e)}},1769:function(e,t,r){(function(t){const n=t.browser?r(801):r(1813),o=r(322).inherits,s=r(1768),i=r(1814),{ethErrors:a,serializeError:c}=r(2128);function u(e){this.rpcUrl=e.rpcUrl}e.exports=u,o(u,i),u.prototype.handleRequest=function(e,t,r){const o=this.rpcUrl;let i=s(e);n({uri:o,method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i),rejectUnauthorized:!1,timeout:2e4},(function(e,t,n){if(e)return r(c(e));switch(t.statusCode){case 405:return r(a.rpc.methodNotFound());case 504:return function(){let e="Gateway timeout. The request took too long to process. ";e+="This can happen when querying logs over too wide a block range.";const t=new Error("Gateway timeout. The request took too long to process. This can happen when querying logs over too wide a block range.");return r(c(t))}();case 429:return function(){const e=new Error("Too Many Requests");return r(c(e))}();default:if(200!=t.statusCode){const e="Unknown Error: "+t.body,n=new Error(e);return r(c(n))}}let o;try{o=JSON.parse(n)}catch(e){return console.error(e.stack),r(c(e))}if(o.error)return r(o.error);r(null,o.result)}))}}).call(this,r(33))},1770:function(e,t,r){const n=r(2132),o=r(2133),s=r(322).inherits,i=r(1765),a=r(2135),c=r(519),u=r(2148),f=r(1814),l=r(2149),p=/^[0-9A-Fa-f]+$/g;function d(e){this.nonceLock=u(1),e.getAccounts&&(this.getAccounts=e.getAccounts),e.processTransaction&&(this.processTransaction=e.processTransaction),e.processMessage&&(this.processMessage=e.processMessage),e.processPersonalMessage&&(this.processPersonalMessage=e.processPersonalMessage),e.processTypedMessage&&(this.processTypedMessage=e.processTypedMessage),this.approveTransaction=e.approveTransaction||this.autoApprove,this.approveMessage=e.approveMessage||this.autoApprove,this.approvePersonalMessage=e.approvePersonalMessage||this.autoApprove,this.approveDecryptMessage=e.approveDecryptMessage||this.autoApprove,this.approveEncryptionPublicKey=e.approveEncryptionPublicKey||this.autoApprove,this.approveTypedMessage=e.approveTypedMessage||this.autoApprove,e.signTransaction&&(this.signTransaction=e.signTransaction||m("signTransaction")),e.signMessage&&(this.signMessage=e.signMessage||m("signMessage")),e.signPersonalMessage&&(this.signPersonalMessage=e.signPersonalMessage||m("signPersonalMessage")),e.decryptMessage&&(this.decryptMessage=e.decryptMessage||m("decryptMessage")),e.encryptionPublicKey&&(this.encryptionPublicKey=e.encryptionPublicKey||m("encryptionPublicKey")),e.signTypedMessage&&(this.signTypedMessage=e.signTypedMessage||m("signTypedMessage")),e.recoverPersonalSignature&&(this.recoverPersonalSignature=e.recoverPersonalSignature),e.publishTransaction&&(this.publishTransaction=e.publishTransaction),this.estimateGas=e.estimateGas||this.estimateGas,this.getGasPrice=e.getGasPrice||this.getGasPrice}function h(e){return e.toLowerCase()}function y(e){const t=i.addHexPrefix(e);return i.isValidAddress(t)}function g(e){const t=i.addHexPrefix(e);return!i.isValidAddress(t)&&v(e)}function v(e){return"string"===typeof e&&("0x"===e.slice(0,2)&&e.slice(2).match(p))}function m(e){return function(t,r){r(new Error('ProviderEngine - HookedWalletSubprovider - Must provide "'+e+'" fn in constructor options'))}}e.exports=d,s(d,f),d.prototype.handleRequest=function(e,t,r){const o=this;let s,i,a,u,f;switch(o._parityRequests={},o._parityRequestCount=0,e.method){case"eth_coinbase":return void o.getAccounts((function(e,t){if(e)return r(e);let n=t[0]||null;r(null,n)}));case"eth_accounts":return void o.getAccounts((function(e,t){if(e)return r(e);r(null,t)}));case"eth_sendTransaction":return s=e.params[0],void n([e=>o.validateTransaction(s,e),e=>o.processTransaction(s,e)],r);case"eth_signTransaction":return s=e.params[0],void n([e=>o.validateTransaction(s,e),e=>o.processSignTransaction(s,e)],r);case"eth_sign":return f=e.params[0],u=e.params[1],a=e.params[2]||{},i=c(a,{from:f,data:u}),void n([e=>o.validateMessage(i,e),e=>o.processMessage(i,e)],r);case"personal_sign":return function(){const t=e.params[0];if(g(e.params[1])&&y(t)){let t="The eth_personalSign method requires params ordered ";t+="[message, address]. This was previously handled incorrectly, ",t+="and has been corrected automatically. ",t+="Please switch this param order for smooth behavior in the future.",console.warn(t),f=e.params[0],u=e.params[1]}else u=e.params[0],f=e.params[1];a=e.params[2]||{},i=c(a,{from:f,data:u}),n([e=>o.validatePersonalMessage(i,e),e=>o.processPersonalMessage(i,e)],r)}();case"eth_decryptMessage":return function(){const t=e.params[0];if(g(e.params[1])&&y(t)){let t="The eth_decryptMessage method requires params ordered ";t+="[message, address]. This was previously handled incorrectly, ",t+="and has been corrected automatically. ",t+="Please switch this param order for smooth behavior in the future.",console.warn(t),f=e.params[0],u=e.params[1]}else u=e.params[0],f=e.params[1];a=e.params[2]||{},i=c(a,{from:f,data:u}),n([e=>o.validateDecryptMessage(i,e),e=>o.processDecryptMessage(i,e)],r)}();case"encryption_public_key":return function(){const t=e.params[0];n([e=>o.validateEncryptionPublicKey(t,e),e=>o.processEncryptionPublicKey(t,e)],r)}();case"personal_ecRecover":return function(){u=e.params[0];let t=e.params[1];a=e.params[2]||{},i=c(a,{sig:t,data:u}),o.recoverPersonalSignature(i,r)}();case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":return function(){const t=e.params[0],s=e.params[1];y(t)?(f=t,u=s):(u=t,f=s),a=e.params[2]||{},i=c(a,{from:f,data:u}),n([e=>o.validateTypedMessage(i,e),e=>o.processTypedMessage(i,e)],r)}();case"parity_postTransaction":return s=e.params[0],void o.parityPostTransaction(s,r);case"parity_postSign":return f=e.params[0],u=e.params[1],void o.parityPostSign(f,u,r);case"parity_checkRequest":return function(){const t=e.params[0];o.parityCheckRequest(t,r)}();case"parity_defaultAccount":return void o.getAccounts((function(e,t){if(e)return r(e);const n=t[0]||null;r(null,n)}));default:return void t()}},d.prototype.getAccounts=function(e){e(null,[])},d.prototype.processTransaction=function(e,t){const r=this;n([t=>r.approveTransaction(e,t),(e,t)=>r.checkApproval("transaction",e,t),t=>r.finalizeAndSubmitTx(e,t)],t)},d.prototype.processSignTransaction=function(e,t){const r=this;n([t=>r.approveTransaction(e,t),(e,t)=>r.checkApproval("transaction",e,t),t=>r.finalizeTx(e,t)],t)},d.prototype.processMessage=function(e,t){const r=this;n([t=>r.approveMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signMessage(e,t)],t)},d.prototype.processPersonalMessage=function(e,t){const r=this;n([t=>r.approvePersonalMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signPersonalMessage(e,t)],t)},d.prototype.processDecryptMessage=function(e,t){const r=this;n([t=>r.approveDecryptMessage(e,t),(e,t)=>r.checkApproval("decryptMessage",e,t),t=>r.decryptMessage(e,t)],t)},d.prototype.processEncryptionPublicKey=function(e,t){const r=this;n([t=>r.approveEncryptionPublicKey(e,t),(e,t)=>r.checkApproval("encryptionPublicKey",e,t),t=>r.encryptionPublicKey(e,t)],t)},d.prototype.processTypedMessage=function(e,t){const r=this;n([t=>r.approveTypedMessage(e,t),(e,t)=>r.checkApproval("message",e,t),t=>r.signTypedMessage(e,t)],t)},d.prototype.autoApprove=function(e,t){t(null,!0)},d.prototype.checkApproval=function(e,t,r){r(t?null:new Error("User denied "+e+" signature."))},d.prototype.parityPostTransaction=function(e,t){const r=this,n="0x"+r._parityRequestCount.toString(16);r._parityRequestCount++,r.emitPayload({method:"eth_sendTransaction",params:[e]},(function(e,t){if(e)return void(r._parityRequests[n]={error:e});const o=t.result;r._parityRequests[n]=o})),t(null,n)},d.prototype.parityPostSign=function(e,t,r){const n=this,o="0x"+n._parityRequestCount.toString(16);n._parityRequestCount++,n.emitPayload({method:"eth_sign",params:[e,t]},(function(e,t){if(e)return void(n._parityRequests[o]={error:e});const r=t.result;n._parityRequests[o]=r})),r(null,o)},d.prototype.parityCheckRequest=function(e,t){const r=this._parityRequests[e]||null;return r?r.error?t(r.error):void t(null,r):t(null,null)},d.prototype.recoverPersonalSignature=function(e,t){let r;try{r=a.recoverPersonalSignature(e)}catch(n){return t(n)}t(null,r)},d.prototype.validateTransaction=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign transaction."));this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign transaction for this address: "${e.from}"`))}))},d.prototype.validateMessage=function(e,t){if(void 0===e.from)return t(new Error("Undefined address - from address required to sign message."));this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}))},d.prototype.validatePersonalMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign personal message.")):void 0===e.data?t(new Error("Undefined message - message required to sign personal message.")):v(e.data)?void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))})):t(new Error("HookedWalletSubprovider - validateMessage - message was not encoded as hex."))},d.prototype.validateDecryptMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to decrypt message.")):void 0===e.data?t(new Error("Undefined message - message required to decrypt message.")):v(e.data)?void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to decrypt message for this address: "${e.from}"`))})):t(new Error("HookedWalletSubprovider - validateDecryptMessage - message was not encoded as hex."))},d.prototype.validateEncryptionPublicKey=function(e,t){this.validateSender(e,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to obtain encryption public key for this address: "${e}"`))}))},d.prototype.validateTypedMessage=function(e,t){return void 0===e.from?t(new Error("Undefined address - from address required to sign typed data.")):void 0===e.data?t(new Error("Undefined data - message required to sign typed data.")):void this.validateSender(e.from,(function(r,n){return r?t(r):n?void t():t(new Error(`Unknown address - unable to sign message for this address: "${e.from}"`))}))},d.prototype.validateSender=function(e,t){if(!e)return t(null,!1);this.getAccounts((function(r,n){if(r)return t(r);const o=-1!==n.map(h).indexOf(e.toLowerCase());t(null,o)}))},d.prototype.finalizeAndSubmitTx=function(e,t){const r=this;r.nonceLock.take((function(){n([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r),r.publishTransaction.bind(r)],(function(e,n){if(r.nonceLock.leave(),e)return t(e);t(null,n)}))}))},d.prototype.finalizeTx=function(e,t){const r=this;r.nonceLock.take((function(){n([r.fillInTxExtras.bind(r,e),r.signTransaction.bind(r)],(function(n,o){if(r.nonceLock.leave(),n)return t(n);t(null,{raw:o,tx:e})}))}))},d.prototype.publishTransaction=function(e,t){this.emitPayload({method:"eth_sendRawTransaction",params:[e]},(function(e,r){if(e)return t(e);t(null,r.result)}))},d.prototype.estimateGas=function(e,t){l(this.engine,e,t)},d.prototype.getGasPrice=function(e){this.emitPayload({method:"eth_gasPrice",params:[]},(function(t,r){if(t)return e(t);e(null,r.result)}))},d.prototype.fillInTxExtras=function(e,t){const r=this,n=e.from,s={};void 0===e.gasPrice&&(s.gasPrice=r.getGasPrice.bind(r)),void 0===e.nonce&&(s.nonce=r.emitPayload.bind(r,{method:"eth_getTransactionCount",params:[n,"pending"]})),void 0===e.gas&&(s.gas=r.estimateGas.bind(r,function(e){return{from:e.from,to:e.to,value:e.value,data:e.data,gas:e.gas,gasPrice:e.gasPrice,nonce:e.nonce}}(e))),o(s,(function(r,n){if(r)return t(r);const o={};n.gasPrice&&(o.gasPrice=n.gasPrice),n.nonce&&(o.nonce=n.nonce.result),n.gas&&(o.gas=n.gas),t(null,c(e,o))}))}},1771:function(e,t,r){const n=r(1884),o=r(2150);e.exports=class extends n{constructor(){super(({blockTracker:e,provider:t,engine:r})=>{const{events:n,middleware:s}=o({blockTracker:e,provider:t});return n.on("notification",e=>r.emit("data",null,e)),s})}}},1772:function(e,t,r){const n=r(1884),o=r(1887);e.exports=class extends n{constructor(){super(({blockTracker:e,provider:t,engine:r})=>o({blockTracker:e,provider:t}))}}},1804:function(e,t,r){const n=r(322),o=r(320);var s="object"===typeof Reflect?Reflect:null,i=s&&"function"===typeof s.apply?s.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function a(){o.call(this)}function c(e,t,r){try{i(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function u(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}e.exports=a,n.inherits(a,o),a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var i=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw i.context=s,i}var a=o[e];if(void 0===a)return!1;if("function"===typeof a)c(a,this,t);else{var f=a.length,l=u(a,f);for(r=0;r<f;++r)c(l[r],this,t)}return!0}},1805:function(e,t,r){var n=r(1874),o=r(2097),s=r(2098),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):s(e)}},1806:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default},1807:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},1808:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default},1809:function(e,t,r){var n="undefined"!==typeof JSON?JSON:r(1810);e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var r=t.space||"";"number"===typeof r&&(r=Array(r+1).join(" "));var i,a="boolean"===typeof t.cycles&&t.cycles,c=t.replacer||function(e,t){return t},u=t.cmp&&(i=t.cmp,function(e){return function(t,r){var n={key:t,value:e[t]},o={key:r,value:e[r]};return i(n,o)}}),f=[];return function e(t,i,l,p){var d=r?"\n"+new Array(p+1).join(r):"",h=r?": ":":";if(l&&l.toJSON&&"function"===typeof l.toJSON&&(l=l.toJSON()),void 0!==(l=c.call(t,i,l))){if("object"!==typeof l||null===l)return n.stringify(l);if(o(l)){for(var y=[],g=0;g<l.length;g++){var v=e(l,g,l[g],p+1)||n.stringify(null);y.push(d+r+v)}return"["+y.join(",")+d+"]"}if(-1!==f.indexOf(l)){if(a)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}f.push(l);var m=s(l).sort(u&&u(l));for(y=[],g=0;g<m.length;g++){var _=e(l,i=m[g],l[i],p+1);if(_){var b=n.stringify(i)+h+_;y.push(d+r+b)}}return f.splice(f.indexOf(l),1),"{"+y.join(",")+d+"}"}}({"":e},"",e,0)};var o=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},s=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r}},1810:function(e,t,r){t.parse=r(1811),t.stringify=r(1812)},1811:function(e,t){var r,n,o,s,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(e){throw{name:"SyntaxError",message:e,at:r,text:o}},c=function(e){return e&&e!==n&&a("Expected '"+e+"' instead of '"+n+"'"),n=o.charAt(r),r+=1,n},u=function(){var e,t="";for("-"===n&&(t="-",c("-"));n>="0"&&n<="9";)t+=n,c();if("."===n)for(t+=".";c()&&n>="0"&&n<="9";)t+=n;if("e"===n||"E"===n)for(t+=n,c(),"-"!==n&&"+"!==n||(t+=n,c());n>="0"&&n<="9";)t+=n,c();if(e=+t,isFinite(e))return e;a("Bad number")},f=function(){var e,t,r,o="";if('"'===n)for(;c();){if('"'===n)return c(),o;if("\\"===n)if(c(),"u"===n){for(r=0,t=0;t<4&&(e=parseInt(c(),16),isFinite(e));t+=1)r=16*r+e;o+=String.fromCharCode(r)}else{if("string"!==typeof i[n])break;o+=i[n]}else o+=n}a("Bad string")},l=function(){for(;n&&n<=" ";)c()};s=function(){switch(l(),n){case"{":return function(){var e,t={};if("{"===n){if(c("{"),l(),"}"===n)return c("}"),t;for(;n;){if(e=f(),l(),c(":"),Object.hasOwnProperty.call(t,e)&&a('Duplicate key "'+e+'"'),t[e]=s(),l(),"}"===n)return c("}"),t;c(","),l()}}a("Bad object")}();case"[":return function(){var e=[];if("["===n){if(c("["),l(),"]"===n)return c("]"),e;for(;n;){if(e.push(s()),l(),"]"===n)return c("]"),e;c(","),l()}}a("Bad array")}();case'"':return f();case"-":return u();default:return n>="0"&&n<="9"?u():function(){switch(n){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}a("Unexpected '"+n+"'")}()}},e.exports=function(e,t){var i;return o=e,r=0,n=" ",i=s(),l(),n&&a("Syntax error"),"function"===typeof t?function e(r,n){var o,s,i=r[n];if(i&&"object"===typeof i)for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(void 0!==(s=e(i,o))?i[o]=s:delete i[o]);return t.call(r,n,i)}({"":i},""):i}},1812:function(e,t){var r,n,o,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,(function(e){var t=i[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}e.exports=function(e,t,s){var i;if(r="",n="","number"===typeof s)for(i=0;i<s;i+=1)n+=" ";else"string"===typeof s&&(n=s);if(o=t,t&&"function"!==typeof t&&("object"!==typeof t||"number"!==typeof t.length))throw new Error("JSON.stringify");return function e(t,s){var i,c,u,f,l,p=r,d=s[t];switch(d&&"object"===typeof d&&"function"===typeof d.toJSON&&(d=d.toJSON(t)),"function"===typeof o&&(d=o.call(s,t,d)),typeof d){case"string":return a(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(r+=n,l=[],"[object Array]"===Object.prototype.toString.apply(d)){for(f=d.length,i=0;i<f;i+=1)l[i]=e(i,d)||"null";return u=0===l.length?"[]":r?"[\n"+r+l.join(",\n"+r)+"\n"+p+"]":"["+l.join(",")+"]",r=p,u}if(o&&"object"===typeof o)for(f=o.length,i=0;i<f;i+=1)"string"===typeof(c=o[i])&&(u=e(c,d))&&l.push(a(c)+(r?": ":":")+u);else for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&(u=e(c,d))&&l.push(a(c)+(r?": ":":")+u);return u=0===l.length?"{}":r?"{\n"+r+l.join(",\n"+r)+"\n"+p+"}":"{"+l.join(",")+"}",r=p,u}}("",{"":e})}},1814:function(e,t,r){const n=r(1768);function o(){}e.exports=o,o.prototype.setEngine=function(e){const t=this;t.engine||(t.engine=e,e.on("block",(function(e){t.currentBlock=e})),e.on("start",(function(){t.start()})),e.on("stop",(function(){t.stop()})))},o.prototype.handleRequest=function(e,t,r){throw new Error("Subproviders should override `handleRequest`.")},o.prototype.emitPayload=function(e,t){this.engine.sendAsync(n(e),t)},o.prototype.stop=function(){},o.prototype.start=function(){}},1815:function(e,t,r){const n=r(2129);class o extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!==typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n(this.serialize(),s,2)}}function s(e,t){if("[Circular]"!==t)return t}e.exports={EthereumRpcError:o,EthereumProviderError:class extends o{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}}},1816:function(e){e.exports=JSON.parse('{"rpc":{"invalidInput":-32000,"resourceNotFound":-32001,"resourceUnavailable":-32002,"transactionRejected":-32003,"methodNotSupported":-32004,"parse":-32700,"invalidRequest":-32600,"methodNotFound":-32601,"invalidParams":-32602,"internal":-32603},"provider":{"userRejectedRequest":4001,"unauthorized":4100,"unsupportedMethod":4200}}')},1818:function(e,t,r){const n=r(1804);e.exports=class extends n{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(e=>this.emit("update",e))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}},1819:function(e,t){function r(e){return void 0===e||null===e?e:Number.parseInt(e,16)}function n(e){if(void 0===e||null===e)return e;return"0x"+e.toString(16)}e.exports=async function({provider:e,fromBlock:t,toBlock:o}){t||(t=o);const s=r(t),i=r(o),a=Array(i-s+1).fill().map((e,t)=>s+t).map(n);return await Promise.all(a.map(t=>function(e,t,r){return new Promise((n,o)=>{e.sendAsync({id:1,jsonrpc:"2.0",method:t,params:r},(e,t)=>{if(e)return o(e);n(t.result)})})}(e,"eth_getBlockByNumber",[t,!1])))}},1870:function(e,t,r){"use strict";e.exports=r(2086)(r(2089))},1871:function(e,t,r){"use strict";const n=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];return new r((r,o)=>{t.errorFirst?n.push((function(e,n){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),o(t)):r(t)}else e?o(e):r(n)})):n.push((function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];r(e)}else r(e)})),e.apply(this,n)})};e.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=e=>{const r=t=>"string"===typeof t?e===t:t.test(e);return t.include?t.include.some(r):!t.exclude.some(r)};let o;o="function"===typeof e?function(){return t.excludeMain?e.apply(this,arguments):n(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const s in e){const i=e[s];o[s]="function"===typeof i&&r(s)?n(i,t):i}return o}},1872:function(e,t,r){const n=r(519),o=r(2093)();function s(e){this.currentProvider=e}function i(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function a(e,t){return function(){const r=this;var n=[].slice.call(arguments),o=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},o)}}e.exports=s,s.prototype.getBalance=a(2,"eth_getBalance"),s.prototype.getCode=a(2,"eth_getCode"),s.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),s.prototype.getStorageAt=a(3,"eth_getStorageAt"),s.prototype.call=a(2,"eth_call"),s.prototype.protocolVersion=i("eth_protocolVersion"),s.prototype.syncing=i("eth_syncing"),s.prototype.coinbase=i("eth_coinbase"),s.prototype.mining=i("eth_mining"),s.prototype.hashrate=i("eth_hashrate"),s.prototype.gasPrice=i("eth_gasPrice"),s.prototype.accounts=i("eth_accounts"),s.prototype.blockNumber=i("eth_blockNumber"),s.prototype.getBlockTransactionCountByHash=i("eth_getBlockTransactionCountByHash"),s.prototype.getBlockTransactionCountByNumber=i("eth_getBlockTransactionCountByNumber"),s.prototype.getUncleCountByBlockHash=i("eth_getUncleCountByBlockHash"),s.prototype.getUncleCountByBlockNumber=i("eth_getUncleCountByBlockNumber"),s.prototype.sign=i("eth_sign"),s.prototype.sendTransaction=i("eth_sendTransaction"),s.prototype.sendRawTransaction=i("eth_sendRawTransaction"),s.prototype.estimateGas=i("eth_estimateGas"),s.prototype.getBlockByHash=i("eth_getBlockByHash"),s.prototype.getBlockByNumber=i("eth_getBlockByNumber"),s.prototype.getTransactionByHash=i("eth_getTransactionByHash"),s.prototype.getTransactionByBlockHashAndIndex=i("eth_getTransactionByBlockHashAndIndex"),s.prototype.getTransactionByBlockNumberAndIndex=i("eth_getTransactionByBlockNumberAndIndex"),s.prototype.getTransactionReceipt=i("eth_getTransactionReceipt"),s.prototype.getUncleByBlockHashAndIndex=i("eth_getUncleByBlockHashAndIndex"),s.prototype.getUncleByBlockNumberAndIndex=i("eth_getUncleByBlockNumberAndIndex"),s.prototype.getCompilers=i("eth_getCompilers"),s.prototype.compileLLL=i("eth_compileLLL"),s.prototype.compileSolidity=i("eth_compileSolidity"),s.prototype.compileSerpent=i("eth_compileSerpent"),s.prototype.newFilter=i("eth_newFilter"),s.prototype.newBlockFilter=i("eth_newBlockFilter"),s.prototype.newPendingTransactionFilter=i("eth_newPendingTransactionFilter"),s.prototype.uninstallFilter=i("eth_uninstallFilter"),s.prototype.getFilterChanges=i("eth_getFilterChanges"),s.prototype.getFilterLogs=i("eth_getFilterLogs"),s.prototype.getLogs=i("eth_getLogs"),s.prototype.getWork=i("eth_getWork"),s.prototype.submitWork=i("eth_submitWork"),s.prototype.submitHashrate=i("eth_submitHashrate"),s.prototype.sendAsync=function(e,t){var r;this.currentProvider.sendAsync((r=e,n({id:o(),jsonrpc:"2.0",params:[]},r)),(function(e,r){if(!e&&r.error&&(e=new Error("EthQuery - RPC Error - "+r.error.message)),e)return t(e);t(null,r.result)}))}},1873:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){((0,n.default)(e)?p:d)(e,(0,f.default)(t),r)};var n=l(r(1766)),o=l(r(1879)),s=l(r(2099)),i=l(r(1882)),a=l(r(1737)),c=l(r(1806)),u=l(r(1808)),f=l(r(1716));function l(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){r=(0,c.default)(r||a.default);var n=0,s=0,i=e.length;function f(e,t){e?r(e):++s!==i&&t!==o.default||r(null)}for(0===i&&r(null);n<i;n++)t(e[n],n,(0,u.default)(f))}var d=(0,i.default)(s.default,1/0);e.exports=t.default},1874:function(e,t,r){var n=r(1875).Symbol;e.exports=n},1875:function(e,t,r){var n=r(1876),o="object"==typeof self&&self&&self.Object===Object&&self,s=n||o||Function("return this")();e.exports=s},1876:function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(16))},1877:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},1878:function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},1879:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},1880:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,c){if(c=(0,o.default)(c||n.default),e<=0||!t)return c(null);var u=(0,s.default)(t),f=!1,l=0,p=!1;function d(e,t){if(l-=1,e)f=!0,c(e);else{if(t===a.default||f&&l<=0)return f=!0,c(null);p||h()}}function h(){for(p=!0;l<e&&!f;){var t=u();if(null===t)return f=!0,void(l<=0&&c(null));l+=1,r(t.value,t.key,(0,i.default)(d))}p=!1}h()}};var n=c(r(1737)),o=c(r(1806)),s=c(r(2100)),i=c(r(1808)),a=c(r(1879));function c(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},1881:function(e,t){var r=Array.isArray;e.exports=r},1882:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(r,n,o){return e(r,t,n,o)}},e.exports=t.default},1883:function(e,t,r){const n=r(2130),o=r(1816).rpc.internal,{EthereumRpcError:s}=r(1815),i={code:o,message:a(o)};function a(e,t="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const t=e.toString();if(n[t])return n[t].message;if(u(e))return"Unspecified server error."}return t}function c(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n[t]||!!u(e)}function u(e){return e>=-32099&&e<=-32e3}function f(e){return e&&"object"===typeof e&&!Array.isArray(e)?Object.assign({},e):e}e.exports={getMessageFromCode:a,isValidCode:c,serializeError:function(e,t=i){if(!t||!Number.isInteger(t.code)||"string"!==typeof t.message)throw new Error("fallbackError must contain integer number code and string message.");if(e instanceof s)return e.serialize();const r={};return e&&c(e.code)?(r.code=e.code,e.message&&"string"===typeof e.message?(r.message=e.message,e.hasOwnProperty("data")&&(r.data=e.data)):(r.message=a(r.code),r.data={originalError:f(e)})):(r.code=t.code,r.message=e&&e.message?e.message:t.message,r.data={originalError:f(e)}),e&&e.stack&&(r.stack=e.stack),r},JSON_RPC_SERVER_ERROR_MESSAGE:"Unspecified server error."}},1884:function(e,t,r){const n=r(1814);e.exports=class extends n{constructor(e){if(super(),!e)throw new Error("JsonRpcEngineMiddlewareSubprovider - no constructorFn specified");this._constructorFn=e}setEngine(e){if(this.middleware)throw new Error("JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice");const t=e._blockTracker,r=this._constructorFn({engine:e,provider:e,blockTracker:t});if(!r)throw new Error("JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware");if("function"!==typeof r)throw new Error("JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function");this.middleware=r}handleRequest(e,t,r){const n={id:e.id};this.middleware(e,n,(function(e){t((t,r,o)=>{t?(delete n.result,n.error={message:t.message||t}):n.result=r,e?e(o):o()})}),(function(e){if(e)return r(e);r(null,n.result)}))}}},1885:function(e,t,r){e.exports=r(2151)},1886:function(e,t,r){const n=r(2152);e.exports=function(e){return(t,r,o,s)=>{let i=null;const a=e(t,r,(async function(){return i=function(){return new Promise(e=>{o(t=>e(t))})}(),void await i}));n(a)(e=>{i?n(i)((t,r)=>{if(t)return console.error(t),s(t);r(e)}):s(e)})}}},1887:function(e,t,r){const n=r(2155).Mutex,o=r(1886),s=r(1885),i=r(2156),a=r(2159),c=r(2160),{intToHex:u,hexToInt:f}=r(1739);function l(e){return p(async(...t)=>{const r=await e(...t);return u(r.id)})}function p(e){return o(async(t,r)=>{const n=await e.apply(null,t.params);r.result=n})}function d(e,t){const r=[];for(let n in e)r.push(e[n]);return r}e.exports=function({blockTracker:e,provider:t}){let r=0,o={};const h=new n,y=function({mutex:e}){return t=>async(r,n,o,s)=>{(await e.acquire())(),t(r,n,o,s)}}({mutex:h}),g=s({eth_newFilter:y(l(m)),eth_newBlockFilter:y(l(_)),eth_newPendingTransactionFilter:y(l(b)),eth_uninstallFilter:y(p(x)),eth_getFilterChanges:y(p(w)),eth_getFilterLogs:y(p(k))}),v=async({oldBlock:e,newBlock:t})=>{if(0===o.length)return;const r=await h.acquire();try{await Promise.all(d(o).map(async r=>{try{await r.update({oldBlock:e,newBlock:t})}catch(n){console.error(n)}}))}catch(n){console.error(n)}r()};return g.newLogFilter=m,g.newBlockFilter=_,g.newPendingTransactionFilter=b,g.uninstallFilter=x,g.getFilterChanges=w,g.getFilterLogs=k,g.destroy=()=>{!async function(){const e=d(o).length;o={},A({prevFilterCount:e,newFilterCount:0})}()},g;async function m(e){const r=new i({provider:t,params:e});await B(r);return r}async function _(){const e=new a({provider:t});await B(e);return e}async function b(){const e=new c({provider:t});await B(e);return e}async function w(e){const t=f(e),r=o[t];if(!r)throw new Error(`No filter for index "${t}"`);return r.getChangesAndClear()}async function k(e){const t=f(e),r=o[t];if(!r)throw new Error(`No filter for index "${t}"`);return"log"===r.type?results=r.getAllResults():results=[],results}async function x(e){const t=f(e),r=o[t],n=Boolean(r);return n&&await async function(e){const t=d(o).length;delete o[e];const r=d(o).length;A({prevFilterCount:t,newFilterCount:r})}(t),n}async function B(t){const n=d(o).length,s=await e.getLatestBlock();return await t.initialize({currentBlock:s}),r++,o[r]=t,t.id=r,t.idHex=u(r),A({prevFilterCount:n,newFilterCount:d(o).length}),r}function A({prevFilterCount:t,newFilterCount:r}){0===t&&r>0?e.on("sync",v):t>0&&0===r&&e.removeListener("sync",v)}}},2086:function(e,t,r){"use strict";var n=r(2087),o=r(2088);e.exports=function(e){var t=n(e),r=o(e);return function(e,n){switch("string"===typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},2087:function(e,t,r){"use strict";var n=r(19).Buffer,o=r(174).Transform,s=r(14);e.exports=function(e){function t(t,r,n,s,i){o.call(this,i),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=s,this._options=i,this._state=new e,this._state.initialize(t,r),this._finalized=!1}return s(t,o),t.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(o){n=o}r(n)},t.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)},t.prototype.update=function(e,t){if(!n.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this},t.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){var e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}},2088:function(e,t,r){"use strict";var n=r(19).Buffer,o=r(174).Transform,s=r(14);e.exports=function(e){function t(t,r,n,s){o.call(this,s),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=s,this._state=new e,this._state.initialize(t,r),this._finalized=!1}return s(t,o),t.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(o){n=o}r(n)},t.prototype._flush=function(){},t.prototype._read=function(e){this.push(this.squeeze(e))},t.prototype.update=function(e,t){if(!n.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this},t.prototype.squeeze=function(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){var e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}},2089:function(e,t,r){"use strict";var n=r(19).Buffer,o=r(2090);function s(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}s.prototype.initialize=function(e,t){for(var r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},s.prototype.absorb=function(e){for(var t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(o.p1600(this.state),this.count=0)},s.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!==(128&e)&&this.count===this.blockSize-1&&o.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,o.p1600(this.state),this.count=0,this.squeezing=!0},s.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);for(var t=n.alloc(e),r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(o.p1600(this.state),this.count=0);return t},s.prototype.copy=function(e){for(var t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},e.exports=s},2090:function(e,t,r){"use strict";var n=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];t.p1600=function(e){for(var t=0;t<24;++t){var r=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],i=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],l=e[8]^e[18]^e[28]^e[38]^e[48],p=e[9]^e[19]^e[29]^e[39]^e[49],d=l^(s<<1|i>>>31),h=p^(i<<1|s>>>31),y=e[0]^d,g=e[1]^h,v=e[10]^d,m=e[11]^h,_=e[20]^d,b=e[21]^h,w=e[30]^d,k=e[31]^h,x=e[40]^d,B=e[41]^h;d=r^(a<<1|c>>>31),h=o^(c<<1|a>>>31);var A=e[2]^d,T=e[3]^h,S=e[12]^d,j=e[13]^h,P=e[22]^d,E=e[23]^h,R=e[32]^d,C=e[33]^h,M=e[42]^d,O=e[43]^h;d=s^(u<<1|f>>>31),h=i^(f<<1|u>>>31);var L=e[4]^d,N=e[5]^h,F=e[14]^d,I=e[15]^h,H=e[24]^d,U=e[25]^h,q=e[34]^d,z=e[35]^h,K=e[44]^d,D=e[45]^h;d=a^(l<<1|p>>>31),h=c^(p<<1|l>>>31);var J=e[6]^d,G=e[7]^h,$=e[16]^d,V=e[17]^h,W=e[26]^d,Z=e[27]^h,Y=e[36]^d,Q=e[37]^h,X=e[46]^d,ee=e[47]^h;d=u^(r<<1|o>>>31),h=f^(o<<1|r>>>31);var te=e[8]^d,re=e[9]^h,ne=e[18]^d,oe=e[19]^h,se=e[28]^d,ie=e[29]^h,ae=e[38]^d,ce=e[39]^h,ue=e[48]^d,fe=e[49]^h,le=y,pe=g,de=m<<4|v>>>28,he=v<<4|m>>>28,ye=_<<3|b>>>29,ge=b<<3|_>>>29,ve=k<<9|w>>>23,me=w<<9|k>>>23,_e=x<<18|B>>>14,be=B<<18|x>>>14,we=A<<1|T>>>31,ke=T<<1|A>>>31,xe=j<<12|S>>>20,Be=S<<12|j>>>20,Ae=P<<10|E>>>22,Te=E<<10|P>>>22,Se=C<<13|R>>>19,je=R<<13|C>>>19,Pe=M<<2|O>>>30,Ee=O<<2|M>>>30,Re=N<<30|L>>>2,Ce=L<<30|N>>>2,Me=F<<6|I>>>26,Oe=I<<6|F>>>26,Le=U<<11|H>>>21,Ne=H<<11|U>>>21,Fe=q<<15|z>>>17,Ie=z<<15|q>>>17,He=D<<29|K>>>3,Ue=K<<29|D>>>3,qe=J<<28|G>>>4,ze=G<<28|J>>>4,Ke=V<<23|$>>>9,De=$<<23|V>>>9,Je=W<<25|Z>>>7,Ge=Z<<25|W>>>7,$e=Y<<21|Q>>>11,Ve=Q<<21|Y>>>11,We=ee<<24|X>>>8,Ze=X<<24|ee>>>8,Ye=te<<27|re>>>5,Qe=re<<27|te>>>5,Xe=ne<<20|oe>>>12,et=oe<<20|ne>>>12,tt=ie<<7|se>>>25,rt=se<<7|ie>>>25,nt=ae<<8|ce>>>24,ot=ce<<8|ae>>>24,st=ue<<14|fe>>>18,it=fe<<14|ue>>>18;e[0]=le^~xe&Le,e[1]=pe^~Be&Ne,e[10]=qe^~Xe&ye,e[11]=ze^~et&ge,e[20]=we^~Me&Je,e[21]=ke^~Oe&Ge,e[30]=Ye^~de&Ae,e[31]=Qe^~he&Te,e[40]=Re^~Ke&tt,e[41]=Ce^~De&rt,e[2]=xe^~Le&$e,e[3]=Be^~Ne&Ve,e[12]=Xe^~ye&Se,e[13]=et^~ge&je,e[22]=Me^~Je&nt,e[23]=Oe^~Ge&ot,e[32]=de^~Ae&Fe,e[33]=he^~Te&Ie,e[42]=Ke^~tt&ve,e[43]=De^~rt&me,e[4]=Le^~$e&st,e[5]=Ne^~Ve&it,e[14]=ye^~Se&He,e[15]=ge^~je&Ue,e[24]=Je^~nt&_e,e[25]=Ge^~ot&be,e[34]=Ae^~Fe&We,e[35]=Te^~Ie&Ze,e[44]=tt^~ve&Pe,e[45]=rt^~me&Ee,e[6]=$e^~st&le,e[7]=Ve^~it&pe,e[16]=Se^~He&qe,e[17]=je^~Ue&ze,e[26]=nt^~_e&we,e[27]=ot^~be&ke,e[36]=Fe^~We&Ye,e[37]=Ie^~Ze&Qe,e[46]=ve^~Pe&Re,e[47]=me^~Ee&Ce,e[8]=st^~le&xe,e[9]=it^~pe&Be,e[18]=He^~qe&Xe,e[19]=Ue^~ze&et,e[28]=_e^~we&Me,e[29]=be^~ke&Oe,e[38]=We^~Ye&de,e[39]=Ze^~Qe&he,e[48]=Pe^~Re&Ke,e[49]=Ee^~Ce&De,e[0]^=n[2*t],e[1]^=n[2*t+1]}}},2091:function(e,t,r){const n=r(1871),o=r(2092);function s(e,t){return new Promise(r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()})}e.exports=class extends o{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const t=e.pollingInterval||2e4,r=e.retryTimeout||t/10,n=void 0===e.keepEventLoopActive||e.keepEventLoopActive,o=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:t},e)),this._provider=e.provider,this._pollingInterval=t,this._retryTimeout=r,this._keepEventLoopActive=n,this._setSkipCacheFlag=o}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await s(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error("PollingBlockTracker - encountered an error while attempting to update latest block:\n"+e.stack);try{this.emit("error",r)}catch(t){console.error(r)}await s(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const t=await n(t=>this._provider.sendAsync(e,t))();if(t.error)throw new Error("PollingBlockTracker - encountered error fetching block:\n"+t.error);return t.result}}},2092:function(e,t,r){r(1872),r(1871);const n=r(1804),o=(e,t)=>e+t,s=["sync","latest"];function i(e){return Number.parseInt(e,16)}e.exports=class extends n{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||2e4,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){if(this._currentBlock)return this._currentBlock;return await new Promise(e=>this.once("latest",e))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,t){s.includes(e)&&this._maybeStart()}_onRemoveListener(e,t){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return s.map(e=>this.listenerCount(e)).reduce(o)}_newPotentialLatest(e){const t=this._currentBlock;t&&i(e)<=i(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}},2093:function(e,t){e.exports=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r="undefined"!==typeof e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}}},2094:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(2095)),o=s(r(2121));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(o.default),e.exports=t.default},2095:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,s){return e(n.default,t,(0,o.default)(r),s)}};var n=s(r(1873)),o=s(r(1716));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},2096:function(e,t,r){var n=r(1805),o=r(1877);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},2097:function(e,t,r){var n=r(1874),o=Object.prototype,s=o.hasOwnProperty,i=o.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(c){}var o=i.call(e);return n&&(t?e[a]=r:delete e[a]),o}},2098:function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},2099:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,s){(0,n.default)(t)(e,(0,o.default)(r),s)};var n=s(r(1880)),o=s(r(1716));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},2100:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t=(0,o.default)(e);return t?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(t):function(e){var t=(0,s.default)(e),r=-1,n=t.length;return function(){var o=t[++r];return r<n?{value:e[o],key:o}:null}}(e)};var n=i(r(1766)),o=i(r(2101)),s=i(r(2102));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},2101:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n&&e[n]&&e[n]()};var n="function"===typeof Symbol&&Symbol.iterator;e.exports=t.default},2102:function(e,t,r){var n=r(2103),o=r(2114),s=r(1766);e.exports=function(e){return s(e)?n(e):o(e)}},2103:function(e,t,r){var n=r(2104),o=r(2105),s=r(1881),i=r(2107),a=r(2109),c=r(2110),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=s(e),f=!r&&o(e),l=!r&&!f&&i(e),p=!r&&!f&&!l&&c(e),d=r||f||l||p,h=d?n(e.length,String):[],y=h.length;for(var g in e)!t&&!u.call(e,g)||d&&("length"==g||l&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,y))||h.push(g);return h}},2104:function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},2105:function(e,t,r){var n=r(2106),o=r(1807),s=Object.prototype,i=s.hasOwnProperty,a=s.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return o(e)&&i.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},2106:function(e,t,r){var n=r(1805),o=r(1807);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},2107:function(e,t,r){(function(e){var n=r(1875),o=r(2108),s=t&&!t.nodeType&&t,i=s&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===s?n.Buffer:void 0,c=(a?a.isBuffer:void 0)||o;e.exports=c}).call(this,r(54)(e))},2108:function(e,t){e.exports=function(){return!1}},2109:function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},2110:function(e,t,r){var n=r(2111),o=r(2112),s=r(2113),i=s&&s.isTypedArray,a=i?o(i):n;e.exports=a},2111:function(e,t,r){var n=r(1805),o=r(1878),s=r(1807),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&o(e.length)&&!!i[n(e)]}},2112:function(e,t){e.exports=function(e){return function(t){return e(t)}}},2113:function(e,t,r){(function(e){var n=r(1876),o=t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=s&&s.exports===o&&n.process,a=function(){try{var e=s&&s.require&&s.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=a}).call(this,r(54)(e))},2114:function(e,t,r){var n=r(2115),o=r(2116),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},2115:function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},2116:function(e,t,r){var n=r(2117)(Object.keys,Object);e.exports=n},2117:function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},2118:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)((function(t,r){var o;try{o=e.apply(this,t)}catch(s){return r(s)}(0,n.default)(o)&&"function"===typeof o.then?o.then((function(e){a(r,null,e)}),(function(e){a(r,e.message?e:new Error(e))})):r(null,o)}))};var n=i(r(1877)),o=i(r(2119)),s=i(r(2120));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){try{e(t,r)}catch(n){(0,s.default)(c,n)}}function c(e){throw e}e.exports=t.default},2119:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,s.default)(arguments),r=t.pop();e.call(this,t,r)}};var n,o=r(1767),s=(n=o)&&n.__esModule?n:{default:n};e.exports=t.default},2120:function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.hasNextTick=t.hasSetImmediate=void 0,t.fallback=f,t.wrap=l;var o,s=r(1767),i=(o=s)&&o.__esModule?o:{default:o};var a,c=t.hasSetImmediate="function"===typeof e&&e,u=t.hasNextTick="object"===typeof n&&"function"===typeof n.nextTick;function f(e){setTimeout(e,0)}function l(e){return function(t){var r=(0,i.default)(arguments,1);e((function(){t.apply(null,r)}))}}a=c?e:u?n.nextTick:f,t.default=l(a)}).call(this,r(401).setImmediate,r(33))},2121:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,s){s=s||n.default,t=t||[];var i=[],a=0,c=(0,o.default)(r);e(t,(function(e,t,r){var n=a++;c(e,(function(e,t){i[n]=t,r(e)}))}),(function(e){s(e,i)}))};var n=s(r(1737)),o=s(r(1716));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},2122:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(2123)),o=s(r(1882));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)(n.default,1),e.exports=t.default},2123:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,i){(0,n.default)(t)(e,(0,o.default)((0,s.default)(r)),i)};var n=i(r(1880)),o=i(r(2124)),s=i(r(1716));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},2124:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,n){return e(t,n)}},e.exports=t.default},2125:function(e,t,r){const n=r(320).EventEmitter,o=r(322).inherits;function s(){n.call(this),this.isLocked=!0}e.exports=s,o(s,n),s.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},s.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},s.prototype.await=function(e){const t=this;t.isLocked?t.once("unlock",e):setTimeout(e)}},2126:function(e,t,r){const n=r(1809);function o(e){return"never"!==a(e)}function s(e){var t=i(e);return t>=e.params.length?e.params:"eth_getBlockByNumber"===e.method?e.params.slice(1):e.params.slice(0,t)}function i(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":return 1;case"eth_getBlockByNumber":return 0;default:return}}function a(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":return"fork";case"eth_gasPrice":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"eth_blockNumber":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":return"never"}}e.exports={cacheIdentifierForPayload:function(e,t={}){if(!o(e))return null;const{includeBlockRef:r}=t,i=r?e.params:s(e);return e.method+":"+n(i)},canCache:o,blockTagForPayload:function(e){var t=i(e);if(t>=e.params.length)return null;return e.params[t]},paramsWithoutBlockTag:s,blockTagParamIndex:i,cacheTypeForPayload:a}},2127:function(e,t){e.exports=function(){var e=(new Date).getTime()*Math.pow(10,3),t=Math.floor(Math.random()*Math.pow(10,3));return e+t}},2128:function(e,t,r){const{EthereumRpcError:n,EthereumProviderError:o}=r(1815),{serializeError:s,getMessageFromCode:i}=r(1883),a=r(2131),c=r(1816);e.exports={ethErrors:a,EthereumRpcError:n,EthereumProviderError:o,serializeError:s,getMessageFromCode:i,ERROR_CODES:c}},2129:function(e,t){e.exports=o,o.default=o,o.stable=i,o.stableStringify=i;var r=[],n=[];function o(e,t,o){var s;for(!function e(t,o,s,i){var a;if("object"===typeof t&&null!==t){for(a=0;a<s.length;a++)if(s[a]===t){var c=Object.getOwnPropertyDescriptor(i,o);return void(void 0!==c.get?c.configurable?(Object.defineProperty(i,o,{value:"[Circular]"}),r.push([i,o,t,c])):n.push([t,o]):(i[o]="[Circular]",r.push([i,o,t])))}if(s.push(t),Array.isArray(t))for(a=0;a<t.length;a++)e(t[a],a,s,t);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var f=u[a];e(t[f],f,s,t)}}s.pop()}}(e,"",[],void 0),s=0===n.length?JSON.stringify(e,t,o):JSON.stringify(e,a(t),o);0!==r.length;){var i=r.pop();4===i.length?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return s}function s(e,t){return e<t?-1:e>t?1:0}function i(e,t,o){var i,c=function e(t,o,i,a){var c;if("object"===typeof t&&null!==t){for(c=0;c<i.length;c++)if(i[c]===t){var u=Object.getOwnPropertyDescriptor(a,o);return void(void 0!==u.get?u.configurable?(Object.defineProperty(a,o,{value:"[Circular]"}),r.push([a,o,t,u])):n.push([t,o]):(a[o]="[Circular]",r.push([a,o,t])))}if("function"===typeof t.toJSON)return;if(i.push(t),Array.isArray(t))for(c=0;c<t.length;c++)e(t[c],c,i,t);else{var f={},l=Object.keys(t).sort(s);for(c=0;c<l.length;c++){var p=l[c];e(t[p],p,i,t),f[p]=t[p]}if(void 0===a)return f;r.push([a,o,t]),a[o]=f}i.pop()}}(e,"",[],void 0)||e;for(i=0===n.length?JSON.stringify(c,t,o):JSON.stringify(c,a(t),o);0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}return i}function a(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(n.length>0)for(var o=0;o<n.length;o++){var s=n[o];if(s[1]===t&&s[0]===r){r="[Circular]",n.splice(o,1);break}}return e.call(this,t,r)}}},2130:function(e){e.exports=JSON.parse('{"4001":{"standard":"EIP 1193","message":"User rejected the request."},"4100":{"standard":"EIP 1193","message":"The requested account and/or method has not been authorized by the user."},"4200":{"standard":"EIP 1193","message":"The requested method is not supported by this Ethereum provider."},"-32700":{"standard":"JSON RPC 2.0","message":"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{"standard":"JSON RPC 2.0","message":"The JSON sent is not a valid Request object."},"-32601":{"standard":"JSON RPC 2.0","message":"The method does not exist / is not available."},"-32602":{"standard":"JSON RPC 2.0","message":"Invalid method parameter(s)."},"-32603":{"standard":"JSON RPC 2.0","message":"Internal JSON-RPC error."},"-32000":{"standard":"EIP 1474","message":"Invalid input."},"-32001":{"standard":"EIP 1474","message":"Resource not found."},"-32002":{"standard":"EIP 1474","message":"Resource unavailable."},"-32003":{"standard":"EIP 1474","message":"Transaction rejected."},"-32004":{"standard":"EIP 1474","message":"Method not supported."}}')},2131:function(e,t,r){const{EthereumRpcError:n,EthereumProviderError:o}=r(1815),{getMessageFromCode:s}=r(1883),i=r(1816);function a(e,t){const[r,o]=u(t);return new n(e,r||s(e),o)}function c(e,t){const[r,n]=u(t);return new o(e,r||s(e),n)}function u(e){let t,r;return e&&("string"===typeof e?t=e:"object"!==typeof e||Array.isArray(e)||(t=e.message,r=e.data)),[t,r]}e.exports={rpc:{parse:e=>a(i.rpc.parse,e),invalidRequest:e=>a(i.rpc.invalidRequest,e),invalidParams:e=>a(i.rpc.invalidParams,e),methodNotFound:e=>a(i.rpc.methodNotFound,e),internal:e=>a(i.rpc.internal,e),server:e=>{if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(i.rpc.invalidInput,e),resourceNotFound:e=>a(i.rpc.resourceNotFound,e),resourceUnavailable:e=>a(i.rpc.resourceUnavailable,e),transactionRejected:e=>a(i.rpc.transactionRejected,e),methodNotSupported:e=>a(i.rpc.methodNotSupported,e)},provider:{userRejectedRequest:e=>c(i.provider.userRejectedRequest,e),unauthorized:e=>c(i.provider.unauthorized,e),unsupportedMethod:e=>c(i.provider.unsupportedMethod,e),custom:e=>{if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||"string"!==typeof r)throw new Error('"message" must be a nonempty string');return new o(t,r,n)}}}},2132:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t=(0,s.default)(t||o.default),!(0,n.default)(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function u(t){var n=(0,c.default)(e[r++]);t.push((0,a.default)(f)),n.apply(null,t)}function f(n){if(n||r===e.length)return t.apply(null,arguments);u((0,i.default)(arguments,1))}u([])};var n=u(r(1881)),o=u(r(1737)),s=u(r(1806)),i=u(r(1767)),a=u(r(1808)),c=u(r(1716));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},2133:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(n.default,e,t)};var n=s(r(1873)),o=s(r(2134));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},2134:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){r=r||n.default;var a=(0,o.default)(t)?[]:{};e(t,(function(e,t,r){(0,i.default)(e)((function(e,n){arguments.length>2&&(n=(0,s.default)(arguments,1)),a[t]=n,r(e)}))}),(function(e){r(e,a)}))};var n=a(r(1737)),o=a(r(1766)),s=a(r(1767)),i=a(r(1716));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},2135:function(e,t,r){const n=r(1765),o=r(1708);function s(e){const t=new Error("Expect argument to be non-empty array");if("object"!==typeof e||!e.length)throw t;const r=e.map((function(e){return"bytes"===e.type?n.toBuffer(e.value):e.value})),s=e.map((function(e){return e.type})),i=e.map((function(e){if(!e.name)throw t;return e.type+" "+e.name}));return o.soliditySHA3(["bytes32","bytes32"],[o.soliditySHA3(new Array(e.length).fill("string"),i),o.soliditySHA3(s,r)])}function i(e,t){const r=n.toBuffer(t),o=n.fromRpcSig(r);return n.ecrecover(e,o.v,o.r,o.s)}function a(e){const t=n.toBuffer(e.data);return i(n.hashPersonalMessage(t),e.sig)}function c(e,t){for(var r=""+e;r.length<t;)r="0"+r;return r}e.exports={concatSig:function(e,t,r){const o=n.fromSigned(t),s=n.fromSigned(r),i=n.bufferToInt(e),a=c(n.toUnsigned(o).toString("hex"),64),u=c(n.toUnsigned(s).toString("hex"),64),f=n.stripHexPrefix(n.intToHex(i));return n.addHexPrefix(a.concat(u,f)).toString("hex")},normalize:function(e){if(e){if("number"===typeof e){const t=n.toBuffer(e);e=n.bufferToHex(t)}if("string"!==typeof e){var t="eth-sig-util.normalize() requires hex string or integer input.";throw new Error(t+=" received "+typeof e+": "+e)}return n.addHexPrefix(e.toLowerCase())}},personalSign:function(e,t){var r=n.toBuffer(t.data),o=n.hashPersonalMessage(r),s=n.ecsign(o,e);return n.bufferToHex(this.concatSig(s.v,s.r,s.s))},recoverPersonalSignature:function(e){const t=a(e),r=n.publicToAddress(t);return n.bufferToHex(r)},extractPublicKey:function(e){return"0x"+a(e).toString("hex")},typedSignatureHash:function(e){const t=s(e);return n.bufferToHex(t)},signTypedData:function(e,t){const r=s(t.data),o=n.ecsign(r,e);return n.bufferToHex(this.concatSig(o.v,o.r,o.s))},recoverTypedSignature:function(e){const t=i(s(e.data),e.sig),r=n.publicToAddress(t);return n.bufferToHex(r)}}},2148:function(e,t,r){(function(t){!function(r){"use strict";var n=function(e){setTimeout(e,0)};"undefined"!=typeof t&&t&&"function"==typeof t.nextTick&&(n=t.nextTick),e.exports=function(e){var t={capacity:e||1,current:0,queue:[],firstHere:!1,take:function(){if(!1===t.firstHere){t.current++,t.firstHere=!0;var e=1}else e=0;var r={n:1};"function"==typeof arguments[0]?r.task=arguments[0]:r.n=arguments[0],arguments.length>=2&&("function"==typeof arguments[1]?r.task=arguments[1]:r.n=arguments[1]);var n=r.task;if(r.task=function(){n(t.leave)},t.current+r.n-e>t.capacity)return 1===e&&(t.current--,t.firstHere=!1),t.queue.push(r);t.current+=r.n-e,r.task(t.leave),1===e&&(t.firstHere=!1)},leave:function(e){if(e=e||1,t.current-=e,t.queue.length){var r=t.queue[0];r.n+t.current>t.capacity||(t.queue.shift(),t.current+=r.n,n(r.task))}else if(t.current<0)throw new Error("leave called too many times.")},available:function(e){return e=e||1,t.current+e<=t.capacity}};return t}}()}).call(this,r(33))},2149:function(e,t,r){const n=r(1768);e.exports=function(e,t,r){e.sendAsync(n({method:"eth_estimateGas",params:[t]}),(function(e,t){if(e)return"no contract code at given address"===e.message?r(null,"0xcf08"):r(e);r(null,t.result)}))}},2150:function(e,t,r){const n=r(1804),o=r(1885),s=r(1886),i=r(1887),{unsafeRandomBytes:a,incrementHexInt:c}=r(1739),u=r(1819);function f(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}e.exports=function({blockTracker:e,provider:t}){const r={},l=i({blockTracker:e,provider:t});let p=!1;const d=new n,h=o({eth_subscribe:s((async function(n,o){if(p)throw new Error("SubscriptionManager - attempting to use after destroying");const s=n.params[0],i=a(16);let d;switch(s){case"newHeads":d=function({subId:r}){const n={type:s,destroy:async()=>{e.removeListener("sync",n.update)},update:async({oldBlock:e,newBlock:n})=>{const o=n,s=c(e);(await u({provider:t,fromBlock:s,toBlock:o})).map(f).forEach(e=>{y(r,e)})}};return e.on("sync",n.update),n}({subId:i});break;case"logs":const r=n.params[1],o=await l.newLogFilter(r);d=function({subId:e,filter:t}){return t.on("update",t=>y(e,t)),{type:s,destroy:async()=>await l.uninstallFilter(t.idHex)}}({subId:i,filter:o});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${s}"`)}return r[i]=d,void(o.result=i)})),eth_unsubscribe:s((async function(e,t){if(p)throw new Error("SubscriptionManager - attempting to use after destroying");const n=e.params[0],o=r[n];if(!o)return void(t.result=!1);delete r[n],await o.destroy(),t.result=!0}))});return h.destroy=function(){d.removeAllListeners();for(const e in r)r[e].destroy(),delete r[e];p=!0},{events:d,middleware:h};function y(e,t){d.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}}},2151:function(e,t){e.exports=function(e){return(t,r,n,o)=>{const s=e[t.method];return void 0===s?n():"function"===typeof s?s(t,r,n,o):(r.result=s,void o())}}},2152:function(e,t,r){"use strict";var n=r(2153),o=r(2154);e.exports=function(e){if(!n(e.then))throw new TypeError("Expected a promise");return function(t){e.then((function(e){o(t,null,e)}),(function(e){o(t,e)}))}}},2153:function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){return"[object Function]"===n.call(e)}},2154:function(e,t,r){"use strict";(function(t){e.exports="function"===typeof t?t:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}}).call(this,r(401).setImmediate)},2155:function(e,t,r){"use strict";(function(e,r){class n{constructor(e){this.tasks=[],this.count=e}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let e=this.tasks.shift();if(void 0===e)throw"Unexpected undefined value in tasks list";e()}}acquire(){return new Promise((t,n)=>{this.tasks.push(()=>{var e=!1;t(()=>{e||(e=!0,this.count++,this.sched())})}),e&&e.nextTick?e.nextTick(this.sched.bind(this)):r(this.sched.bind(this))})}use(e){return this.acquire().then(t=>e().then(e=>(t(),e)).catch(e=>{throw t(),e}))}}t.Semaphore=n;t.Mutex=class extends n{constructor(){super(1)}}}).call(this,r(33),r(401).setImmediate)},2156:function(e,t,r){const n=r(1872),o=r(2157),s=r(2158),{bnToHex:i,hexToInt:a,incrementHexInt:c,minBlockRef:u,blockRefIsNumber:f}=r(1739);e.exports=class extends s{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new n(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(e=>e.toLowerCase()))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),"earliest"===t&&(t="0x0"),this.params.fromBlock=t;const r=u(this.params.toBlock,e),n=Object.assign({},this.params,{toBlock:r}),o=await this._fetchLogs(n);this.addInitialResults(o)}async update({oldBlock:e,newBlock:t}){const r=t;let n;n=e?c(e):t;const o=Object.assign({},this.params,{fromBlock:n,toBlock:r}),s=(await this._fetchLogs(o)).filter(e=>this.matchLog(e));this.addResults(s)}async _fetchLogs(e){return await o(t=>this.ethQuery.getLogs(e,t))()}matchLog(e){if(a(this.params.fromBlock)>=a(e.blockNumber))return!1;if(f(this.params.toBlock)&&a(this.params.toBlock)<=a(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();return!(this.params.address&&t&&!this.params.address.includes(t))&&this.params.topics.every((t,r)=>{let n=e.topics[r];if(!n)return!1;n=n.toLowerCase();let o=Array.isArray(t)?t:[t];return!!o.includes(null)||(o=o.map(e=>e.toLowerCase()),o.includes(n))})}}},2157:function(e,t,r){"use strict";var n=function(e,t,r){return function(){for(var n=this,o=new Array(arguments.length),s=0;s<arguments.length;s++)o[s]=arguments[s];return new t((function(t,s){o.push((function(e,n){if(e)s(e);else if(r.multiArgs){for(var o=new Array(arguments.length-1),i=1;i<arguments.length;i++)o[i-1]=arguments[i];t(o)}else t(n)})),e.apply(n,o)}))}},o=e.exports=function(e,t,r){"function"!==typeof t&&(r=t,t=Promise),(r=r||{}).exclude=r.exclude||[/.+Sync$/];var o="function"===typeof e?function(){return r.excludeMain?e.apply(this,arguments):n(e,t,r).apply(this,arguments)}:{};return Object.keys(e).reduce((function(o,s){var i=e[s];return o[s]="function"===typeof i&&function(e){var t=function(t){return"string"===typeof t?e===t:t.test(e)};return r.include?r.include.some(t):!r.exclude.some(t)}(s)?n(i,t,r):i,o}),o)};o.all=o},2158:function(e,t,r){const n=r(1818);e.exports=class extends n{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}},2159:function(e,t,r){const n=r(1818),o=r(1819),{incrementHexInt:s}=r(1739);e.exports=class extends n{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const r=t,n=s(e),i=(await o({provider:this.provider,fromBlock:n,toBlock:r})).map(e=>e.hash);this.addResults(i)}}},2160:function(e,t,r){const n=r(2161),o=r(1818),s=r(1819),{incrementHexInt:i}=r(1739);e.exports=class extends o{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,r=i(e),o=await s({provider:this.provider,fromBlock:r,toBlock:t}),a=n(o,e=>e.transactions);this.addResults(a)}}},2161:function(e,t,r){(function(e,r){var n="[object Arguments]",o="[object Map]",s="[object Object]",i="[object Set]",a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,u=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[n]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[o]=h["[object Number]"]=h[s]=h["[object RegExp]"]=h[i]=h["[object String]"]=h["[object WeakMap]"]=!1;var y="object"==typeof e&&e&&e.Object===Object&&e,g="object"==typeof self&&self&&self.Object===Object&&self,v=y||g||Function("return this")(),m=t&&!t.nodeType&&t,_=m&&"object"==typeof r&&r&&!r.nodeType&&r,b=_&&_.exports===m&&y.process,w=function(){try{return b&&b.binding("util")}catch(e){}}(),k=w&&w.isTypedArray;function x(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function B(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function A(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function T(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}function S(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function j(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var P,E,R=Array.prototype,C=Function.prototype,M=Object.prototype,O=v["__core-js_shared__"],L=function(){var e=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),N=C.toString,F=M.hasOwnProperty,I=M.toString,H=RegExp("^"+N.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=v.Symbol,q=v.Uint8Array,z=M.propertyIsEnumerable,K=R.splice,D=U?U.isConcatSpreadable:void 0,J=(P=Object.keys,E=Object,function(e){return P(E(e))}),G=Se(v,"DataView"),$=Se(v,"Map"),V=Se(v,"Promise"),W=Se(v,"Set"),Z=Se(v,"WeakMap"),Y=Se(Object,"create"),Q=Ne(G),X=Ne($),ee=Ne(V),te=Ne(W),re=Ne(Z),ne=U?U.prototype:void 0,oe=ne?ne.valueOf:void 0,se=ne?ne.toString:void 0;function ie(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ue(e){var t=-1,r=e?e.length:0;for(this.__data__=new ce;++t<r;)this.add(e[t])}function fe(e){this.__data__=new ae(e)}function le(e,t){var r=Ue(e)||He(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var s in e)!t&&!F.call(e,s)||o&&("length"==s||Ee(s,n))||r.push(s);return r}function pe(e,t){for(var r=e.length;r--;)if(Ie(e[r][0],t))return r;return-1}ie.prototype.clear=function(){this.__data__=Y?Y(null):{}},ie.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ie.prototype.get=function(e){var t=this.__data__;if(Y){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return F.call(t,e)?t[e]:void 0},ie.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:F.call(t,e)},ie.prototype.set=function(e,t){return this.__data__[e]=Y&&void 0===t?"__lodash_hash_undefined__":t,this},ae.prototype.clear=function(){this.__data__=[]},ae.prototype.delete=function(e){var t=this.__data__,r=pe(t,e);return!(r<0)&&(r==t.length-1?t.pop():K.call(t,r,1),!0)},ae.prototype.get=function(e){var t=this.__data__,r=pe(t,e);return r<0?void 0:t[r][1]},ae.prototype.has=function(e){return pe(this.__data__,e)>-1},ae.prototype.set=function(e,t){var r=this.__data__,n=pe(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},ce.prototype.clear=function(){this.__data__={hash:new ie,map:new($||ae),string:new ie}},ce.prototype.delete=function(e){return Te(this,e).delete(e)},ce.prototype.get=function(e){return Te(this,e).get(e)},ce.prototype.has=function(e){return Te(this,e).has(e)},ce.prototype.set=function(e,t){return Te(this,e).set(e,t),this},ue.prototype.add=ue.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ue.prototype.has=function(e){return this.__data__.has(e)},fe.prototype.clear=function(){this.__data__=new ae},fe.prototype.delete=function(e){return this.__data__.delete(e)},fe.prototype.get=function(e){return this.__data__.get(e)},fe.prototype.has=function(e){return this.__data__.has(e)},fe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ae){var n=r.__data__;if(!$||n.length<199)return n.push([e,t]),this;r=this.__data__=new ce(n)}return r.set(e,t),this};var de,he,ye=(de=function(e,t){return e&&ge(e,t,Ve)},function(e,t){if(null==e)return e;if(!qe(e))return de(e,t);for(var r=e.length,n=he?r:-1,o=Object(e);(he?n--:++n<r)&&!1!==t(o[n],n,o););return e});var ge=function(e){return function(t,r,n){for(var o=-1,s=Object(t),i=n(t),a=i.length;a--;){var c=i[e?a:++o];if(!1===r(s[c],c,s))break}return t}}();function ve(e,t){for(var r=0,n=(t=Re(t,e)?[t]:Be(t)).length;null!=e&&r<n;)e=e[Le(t[r++])];return r&&r==n?e:void 0}function me(e,t){return null!=e&&t in Object(e)}function _e(e,t,r,a,c){return e===t||(null==e||null==t||!De(e)&&!Je(t)?e!==e&&t!==t:function(e,t,r,a,c,u){var f=Ue(e),l=Ue(t),p="[object Array]",d="[object Array]";f||(p=(p=je(e))==n?s:p);l||(d=(d=je(t))==n?s:d);var h=p==s&&!T(e),y=d==s&&!T(t),g=p==d;if(g&&!h)return u||(u=new fe),f||$e(e)?Ae(e,t,r,a,c,u):function(e,t,r,n,s,a,c){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!n(new q(e),new q(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ie(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case o:var u=S;case i:var f=2&a;if(u||(u=j),e.size!=t.size&&!f)return!1;var l=c.get(e);if(l)return l==t;a|=1,c.set(e,t);var p=Ae(u(e),u(t),n,s,a,c);return c.delete(e),p;case"[object Symbol]":if(oe)return oe.call(e)==oe.call(t)}return!1}(e,t,p,r,a,c,u);if(!(2&c)){var v=h&&F.call(e,"__wrapped__"),m=y&&F.call(t,"__wrapped__");if(v||m){var _=v?e.value():e,b=m?t.value():t;return u||(u=new fe),r(_,b,a,c,u)}}if(!g)return!1;return u||(u=new fe),function(e,t,r,n,o,s){var i=2&o,a=Ve(e),c=a.length,u=Ve(t).length;if(c!=u&&!i)return!1;var f=c;for(;f--;){var l=a[f];if(!(i?l in t:F.call(t,l)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var d=!0;s.set(e,t),s.set(t,e);var h=i;for(;++f<c;){l=a[f];var y=e[l],g=t[l];if(n)var v=i?n(g,y,l,t,e,s):n(y,g,l,e,t,s);if(!(void 0===v?y===g||r(y,g,n,o,s):v)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var m=e.constructor,_=t.constructor;m==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _||(d=!1)}return s.delete(e),s.delete(t),d}(e,t,r,a,c,u)}(e,t,_e,r,a,c))}function be(e){return!(!De(e)||function(e){return!!L&&L in e}(e))&&(ze(e)||T(e)?H:p).test(Ne(e))}function we(e){return"function"==typeof e?e:null==e?We:"object"==typeof e?Ue(e)?function(e,t){if(Re(e)&&Ce(t))return Me(Le(e),t);return function(r){var n=function(e,t,r){var n=null==e?void 0:ve(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){t=Re(t,e)?[t]:Be(t);var n,o=-1,s=t.length;for(;++o<s;){var i=Le(t[o]);if(!(n=null!=e&&r(e,i)))break;e=e[i]}if(n)return n;return!!(s=e?e.length:0)&&Ke(s)&&Ee(i,s)&&(Ue(e)||He(e))}(e,t,me)}(r,e):_e(t,n,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=Ve(e),r=t.length;for(;r--;){var n=t[r],o=e[n];t[r]=[n,o,Ce(o)]}return t}(e);if(1==t.length&&t[0][2])return Me(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,n){var o=r.length,s=o,i=!n;if(null==e)return!s;for(e=Object(e);o--;){var a=r[o];if(i&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<s;){var c=(a=r[o])[0],u=e[c],f=a[1];if(i&&a[2]){if(void 0===u&&!(c in e))return!1}else{var l=new fe;if(n)var p=n(u,f,c,e,t,l);if(!(void 0===p?_e(f,u,n,3,l):p))return!1}}return!0}(r,e,t)}}(e):function(e){return Re(e)?(t=Le(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return ve(t,e)}}(e);var t}(e)}function ke(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||M;return e===r}(e))return J(e);var t=[];for(var r in Object(e))F.call(e,r)&&"constructor"!=r&&t.push(r);return t}function xe(e,t){var r=-1,n=qe(e)?Array(e.length):[];return ye(e,(function(e,o,s){n[++r]=t(e,o,s)})),n}function Be(e){return Ue(e)?e:Oe(e)}function Ae(e,t,r,n,o,s){var i=2&o,a=e.length,c=t.length;if(a!=c&&!(i&&c>a))return!1;var u=s.get(e);if(u&&s.get(t))return u==t;var f=-1,l=!0,p=1&o?new ue:void 0;for(s.set(e,t),s.set(t,e);++f<a;){var d=e[f],h=t[f];if(n)var y=i?n(h,d,f,t,e,s):n(d,h,f,e,t,s);if(void 0!==y){if(y)continue;l=!1;break}if(p){if(!A(t,(function(e,t){if(!p.has(t)&&(d===e||r(d,e,n,o,s)))return p.add(t)}))){l=!1;break}}else if(d!==h&&!r(d,h,n,o,s)){l=!1;break}}return s.delete(e),s.delete(t),l}function Te(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Se(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return be(r)?r:void 0}var je=function(e){return I.call(e)};function Pe(e){return Ue(e)||He(e)||!!(D&&e&&e[D])}function Ee(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||d.test(e))&&e>-1&&e%1==0&&e<t}function Re(e,t){if(Ue(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Ge(e))||(c.test(e)||!a.test(e)||null!=t&&e in Object(t))}function Ce(e){return e===e&&!De(e)}function Me(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(G&&"[object DataView]"!=je(new G(new ArrayBuffer(1)))||$&&je(new $)!=o||V&&"[object Promise]"!=je(V.resolve())||W&&je(new W)!=i||Z&&"[object WeakMap]"!=je(new Z))&&(je=function(e){var t=I.call(e),r=t==s?e.constructor:void 0,n=r?Ne(r):void 0;if(n)switch(n){case Q:return"[object DataView]";case X:return o;case ee:return"[object Promise]";case te:return i;case re:return"[object WeakMap]"}return t});var Oe=Fe((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Ge(e))return se?se.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var r=[];return u.test(e)&&r.push(""),e.replace(f,(function(e,t,n,o){r.push(n?o.replace(l,"$1"):t||e)})),r}));function Le(e){if("string"==typeof e||Ge(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ne(e){if(null!=e){try{return N.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],s=r.cache;if(s.has(o))return s.get(o);var i=e.apply(this,n);return r.cache=s.set(o,i),i};return r.cache=new(Fe.Cache||ce),r}function Ie(e,t){return e===t||e!==e&&t!==t}function He(e){return function(e){return Je(e)&&qe(e)}(e)&&F.call(e,"callee")&&(!z.call(e,"callee")||I.call(e)==n)}Fe.Cache=ce;var Ue=Array.isArray;function qe(e){return null!=e&&Ke(e.length)&&!ze(e)}function ze(e){var t=De(e)?I.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function Ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function De(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Je(e){return!!e&&"object"==typeof e}function Ge(e){return"symbol"==typeof e||Je(e)&&"[object Symbol]"==I.call(e)}var $e=k?function(e){return function(t){return e(t)}}(k):function(e){return Je(e)&&Ke(e.length)&&!!h[I.call(e)]};function Ve(e){return qe(e)?le(e):ke(e)}function We(e){return e}r.exports=function(e,t){return function e(t,r,n,o,s){var i=-1,a=t.length;for(n||(n=Pe),s||(s=[]);++i<a;){var c=t[i];r>0&&n(c)?r>1?e(c,r-1,n,o,s):B(s,c):o||(s[s.length]=c)}return s}(function(e,t){return(Ue(e)?x:xe)(e,we(t))}(e,t),1)}}).call(this,r(16),r(54)(e))}}]);