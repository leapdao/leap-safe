(window.webpackJsonp=window.webpackJsonp||[]).push([[33,35],{1636:function(e,r,t){"use strict";t.r(r);t(1764),t(1769),t(1770),t(1771),t(1772);var n=t(1725),i=(t(1773),t(1705),t(11),t(1825));function a(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(s){i=!0,a=s}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}return t}(e,r)||u(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r){if(e){if("string"===typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,r):void 0}}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function c(e,r,t,n,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void t(c)}u.done?r(s):Promise.resolve(s).then(n,i)}function p(e){return function(){var r=this,t=arguments;return new Promise((function(n,i){var a=e.apply(r,t);function o(e){c(a,n,i,o,u,"next",e)}function u(e){c(a,n,i,o,u,"throw",e)}o(void 0)}))}}function f(e){return l.apply(this,arguments)}function l(){return(l=p(regeneratorRuntime.mark((function e(r){var u,s,c,f,l,d,h,v,y,g,m,w,b,x,k,K,E,P,A,U,C,M,I,R,B,T,N,S,_,L,O,j,z,V,H,D,F,J,Z,q,G;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G=function(){return(G=p(regeneratorRuntime.mark((function e(r){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==x.size){e.next=3;break}return e.next=3,I();case 3:return t=a(o(x.entries())[0],2),n=t[0],i=t[1],e.abrupt("return",new Promise((function(e,t){f.ethereumSignMessage({path:i,message:c.stripHexPrefix(r.data),hex:!0}).then((function(r){if(r.success){r.payload.address!==c.toChecksumAddress(n)&&t(new Error("signature doesnt match the right address"));var i="0x".concat(r.payload.signature);e(i)}else t(new Error(r.payload&&r.payload.error||"There was an error signing a message"))}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},q=function(e){return G.apply(this,arguments)},Z=function(){return(Z=p(regeneratorRuntime.mark((function e(r){var t,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==x.size){e.next=3;break}return e.next=3,I();case 3:return t=o(x.values())[0],n=new s.Transaction(r,{chain:w(h)}),e.next=7,F(t,r);case 7:if((i=e.sent).success){e.next=10;break}throw new Error(i.payload.error);case 10:return a=i.payload,n.v=a.v,n.r=a.r,n.s=a.s,e.abrupt("return","0x".concat(n.serialize().toString("hex")));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)},J=function(e){return Z.apply(this,arguments)},F=function(e,r){var t=r.nonce,n=r.gasPrice,i=r.gas,a=r.to,o=r.value,u=r.data;return f.ethereumSignTransaction({path:e,transaction:{nonce:t,gasPrice:n,gasLimit:i,to:a,value:o||"",data:u||"",chainId:h}})},D=function(e){return new Promise((function(r,t){P.sendAsync({jsonrpc:"2.0",method:"eth_getBalance",params:[e,"latest"],id:42},(function(e,n){e&&t(e);var i=n&&n.result;r(null!=i?new m(i).toString(10):null)}))}))},H=function(e){return Promise.all(e.map((function(e){return new Promise(function(){var r=p(regeneratorRuntime.mark((function r(t){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,D(e);case 2:n=r.sent,t({address:e,balance:n});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())})))},V=function(){return(V=p(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=2;break}return e.abrupt("return",[void 0]);case 2:if(!(x.size>0)||r){e.next=4;break}return e.abrupt("return",T());case 4:if(""===b&&(b="m/44'/60'/0'/0"),E){e.next=15;break}return e.prev=6,e.next=9,S();case 9:E=e.sent,e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),e.t0;case 15:return Object(i.generateAddresses)(E,x.size).forEach((function(e){var r=e.dPath,t=e.address;x.set(t,r)})),e.abrupt("return",T());case 18:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)},z=function(e){return V.apply(this,arguments)},j=function(){return(j=p(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(!0);case 2:return r=e.sent,e.abrupt("return",H(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},O=function(){return j.apply(this,arguments)},L=function(){return k?T()[0]:void 0},_=function(){return(_=p(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}throw new Error("a derivation path is needed to get the public key");case 2:return e.prev=2,e.next=5,f.getPublicKey({path:b,coin:"eth"});case 5:if((r=e.sent).success){e.next=8;break}throw new Error(r.payload.error);case 8:return E={publicKey:r.payload.publicKey,chainCode:r.payload.chainCode,path:r.payload.serializedPath},e.abrupt("return",E);case 12:throw e.prev=12,e.t0=e.catch(2),new Error("There was an error accessing your Trezor accounts.");case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)},S=function(){return _.apply(this,arguments)},N=function(e){var r=o(x.entries()),t=r.findIndex((function(r){return a(r,1)[0]===e}));r.unshift(r.splice(t,1)[0]),x=new Map(r)},T=function(){return Array.from(x.keys())},B=function(){return(B=p(regeneratorRuntime.mark((function e(r){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Unable to derive address from path ".concat(r),e.prev=1,e.next=4,f.ethereumGetAddress({path:r,showOnTrezor:!1});case 4:if((n=e.sent).success){e.next=7;break}throw new Error(t);case 7:return e.abrupt("return",n.payload.address);case 10:throw e.prev=10,e.t0=e.catch(1),new Error(t);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)},R=function(e){return B.apply(this,arguments)},I=function(){return k=!0,z()},M=function(){return K},C=function(){return(C=p(regeneratorRuntime.mark((function e(r,t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(i.isValidPath)(r)){e.next=2;break}return e.abrupt("return",!1);case 2:if(r!==b&&(x=new Map),!t){e.next=17;break}return e.prev=4,e.next=7,R(r);case 7:return n=e.sent,x.set(n,r),b=r,K=!0,e.abrupt("return",!0);case 14:throw e.prev=14,e.t0=e.catch(4),new Error("There was a problem deriving an address from path ".concat(r));case 17:return K=!1,b=r,e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)},U=function(e,r){return C.apply(this,arguments)},A=function(){b="",x=new Map,k=!1,P.stop()},e.next=25,t.e(14).then(t.t.bind(null,2237,7));case 25:return u=e.sent,e.next=28,t.e(41).then(t.t.bind(null,1833,7));case 28:return s=e.sent,e.next=31,Promise.resolve().then(t.t.bind(null,1705,7));case 31:return c=e.sent,f=u.default,l=u.DEVICE_EVENT,d=u.DEVICE,h=r.networkId,v=r.email,y=r.appUrl,g=r.rpcUrl,m=r.BigNumber,w=r.networkName,b="",x=new Map,k=!1,K=!1,f.manifest({email:v,appUrl:y}),f.on(l,(function(e){e.type===d.DISCONNECT&&(k=!1,x=new Map)})),(P=Object(n.default)({getAccounts:function(e){z().then((function(r){return e(null,r)})).catch((function(r){return e(r,null)}))},signTransaction:function(e,r){J(e).then((function(e){return r(null,e)})).catch((function(e){return r(e,null)}))},processMessage:function(e,r){q(e).then((function(e){return r(null,e)})).catch((function(e){return r(e,null)}))},processPersonalMessage:function(e,r){q(e).then((function(e){return r(null,e)})).catch((function(e){return r(e,null)}))},signMessage:function(e,r){q(e).then((function(e){return r(null,e)})).catch((function(e){return r(e,null)}))},signPersonalMessage:function(e,r){q(e).then((function(e){return r(null,e)})).catch((function(e){return r(e,null)}))},rpcUrl:g})).setPath=U,P.dPath=b,P.enable=I,P.setPrimaryAccount=N,P.getPrimaryAddress=L,P.getAccounts=z,P.getMoreAccounts=O,P.getBalance=D,P.getBalances=H,P.send=P.sendAsync,P.disconnect=A,P.isCustomPath=M,e.abrupt("return",P);case 54:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.default=function(e){var r=e.rpcUrl,t=e.networkId,n=e.email,i=e.appUrl,a=e.preferred,o=e.label,u=e.iconSrc;return{name:o||"Trezor",svg:e.svg||'\n\t<svg width="40px" height="40px" viewBox="0 0 114 166" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n\t\t<g id="Styles" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\t\t\t<path d="M17,51.453125 L17,40 C17,17.90861 34.90861,-1.0658141e-14 57,-1.0658141e-14 C79.09139,-1.0658141e-14 97,17.90861 97,40 L97,51.453125 L113.736328,51.453125 L113.736328,139.193359 L57.5,166 L0,139.193359 L0,51.453125 L17,51.453125 Z M37,51.453125 L77,51.453125 L77,40 L76.9678398,40 C76.3750564,29.406335 67.6617997,21 57,21 C46.3382003,21 37.6249436,29.406335 37.0321602,40 L37,40 L37,51.453125 Z M23,72 L23,125 L56.8681641,140.966797 L91,125 L91,72 L23,72 Z" id="Trezor-logo" fill="currentColor"></path>\n\t\t</g>\n\t</svg>\n',iconSrc:u,wallet:function(){var e=p(regeneratorRuntime.mark((function e(a){var o,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.BigNumber,u=a.networkName,e.next=3,f({rpcUrl:r,networkId:t,email:n,appUrl:i,BigNumber:o,networkName:u});case 3:return s=e.sent,e.abrupt("return",{provider:s,interface:{name:"Trezor",connect:s.enable,disconnect:s.disconnect,address:{get:function(){var e=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.getPrimaryAddress());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},network:{get:function(){var e=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},balance:{get:function(){var e=p(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.getPrimaryAddress(),e.abrupt("return",r&&s.getBalance(r));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}});case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),type:"hardware",desktop:!0,mobile:!0,osExclusions:["iOS"],preferred:a}}},1725:function(e,r,t){"use strict";t.r(r);var n=t(1764),i=t.n(n),a=t(1769),o=t.n(a),u=t(1770),s=t.n(u),c=t(1771),p=t.n(c),f=t(1772),l=t.n(f);r.default=function(e){var r=e.getAccounts,t=e.signTransaction,n=e.rpcUrl,a=e.processMessage,u=e.processPersonalMessage,c=e.signMessage,f=e.signPersonalMessage,d=r&&new s.a({getAccounts:r,signTransaction:t,processMessage:a,processPersonalMessage:u,signMessage:c,signPersonalMessage:f}),h=new o.a({rpcUrl:n.includes("http")?n:"https://".concat(n)}),v=new i.a;return v.addProvider(new p.a),v.addProvider(new l.a),d&&v.addProvider(d),v.addProvider(h),v.start(),v}},1773:function(e,r,t){var n=t(321),i=t(19).Buffer,a=t(58),o=t(1820),u=t(211),s=i.from("Bitcoin seed","utf8"),c={private:76066276,public:76067358};function p(e){this.versions=e||c,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}function f(e,r,t){var n=i.allocUnsafe(78);n.writeUInt32BE(r,0),n.writeUInt8(e.depth,4);var a=e.depth?e.parentFingerprint:0;return n.writeUInt32BE(a,5),n.writeUInt32BE(e.index,9),e.chainCode.copy(n,13),t.copy(n,45),n}function l(e){var r=a.createHash("sha256").update(e).digest();return a.createHash("ripemd160").update(r).digest()}Object.defineProperty(p.prototype,"fingerprint",{get:function(){return this._fingerprint}}),Object.defineProperty(p.prototype,"identifier",{get:function(){return this._identifier}}),Object.defineProperty(p.prototype,"pubKeyHash",{get:function(){return this.identifier}}),Object.defineProperty(p.prototype,"privateKey",{get:function(){return this._privateKey},set:function(e){n.equal(e.length,32,"Private key must be 32 bytes."),n(!0===u.privateKeyVerify(e),"Invalid private key"),this._privateKey=e,this._publicKey=u.publicKeyCreate(e,!0),this._identifier=l(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}}),Object.defineProperty(p.prototype,"publicKey",{get:function(){return this._publicKey},set:function(e){n(33===e.length||65===e.length,"Public key must be 33 or 65 bytes."),n(!0===u.publicKeyVerify(e),"Invalid public key"),this._publicKey=u.publicKeyConvert(e,!0),this._identifier=l(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0),this._privateKey=null}}),Object.defineProperty(p.prototype,"privateExtendedKey",{get:function(){return this._privateKey?o.encode(f(this,this.versions.private,i.concat([i.alloc(1,0),this.privateKey]))):null}}),Object.defineProperty(p.prototype,"publicExtendedKey",{get:function(){return o.encode(f(this,this.versions.public,this.publicKey))}}),p.prototype.derive=function(e){if("m"===e||"M"===e||"m'"===e||"M'"===e)return this;var r=e.split("/"),t=this;return r.forEach((function(e,r){if(0!==r){var i=e.length>1&&"'"===e[e.length-1],a=parseInt(e,10);n(a<2147483648,"Invalid index"),i&&(a+=2147483648),t=t.deriveChild(a)}else n(/^[mM]{1}/.test(e),'Path must start with "m" or "M"')})),t},p.prototype.deriveChild=function(e){var r,t=e>=2147483648,o=i.allocUnsafe(4);if(o.writeUInt32BE(e,0),t){n(this.privateKey,"Could not derive hardened child key");var s=this.privateKey,c=i.alloc(1,0);s=i.concat([c,s]),r=i.concat([s,o])}else r=i.concat([this.publicKey,o]);var f=a.createHmac("sha512",this.chainCode).update(r).digest(),l=f.slice(0,32),d=f.slice(32),h=new p(this.versions);if(this.privateKey)try{h.privateKey=u.privateKeyTweakAdd(this.privateKey,l)}catch(v){return this.deriveChild(e+1)}else try{h.publicKey=u.publicKeyTweakAdd(this.publicKey,l,!0)}catch(v){return this.deriveChild(e+1)}return h.chainCode=d,h.depth=this.depth+1,h.parentFingerprint=this.fingerprint,h.index=e,h},p.prototype.sign=function(e){return u.sign(e,this.privateKey).signature},p.prototype.verify=function(e,r){return u.verify(e,r,this.publicKey)},p.prototype.wipePrivateData=function(){return this._privateKey&&a.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this},p.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}},p.fromMasterSeed=function(e,r){var t=a.createHmac("sha512",s).update(e).digest(),n=t.slice(0,32),i=t.slice(32),o=new p(r);return o.chainCode=i,o.privateKey=n,o},p.fromExtendedKey=function(e,r){var t=new p(r=r||c),i=o.decode(e),a=i.readUInt32BE(0);n(a===r.private||a===r.public,"Version mismatch: does not match private or public"),t.depth=i.readUInt8(4),t.parentFingerprint=i.readUInt32BE(5),t.index=i.readUInt32BE(9),t.chainCode=i.slice(13,45);var u=i.slice(45);return 0===u.readUInt8(0)?(n(a===r.private,"Version mismatch: version does not match private"),t.privateKey=u.slice(1)):(n(a===r.public,"Version mismatch: version does not match public"),t.publicKey=u),t},p.fromJSON=function(e){return p.fromExtendedKey(e.xpriv)},p.HARDENED_OFFSET=2147483648,e.exports=p},1820:function(e,r,t){"use strict";var n=t(152),i=t(1821);e.exports=i((function(e){var r=n("sha256").update(e).digest();return n("sha256").update(r).digest()}))},1821:function(e,r,t){"use strict";var n=t(1822),i=t(19).Buffer;e.exports=function(e){function r(r){var t=r.slice(0,-4),n=r.slice(-4),i=e(t);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return t}return{encode:function(r){var t=e(r);return n.encode(i.concat([r,t],r.length+4))},decode:function(e){var t=r(n.decode(e));if(!t)throw new Error("Invalid checksum");return t},decodeUnsafe:function(e){var t=n.decodeUnsafe(e);if(t)return r(t)}}}},1822:function(e,r,t){var n=t(1823);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},1823:function(e,r,t){"use strict";var n=t(19).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),t=0;t<r.length;t++)r[t]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),o=a.charCodeAt(0);if(255!==r[o])throw new TypeError(a+" is ambiguous");r[o]=i}var u=e.length,s=e.charAt(0),c=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);var t=0;if(" "!==e[t]){for(var i=0,a=0;e[t]===s;)i++,t++;for(var o=(e.length-t)*c+1>>>0,p=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<a)&&-1!==d;d--,l++)f+=u*p[d]>>>0,p[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");a=l,t++}if(" "!==e[t]){for(var h=o-a;h!==o&&0===p[h];)h++;var v=n.allocUnsafe(i+(o-h));v.fill(0,0,i);for(var y=i;h!==o;)v[y++]=p[h++];return v}}}return{encode:function(r){if((Array.isArray(r)||r instanceof Uint8Array)&&(r=n.from(r)),!n.isBuffer(r))throw new TypeError("Expected Buffer");if(0===r.length)return"";for(var t=0,i=0,a=0,o=r.length;a!==o&&0===r[a];)a++,t++;for(var c=(o-a)*p+1>>>0,f=new Uint8Array(c);a!==o;){for(var l=r[a],d=0,h=c-1;(0!==l||d<i)&&-1!==h;h--,d++)l+=256*f[h]>>>0,f[h]=l%u>>>0,l=l/u>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,a++}for(var v=c-i;v!==c&&0===f[v];)v++;for(var y=s.repeat(t);v<c;++v)y+=e.charAt(f[v]);return y},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw new Error("Non-base"+u+" character")}}}},1825:function(e,r,t){"use strict";t.r(r),t.d(r,"generateAddresses",(function(){return c})),t.d(r,"isValidPath",(function(){return p}));var n=t(1773),i=t.n(n),a=t(1705),o=t(11),u=a.publicToAddress,s=a.toChecksumAddress;function c(e,r){var t=e.publicKey,n=e.chainCode,a=e.path,c=new i.a;c.publicKey=new o.Buffer(t,"hex"),c.chainCode=new o.Buffer(n,"hex");for(var p=[],f=r;f<5+r;f++){var l=c.deriveChild(f),d=u(l.publicKey,!0).toString("hex");p.push({dPath:"".concat(a,"/").concat(f),address:s(d)})}return p}function p(e){var r=e.split("/");if("m"!==r[0])return!1;if("44'"!==r[1])return!1;if("60'"!==r[2]&&"1'"!==r[2])return!1;if(void 0===r[3])return!0;var t=Number(r[3][0]);if(isNaN(t)||t<0||"'"!==r[3][1])return!1;if(void 0===r[4])return!0;var n=Number(r[4][0]);if(isNaN(n)||n<0)return!1;if(void 0===r[5])return!0;var i=Number(r[5][0]);return!(isNaN(i)||i<0)}}}]);