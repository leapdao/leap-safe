(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1675:function(e,t,n){"use strict";var r=n(0),a=n(1674);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){var t=o({},e);return r.createElement(a.a,t)}},1679:function(e,t,n){"use strict";var r=n(586),a=n(8),o=n(0),c=n.n(o),i=n(2);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O={overflow:"hidden",width:"100%"},x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,e);var t,n,a,o,i=(t=s,function(){var e,n=g(t);if(y()){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return v(this,e)});function s(){return m(this,s),i.apply(this,arguments)}return n=s,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.input,a=n.name,o=n.onChange,i=n.value,s=p(n,["name","onChange","value"]),l=e.inputAdornment,f=e.meta,m=e.multiline,b=e.rows,h=e.testId,v=e.text,y=p(e,["classes","input","inputAdornment","meta","multiline","rows","testId","text"]),g=i?v:void 0,x=(f.touched||!f.pristine)&&!f.valid,w=!f.active&&(f.pristine||!f.touched),k="undefined"===typeof f.error||!f.touched,j=w&&k,S=g?t.root:"",E=f.valid?"isValid":f.error&&(f.dirty||f.touched)?"isInvalid":"",C=d({},s,{autoComplete:"off","data-testid":h}),A=d({},l,{className:"".concat(S," ").concat(E),disableUnderline:j});return c.a.createElement(r.a,u({error:f.error&&(f.touched||!f.pristine),helperText:x?f.error:g||" ",inputProps:C,InputProps:A,multiline:m,name:a,onChange:o,rows:b,style:O,value:i},y))}}])&&b(n.prototype,a),o&&b(n,o),s}(c.a.PureComponent);t.a=Object(a.a)((function(){return{root:{paddingTop:i.lg,paddingBottom:"12px",lineHeight:0}}}))(x)},1680:function(e,t,n){"use strict";var r=n(0),a=n(1674);function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=function(e){return{padding:"0 ".concat(e,"%"),flexDirection:"column",flex:"1 0 auto"}};t.a=function(e){var t=e.children,n=e.decorators,i=e.formMutators,s=e.initialValues,u=e.onSubmit,l=e.padding,d=void 0===l?0:l,f=e.subscription,p=e.testId,m=void 0===p?"":p,b=e.validation;return r.createElement(a.b,{decorators:n,initialValues:s,mutators:i,onSubmit:u,render:function(e){var n=e.handleSubmit,a=o(e,["handleSubmit"]);return r.createElement("form",{"data-testid":m,onSubmit:n,style:c(d)},t(a.submitting,a.validating,a,a.form.mutators))},subscription:f,validate:b})}},1685:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1688),a=n.n(r),o=function(e){e.target.onerror=null,e.target.src=a.a}},1688:function(e,t,n){e.exports=n.p+"img/c1abe466eadcf313c3beb9a2c0e3f4d9.svg"},1714:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d}));var r=n(6),a=n(13),o=n(291),c=n(32),i=function(e){return e[o.a]},s=function(e){return e[o.b]},u=Object(a.a)(i,(function(e){return e?Object(r.a)(Object.entries(e).map((function(e){return e[1]}))):Object(r.a)([])})),l=Object(a.a)(u,c.f,(function(e,t){return e.filter((function(e){return t.has(e.address)}))})),d=Object(a.a)(l,(function(e){var t={};return e.forEach((function(e){t[e.address]=e})),t}))},1798:function(e,t,n){"use strict";var r=n(749),a=n(0),o=n.n(a);function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(h,e);var t,n,a,c,b=(t=h,function(){var e,n=m(t);if(p()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return f(this,e)});function h(){return u(this,h),b.apply(this,arguments)}return n=h,(a=[{key:"render",value:function(){var e=this.props,t=e.input,n=t.checked,a=t.name,c=t.onChange,u=s(t,["checked","name","onChange"]),l=s(e,["input"]);return o.a.createElement(r.a,i({},l,{checked:!!n,inputProps:u,name:a,onChange:c}))}}])&&l(n.prototype,a),c&&l(n,c),h}(o.a.PureComponent);t.a=b},1856:function(e,t,n){e.exports=n.p+"img/7da646430de3902525f6bf02cf1d1e31.svg"},1857:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(379),a=Object(r.a)({listItem:{maxWidth:function(e){return e.buttonWidth?e.buttonWidth:"140px"},boxSizing:"border-box"},listItemSearch:{maxWidth:function(e){return e.buttonWidth?e.buttonWidth:"140px"},padding:"0",boxSizing:"border-box"},localFlag:{backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",backgroundSize:"contain",height:"20px !important",width:"26px !important"},iconLeft:{marginRight:"10px"},iconRight:{marginLeft:"18px"},button:{backgroundColor:"#e8e7e6",border:"none",borderRadius:"3px",boxSizing:"border-box",color:"#5d6d74",cursor:"pointer",fontSize:"12px",fontWeight:"normal",height:"24px",lineHeight:"1.33",marginRight:"20px",minWidth:function(e){return e.buttonWidth?e.buttonWidth:"140px"},outline:"none",padding:"0",textAlign:"left","&:active":{opacity:"0.8"}},buttonInner:{boxSizing:"border-box",display:"block",height:"100%",lineHeight:"24px",padding:"0 22px 0 8px",position:"relative",width:"100%","&::after":{borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"5px solid #5d6d74",content:'""',height:"0",position:"absolute",right:"8px",top:"9px",width:"0"}},openMenuButton:{"&::after":{borderBottom:"5px solid #5d6d74",borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"none"}},dropdownItemsScrollWrapper:{maxHeight:"280px",overflow:"auto"},search:{position:"relative",borderRadius:"0",backgroundColor:"#fff","&:hover":{backgroundColor:"#fff"},marginRight:0,width:"100%"},searchIcon:{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:"12px",margin:"0",pointerEvents:"none",position:"absolute",top:"50%",transform:"translateY(-50%)",width:"18px","& path":{fill:"#b2b5b2"}},inputRoot:{color:"#5d6d74",fontSize:"14px",fontWeight:"normal",lineHeight:"1.43",width:"100%"},inputInput:{boxSizing:"border-box",height:"44px",padding:"12px 12px 12px 40px",width:"100%"}})},2326:function(e,t,n){"use strict";n.r(t),n.d(t,"MANAGE_TOKENS_BUTTON_TEST_ID",(function(){return Xt})),n.d(t,"BALANCE_ROW_TEST_ID",(function(){return qt})),n.d(t,"COINS_LOCATION_REGEX",(function(){return Zt})),n.d(t,"COLLECTIBLES_LOCATION_REGEX",(function(){return en}));var r=n(8),a=n(0),o=n.n(a),c=n(47),i=n(1892),s=n(479),u=n(501),l=n.n(u),d=n(6),f=n(743),p=n(516),m=n(298),b=n(175);function h(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}var v=function(e,t){return function(){var n,r=(n=regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(Object(b.b)({address:e,activeTokens:t}));case 1:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function c(e){h(o,r,a,c,i,"next",e)}function i(e){h(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}()};function y(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}var g=function(e,t){return function(){var n,r=(n=regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(Object(b.b)({address:e,blacklistedTokens:t}));case 1:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function c(e){y(o,r,a,c,i,"next",e)}function i(e){y(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}()},O={fetchTokens:p.b,addToken:f.b,updateActiveTokens:v,updateBlacklistedTokens:g,activateTokenForAllSafes:m.b},x=n(2),w=n(80),k=n(27),j=n(70),S=n(243),E=n(1674);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}var I=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a,o,c,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.e)();case 2:return n=e.sent,e.next=5,n.at(t);case 5:return r=e.sent,e.prev=6,e.next=9,Promise.all([r.symbol(),r.decimals()]);case 9:o=e.sent,c=C(o,2),i=c[0],s=c[1],a=[i,s.toString()],e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),a=[];case 19:return e.abrupt("return",a);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){T(o,r,a,c,i,"next",e)}function i(e){T(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}(),P=n(1798),R=n(1675),N=n(1680),L=n(1679),z=n(315),_=n(95),M=n(96),F=n(97),D=n(50),B=n(1714),W=n(507),H=n(39);function U(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}var $=Object(z.m)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.f)(t);case 2:if(e.sent){e.next=5;break}return e.abrupt("return","Not a asset address");case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){U(o,r,a,c,i,"next",e)}function i(e){U(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}()),G=n(1688),K=n.n(G);function V(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){V(o,r,a,c,i,"next",e)}function i(e){V(o,r,a,c,i,"throw",e)}c(void 0)}))}}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q={address:"",decimals:"",symbol:"",logoUri:""},Q=Object(r.a)((function(){return{title:{padding:"".concat(x.lg," 0 20px"),fontSize:x.md},formContainer:{padding:"0 20px",minHeight:"369px"},addressInput:{marginBottom:"15px",display:"flex",flexGrow:1,backgroundColor:"red"},tokenImageHeading:{margin:"0 0 15px"},checkbox:{padding:"0 7px 0 0",width:"18px",height:"18px"},checkboxLabel:{letterSpacing:"-0.5px"},buttonRow:{height:"84px",justifyContent:"center"}}}))((function(e){var t=e.classes,n=e.onClose,r=e.parentList,i=e.setActiveScreen,s=Object(c.f)(B.b),u=J(Object(a.useState)(q),2),l=u[0],d=u[1],f=function(){var e=Y(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:(n=e.sent).length&&(r=J(n,2),a=r[0],o=r[1],d({address:t,symbol:a,decimals:o,name:a}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Y(regeneratorRuntime.mark((function e(t){var n,r,a,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dirty,r=t.errors,a=t.submitSucceeded,o=t.validating,c=t.values,!a){e.next=3;break}return e.abrupt("return");case 3:if(n&&!o&&r.address&&d(q),r.address||o||!n){e.next=7;break}return e.next=7,f(c.address);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){i(r)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{initialValues:l,onSubmit:function(){n()},testId:"add-custom-asset-form"},(function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(_.a,{className:t.formContainer},o.a.createElement(k.a,{className:t.title,noMargin:!0,size:"lg",weight:"bolder"},"Add custom asset"),o.a.createElement(R.a,{className:t.addressInput,component:L.a,name:"address",placeholder:"Asset contract address*",testId:"add-custom-asset-address-input",text:"Token contract address*",type:"text",validate:Object(z.a)(z.l,z.g,(e=s,Object(z.m)((function(t){if(-1!==e.findIndex((function(e){var n=e.address;return Object(H.d)(n,t)})))return"Token already exists in your token list"}))),$)}),o.a.createElement(E.c,{onChange:p,subscription:{values:!0,errors:!0,validating:!0,dirty:!0,submitSucceeded:!0}}),o.a.createElement(j.a,null,o.a.createElement(F.a,{layout:"column",xs:6},o.a.createElement(R.a,{className:t.addressInput,component:L.a,name:"symbol",placeholder:"Token symbol*",testId:"add-custom-asset-symbols-input",text:"Token symbol",type:"text",validate:Object(z.a)(z.l,Object(z.e)(2,12))}),o.a.createElement(R.a,{className:t.addressInput,component:L.a,disabled:!0,name:"decimals",placeholder:"Token decimals*",testId:"add-custom-asset-decimals-input",text:"Token decimals*",type:"text"}),o.a.createElement(_.a,{justify:"left"},o.a.createElement(R.a,{className:t.checkbox,component:P.a,name:"showForAllSafes",type:"checkbox"}),o.a.createElement(k.a,{className:t.checkboxLabel,size:"md",weight:"bolder"},"Activate assets for all Safes"))),o.a.createElement(F.a,{align:"center",layout:"column",xs:6},o.a.createElement(k.a,{className:t.tokenImageHeading},"Token Image"),o.a.createElement(D.a,{alt:"Token image",height:100,src:K.a})))),o.a.createElement(w.a,null),o.a.createElement(j.a,{align:"center",className:t.buttonRow},o.a.createElement(M.a,{minHeight:42,minWidth:140,onClick:m},"Cancel"),o.a.createElement(M.a,{color:"primary",minHeight:42,minWidth:140,type:"submit",variant:"contained"},"Save")));var e})))}));function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}var ne=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,a,o,c,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.e)();case 2:return n=e.sent,e.next=5,n.at(t);case 5:return r=e.sent,e.prev=6,e.next=9,Promise.all([r.symbol(),r.decimals()]);case 9:o=e.sent,c=Z(o,2),i=c[0],s=c[1],a=[i,s.toString()],e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),a=[];case 19:return e.abrupt("return",a);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){te(o,r,a,c,i,"next",e)}function i(e){te(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}();function re(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}var ae=Object(z.m)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.d)(t);case 2:if(e.sent){e.next=5;break}return e.abrupt("return","Not a token address");case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){re(o,r,a,c,i,"next",e)}function i(e){re(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}()),oe=n(92);function ce(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){ce(o,r,a,c,i,"next",e)}function i(e){ce(o,r,a,c,i,"throw",e)}c(void 0)}))}}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var le={address:"",decimals:"",symbol:"",logoUri:""},de=Object(r.a)((function(){return{title:{padding:"".concat(x.lg," 0 20px"),fontSize:x.md},formContainer:{padding:"0 20px",minHeight:"369px"},addressInput:{marginBottom:"15px",display:"flex",flexGrow:1,backgroundColor:"red"},tokenImageHeading:{margin:"0 0 15px"},checkbox:{padding:"0 7px 0 0",width:"18px",height:"18px"},checkboxLabel:{letterSpacing:"-0.5px"},buttonRow:{height:"84px",justifyContent:"center"}}}))((function(e){var t=e.activateTokenForAllSafes,n=e.activeTokens,r=e.addToken,c=e.classes,i=e.onClose,s=e.parentList,u=e.safeAddress,l=e.setActiveScreen,d=e.tokens,f=e.updateActiveTokens,p=se(Object(a.useState)(le),2),m=p[0],b=p[1],h=function(){var e=ie(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t);case 2:(n=e.sent).length&&(r=se(n,2),a=r[0],o=r[1],b({address:t,symbol:a,decimals:o,name:a}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=ie(regeneratorRuntime.mark((function e(t){var n,r,a,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dirty,r=t.errors,a=t.submitSucceeded,o=t.validating,c=t.values,!a){e.next=3;break}return e.abrupt("return");case 3:if(n&&!o&&r.address&&b(le),r.address||o||!n){e.next=7;break}return e.next=7,h(c.address);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){l(s)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{initialValues:m,onSubmit:function(e){var a={address:Object(oe.a)(e.address),decimals:e.decimals,symbol:e.symbol,name:e.symbol};if(r(a),e.showForAllSafes)t(a.address);else{var o=n.map((function(e){return e.address}));f(u,o.push(a.address))}i()},testId:"add-custom-token-form"},(function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(_.a,{className:c.formContainer},o.a.createElement(k.a,{className:c.title,noMargin:!0,size:"lg",weight:"bolder"},"Add custom token"),o.a.createElement(R.a,{className:c.addressInput,component:L.a,name:"address",placeholder:"Token contract address*",testId:"add-custom-token-address-input",text:"Token contract address*",type:"text",validate:Object(z.a)(z.l,z.g,(e=d,Object(z.m)((function(t){if(-1!==e.findIndex((function(e){var n=e.address;return Object(H.d)(n,t)})))return"Token already exists in your token list"}))),ae)}),o.a.createElement(E.c,{onChange:v,subscription:{values:!0,errors:!0,validating:!0,dirty:!0,submitSucceeded:!0}}),o.a.createElement(j.a,null,o.a.createElement(F.a,{layout:"column",xs:6},o.a.createElement(R.a,{className:c.addressInput,component:L.a,name:"symbol",placeholder:"Token symbol*",testId:"add-custom-token-symbols-input",text:"Token symbol",type:"text",validate:Object(z.a)(z.l,Object(z.e)(2,12))}),o.a.createElement(R.a,{className:c.addressInput,component:L.a,disabled:!0,name:"decimals",placeholder:"Token decimals*",testId:"add-custom-token-decimals-input",text:"Token decimals*",type:"text"}),o.a.createElement(_.a,{justify:"left"},o.a.createElement(R.a,{className:c.checkbox,component:P.a,name:"showForAllSafes",type:"checkbox"}),o.a.createElement(k.a,{className:c.checkboxLabel,size:"md",weight:"bolder"},"Activate token for all Safes"))),o.a.createElement(F.a,{align:"center",layout:"column",xs:6},o.a.createElement(k.a,{className:c.tokenImageHeading},"Token Image"),o.a.createElement(D.a,{alt:"Token image",height:100,src:K.a})))),o.a.createElement(w.a,null),o.a.createElement(j.a,{align:"center",className:c.buttonRow},o.a.createElement(M.a,{minHeight:42,minWidth:140,onClick:y},"Cancel"),o.a.createElement(M.a,{color:"primary",minHeight:42,minWidth:140,type:"submit",variant:"contained"},"Save")));var e})))})),fe=n(482),pe=n(1662),me=n(379),be=n(402),he=n.n(be),ve=n(42),ye=n.n(ve),ge=n(535),Oe=n.n(ge),xe=n(2082),we=function(){return{root:{minHeight:"52px"},search:{color:x.secondaryText,paddingLeft:x.sm},padding:{padding:"0 ".concat(x.md)},add:{fontSize:"11px",fontWeight:"normal",paddingRight:x.md,paddingLeft:x.md},addBtnLabel:{fontSize:x.mediumFontSize},actions:{height:"50px"},list:{overflow:"hidden",overflowY:"scroll",padding:0,height:"100%"},tokenIcon:{marginRight:x.sm,height:"28px",width:"28px"},searchInput:{backgroundColor:"transparent",lineHeight:"initial",fontSize:"13px",padding:0,"& > input::placeholder":{letterSpacing:"-0.5px",fontSize:x.mediumFontSize,color:"black"},"& > input":{letterSpacing:"-0.5px"}},progressContainer:{width:"100%",height:"100%",alignItems:"center"},searchContainer:{width:"180px",marginLeft:x.xs,marginRight:x.xs},searchRoot:{letterSpacing:"-0.5px",fontSize:"13px",border:"none",boxShadow:"none","& > button":{display:"none"}},searchIcon:{"&:hover":{backgroundColor:"transparent !important"}}}},ke=n(148),je=n(167),Se=n(1610),Ee=n(1666),Ce=n(2353),Ae=n(1667),Te=n(585),Ie=n(1685),Pe=Object(a.memo)((function(e){var t=e.classes,n=e.data,r=e.index,a=e.style,c=n.activeAssetsAddresses,i=n.assets,s=n.onSwitch,u=i.get(r),l=u.address,d=u.image,f=u.name,p=u.symbol,m=c.has(u.address);return o.a.createElement("div",{style:a},o.a.createElement(Se.a,{classes:{root:t.tokenRoot},className:t.token},o.a.createElement(Ee.a,{className:t.tokenIcon},o.a.createElement(D.a,{alt:f,height:28,onError:Ie.a,src:d})),o.a.createElement(Ae.a,{primary:p,secondary:f}),l!==W.a&&o.a.createElement(Ce.a,null,o.a.createElement(Te.a,{checked:m,inputProps:{"data-testid":"".concat(p,"_").concat("toggle-asset-btn")},onChange:s(u)}))))})),Re=Object(r.a)(we)(Pe);function Ne(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}var Le=function(e,t){return function(){var n,r=(n=regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(Object(b.b)({address:e,activeAssets:t}));case 1:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function c(e){Ne(o,r,a,c,i,"next",e)}function i(e){Ne(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}()};function ze(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}var _e=function(e,t){return function(){var n,r=(n=regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(Object(b.b)({address:e,blacklistedAssets:t}));case 1:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function c(e){ze(o,r,a,c,i,"next",e)}function i(e){ze(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}()},Me=n(32);function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Be=Object(me.a)(we),We=function(e){var t=Be(),n={input:t.searchInput,root:t.searchRoot,iconButton:t.searchIcon,searchContainer:t.searchContainer},r=Object(c.e)(),i=Object(c.f)(Me.e),s=Object(c.f)(Me.j),u=Object(c.f)(Me.v),l=Fe(Object(a.useState)(""),2),d=l[0],f=l[1],p=Fe(Object(a.useState)(i),2),m=p[0],b=p[1],h=Fe(Object(a.useState)(s),2),v=h[0],y=h[1],g=Object(c.f)(B.b);Object(a.useEffect)((function(){r(Le(u,m)),r(_e(u,v))}),[m,v]);var O,x=function(e){return function(){var t=e.address,n=m.contains(t)?m.remove(t):m.add(t),r=m.has(t)?v.add(t):v.remove(t);return b(n),y(r),{activeAssetsAddresses:n,blacklistedAssetsAddresses:r}}},k=(O=d,g.filter((function(e){return!O||e.description.toLowerCase().includes(O.toLowerCase())||e.name.toLowerCase().includes(O.toLowerCase())||e.symbol.toLowerCase().includes(O.toLowerCase())}))),S={assets:k,activeAssetsAddresses:m,onSwitch:x};return o.a.createElement(o.a.Fragment,null,o.a.createElement(_.a,{className:t.root},o.a.createElement(j.a,{align:"center",className:ye()(t.padding,t.actions)},o.a.createElement(he.a,{className:t.search}),o.a.createElement(Oe.a,{classes:n,onCancelSearch:function(){f("")},onChange:function(e){f(e)},placeholder:"Search by name or symbol",searchIcon:o.a.createElement("div",null),value:d}),o.a.createElement(ke.a,null),o.a.createElement(je.a,null),o.a.createElement(ke.a,null),o.a.createElement(M.a,{classes:{label:t.addBtnLabel},className:t.add,color:"primary",disabled:!0,onClick:function(){return e.setActiveScreen("addCustomAsset")},size:"small",testId:"add-custom-asset-btn",variant:"contained"},"+ Add custom asset")),o.a.createElement(w.a,null)),!g.size&&o.a.createElement(_.a,{className:t.progressContainer,justify:"center"},o.a.createElement(fe.a,null)),g.size>0&&o.a.createElement(pe.a,{className:t.list},o.a.createElement(xe.a,{height:413,itemCount:k.size,itemData:S,itemKey:function(e){return e},itemSize:51,overscanCount:10,width:500},Re)))},He=function(){return{root:{minHeight:"52px"},search:{color:x.secondaryText,paddingLeft:x.sm},padding:{padding:"0 ".concat(x.md)},add:{fontSize:"11px",fontWeight:"normal",paddingRight:x.md,paddingLeft:x.md},addBtnLabel:{fontSize:x.mediumFontSize},actions:{height:"50px"},list:{overflow:"hidden",overflowY:"scroll",padding:0,height:"100%"},token:{minHeight:"50px",borderBottom:"1px solid ".concat(x.border)},tokenRoot:{paddingTop:0,paddingBottom:0},searchInput:{backgroundColor:"transparent",lineHeight:"initial",fontSize:"13px",padding:0,"& > input::placeholder":{letterSpacing:"-0.5px",fontSize:x.mediumFontSize,color:"black"},"& > input":{letterSpacing:"-0.5px"}},tokenIcon:{marginRight:x.md,height:"28px",width:"28px"},progressContainer:{width:"100%",height:"100%",alignItems:"center"},searchContainer:{width:"180px",marginLeft:x.xs,marginRight:x.xs},searchRoot:{letterSpacing:"-0.5px",fontSize:"13px",border:"none",boxShadow:"none","& > button":{display:"none"}},searchIcon:{"&:hover":{backgroundColor:"transparent !important"}}}},Ue=Object(a.memo)((function(e){var t=e.classes,n=e.data,r=e.index,a=e.style,c=n.activeTokensAddresses,i=n.onSwitch,s=n.tokens.get(r),u=c.has(s.address);return o.a.createElement("div",{style:a},o.a.createElement(Se.a,{classes:{root:t.tokenRoot},className:t.token},o.a.createElement(Ee.a,{className:t.tokenIcon},o.a.createElement(D.a,{alt:s.name,height:28,onError:Ie.a,src:s.logoUri})),o.a.createElement(Ae.a,{primary:s.symbol,secondary:s.name}),s.address!==W.a&&o.a.createElement(Ce.a,null,o.a.createElement(Te.a,{checked:u,inputProps:{"data-testid":"".concat(s.symbol,"_").concat("toggle-token-btn")},onChange:i(s)}))))})),$e=Object(r.a)(He)(Ue);function Ge(e){return(Ge="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e,t){return!t||"object"!==Ge(t)&&"function"!==typeof t?Qe(e):t}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(i,e);var t,n,r,o,c=(t=i,function(){var e,n=et(t);if(Ze()){var r=et(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return qe(this,e)});function i(){var e;Ye(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tt(Qe(e=c.call.apply(c,[this].concat(n))),"renderCount",0),tt(Qe(e),"state",{filter:"",activeTokensAddresses:Object(d.d)([]),initialActiveTokensAddresses:Object(d.d)([]),blacklistedTokensAddresses:Object(d.d)([]),activeTokensCalculated:!1,blacklistedTokensCalculated:!1}),tt(Qe(e),"onCancelSearch",(function(){e.setState((function(){return{filter:""}}))})),tt(Qe(e),"onChangeSearchBar",(function(t){e.setState((function(){return{filter:t}}))})),tt(Qe(e),"onSwitch",(function(t){return function(){e.setState((function(e){var n=e.activeTokensAddresses.has(t.address)?e.activeTokensAddresses.remove(t.address):e.activeTokensAddresses.add(t.address),r=e.blacklistedTokensAddresses;return n.has(t.address)?r=e.blacklistedTokensAddresses.remove(t.address):e.initialActiveTokensAddresses.has(t.address)&&(r=e.blacklistedTokensAddresses.add(t.address)),Ve({},e,{activeTokensAddresses:n,blacklistedTokensAddresses:r})}))}})),tt(Qe(e),"createItemData",(function(t,n){return{tokens:t,activeTokensAddresses:n,onSwitch:e.onSwitch}})),tt(Qe(e),"getItemKey",(function(e,t){return t.tokens.get(e).address})),e}return n=i,o=[{key:"getDerivedStateFromProps",value:function(e,t){if(!t.activeTokensCalculated){var n=e.activeTokens;return{activeTokensAddresses:Object(d.d)(n.map((function(e){return e.address}))),initialActiveTokensAddresses:Object(d.d)(n.map((function(e){return e.address}))),activeTokensCalculated:!0}}return t.blacklistedTokensCalculated?null:{blacklistedTokensAddresses:e.blacklistedTokens,blacklistedTokensCalculated:!0}}}],(r=[{key:"componentWillUnmount",value:function(){var e=this.state,t=e.activeTokensAddresses,n=e.blacklistedTokensAddresses,r=this.props,a=r.safeAddress,o=r.updateActiveTokens,c=r.updateBlacklistedTokens;o(a,t),c(a,n)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.setActiveScreen,r=e.tokens,o=this.state,c=o.activeTokensAddresses,i=o.filter,s={input:t.searchInput,root:t.searchRoot,iconButton:t.searchIcon,searchContainer:t.searchContainer},u=function(e,t){return t.filter((function(t){return!e||t.symbol.toLowerCase().includes(e.toLowerCase())||t.name.toLowerCase().includes(e.toLowerCase())}))}(i,r),l=this.createItemData(u,c);return a.createElement(a.Fragment,null,a.createElement(_.a,{className:t.root},a.createElement(j.a,{align:"center",className:ye()(t.padding,t.actions)},a.createElement(he.a,{className:t.search}),a.createElement(Oe.a,{classes:s,onCancelSearch:this.onCancelSearch,onChange:this.onChangeSearchBar,placeholder:"Search by name or symbol",searchIcon:a.createElement("div",null),value:i}),a.createElement(ke.a,null),a.createElement(je.a,null),a.createElement(ke.a,null),a.createElement(M.a,{classes:{label:t.addBtnLabel},className:t.add,color:"primary",onClick:function(){return n("addCustomToken")},size:"small",testId:"add-custom-token-btn",variant:"contained"},"+ Add custom token")),a.createElement(w.a,null)),!r.size&&a.createElement(_.a,{className:t.progressContainer,justify:"center"},a.createElement(fe.a,null)),r.size>0&&a.createElement(pe.a,{className:t.list},a.createElement(xe.a,{height:413,itemCount:u.size,itemData:l,itemKey:this.getItemKey,itemSize:51,overscanCount:10,width:500},$e)))}}])&&Je(n.prototype,r),o&&Je(n,o),i}(a.Component),rt=Object(r.a)(He)(nt),at=n(503);function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var it=Object(r.a)((function(){return{heading:{padding:"".concat(x.md," ").concat(x.lg),justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},close:{height:"35px",width:"35px"}}}))((function(e){var t=e.activateTokenForAllSafes,n=e.addToken,r=e.classes,i=e.fetchTokens,u=e.modalScreen,d=e.onClose,f=e.safeAddress,p=e.updateActiveTokens,m=e.updateBlacklistedTokens,b=Object(c.f)(S.a),h=Object(c.f)(at.a),v=Object(c.f)(Me.l),y=ot(Object(a.useState)(u),2),g=y[0],O=y[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{align:"center",className:r.heading,grow:!0},o.a.createElement(k.a,{noMargin:!0,size:"xl",weight:"bolder"},"Manage List"),o.a.createElement(s.a,{"data-testid":"manage-tokens-close-modal-btn",disableRipple:!0,onClick:d},o.a.createElement(l.a,{className:r.close}))),o.a.createElement(w.a,null),"tokenList"===g&&o.a.createElement(rt,{activeTokens:h,blacklistedTokens:v,fetchTokens:i,safeAddress:f,setActiveScreen:O,tokens:b,updateActiveTokens:p,updateBlacklistedTokens:m}),"assetsList"===g&&o.a.createElement(We,{setActiveScreen:O}),"addCustomToken"===g&&o.a.createElement(de,{activateTokenForAllSafes:t,activeTokens:h,addToken:n,onClose:d,parentList:"tokenList",safeAddress:f,setActiveScreen:O,tokens:b,updateActiveTokens:p}),"addCustomAsset"===g&&o.a.createElement(Q,{onClose:d,parentList:"assetsList",setActiveScreen:O}))})),st=Object(c.d)(void 0,O)(it);function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt=n(502),dt=n(323),ft=n(81),pt=n(64),mt=n(1775),bt=n(792),ht=n(787),vt=n(584),yt=n(1661),gt=n(2306),Ot=n.n(gt),xt=n(1856),wt=n.n(xt),kt=n(293),jt=n(262),St=n(532),Et=n(1857),Ct=n(536);function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var It=function(){var e=Object.values(jt.a),t=Object(c.f)(Me.v),n=Object(c.e)(),r=At(Object(a.useState)(null),2),i=r[0],s=r[1],u=Object(c.f)(St.c),l=At(Object(a.useState)(""),2),d=l[0],f=l[1],p=Object(Et.a)(),m=e.filter((function(e){return e.toLowerCase().includes(d.toLowerCase())})),b=function(){s(null)};return u?o.a.createElement(yt.a,{theme:Ct.a},o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:p.button,onClick:function(e){s(e.currentTarget)},type:"button"},o.a.createElement("span",{className:ye()(p.buttonInner,i&&p.openMenuButton)},u)),o.a.createElement(ht.a,{anchorEl:i,anchorOrigin:{horizontal:"center",vertical:"bottom"},elevation:0,getContentAnchorEl:null,id:"customizedMenu",keepMounted:!0,onClose:b,open:Boolean(i),rounded:0,transformOrigin:{horizontal:"center",vertical:"top"}},o.a.createElement(vt.a,{className:p.listItemSearch,key:"0"},o.a.createElement("div",{className:p.search},o.a.createElement("div",{className:p.searchIcon},o.a.createElement(he.a,null)),o.a.createElement(bt.a,{classes:{root:p.inputRoot,input:p.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return f(e.target.value)},placeholder:"Search\u2026",value:d}))),o.a.createElement("div",{className:p.dropdownItemsScrollWrapper},m.map((function(e){return o.a.createElement(vt.a,{className:p.listItem,key:e,onClick:function(){return r=e,n(Object(kt.b)(t,r)),void b();var r},value:e},o.a.createElement(Ee.a,{className:p.iconLeft},o.a.createElement("div",{className:ye()(p.localFlag,Ot.a["currency-flag"],Ot.a["currency-flag-lg"],Ot.a["currency-flag-".concat(e.toLowerCase())])})),o.a.createElement(Ae.a,{primary:e}),e===u?o.a.createElement(Ee.a,{className:p.iconRight},o.a.createElement("img",{alt:"checked",src:wt.a})):null)})))))):null},Pt=n(2081),Rt=n(751),Nt=n(292),Lt=n(171),zt=n(741),_t=n(1801);function Mt(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}var Ft=function(e){return function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(zt.a)();case 3:if((r=t.sent)[e]){t.next=7;break}return t.abrupt("return",Object(c.c)((function(){n(Object(Nt.b)(e,Object(d.a)([]))),n(Object(kt.b)(e,jt.a.USD)),n(Object(Lt.b)(e,1))})));case 7:Object.entries(r).forEach((function(t){var r=t[0],a=t[1],o=a.currencyRate,i=a.selectedCurrency;Object(c.c)((function(){n(Object(kt.b)(r,i)),n(Object(Lt.b)(r,o)),n(Object(Rt.a)(r,i)),n(Object(_t.a)(e))}))})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error fetching currency values",t.t0);case 13:return t.abrupt("return",Promise.resolve());case 14:case"end":return t.stop()}}),t,null,[[0,10]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(e){Mt(o,r,a,c,i,"next",e)}function i(e){Mt(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}()};function Dt(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}var Bt=function(e){return function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r){var a,o,c,i,s,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=r(),0!==(o=Object(Me.B)(a)).size){t.next=5;break}return t.abrupt("return");case 5:c=Object(B.c)(a),i=Object(Me.g)(e,o),s=Object(Me.k)(e,o),u=Object.entries(c).filter((function(e){var t=e[1],n=t.address,r=t.numberOfTokens;return null!==n&&!s.has(n)&&r>0})).map((function(e){return e[0]})),l=i.union(u),n(Le(e,l)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error("Error fetching active assets list",t.t0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(e){Dt(o,r,a,c,i,"next",e)}function i(e){Dt(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e,t){return n.apply(this,arguments)}}()},Wt=n(74),Ht=n(537);function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){Gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yt=o.a.lazy((function(){return n.e(56).then(n.bind(null,2364))})),Jt=o.a.lazy((function(){return Promise.all([n.e(5),n.e(39)]).then(n.bind(null,2363))})),Xt="manage-tokens-btn",qt="balance-row",Qt={erc721Enabled:!1,subMenuOptions:[],showToken:!1,showManageCollectibleModal:!1,sendFunds:{isOpen:!1,selectedToken:void 0},showCoins:!0,showCollectibles:!1,showReceive:!1},Zt=/\/balances\/?$/,en=/\/balances\/collectibles$/;t.default=Object(r.a)((function(){return{controls:{alignItems:"center",boxSizing:"border-box",justifyContent:"space-between",padding:"".concat(x.md," 0")},assetTabs:ut({alignItems:"center",display:"flex",order:"2"},"@media (min-width: ".concat(x.screenSm,"px)"),{order:"1"}),assetDivider:{borderRightColor:"".concat(x.secondary," !important"),height:"18px !important"},assetTab:{color:"#686868",margin:"2px 0",padding:"0 10px",textDecoration:"underline","&:hover":{cursor:"pointer"}},assetTabActive:{color:x.secondary,fontWeight:"bold",margin:"2px 0",padding:"0 10px",textDecoration:"none"},tokenControls:ut({alignItems:"center",display:"flex",justifyContent:"space-between",order:"1",padding:"0 0 10px"},"@media (min-width: ".concat(x.screenSm,"px)"),{justifyContent:"flex-end",order:"2",padding:"0"}),manageTokensButton:ut({marginLeft:"auto"},"@media (min-width: ".concat(x.screenSm,"px)"),{marginLeft:"0"}),receiveModal:{height:"auto",maxWidth:"calc(100% - 30px)",minHeight:"544px",overflow:"hidden"},send:{width:"75px",minWidth:"75px",borderRadius:x.xs,"& > span":{fontSize:"14px"}}}}))((function(e){var t=Kt(Object(a.useState)(Qt),2),n=t[0],r=t[1],s=Object(c.f)(Me.v),u=Object(c.f)(Me.p);!function(){var e=Object(c.e)(),t=Object(c.f)(Me.v);Object(a.useMemo)((function(){Zt.test(Wt.a.location.pathname)&&Object(c.c)((function(){e(Object(p.c)()),e(Ft(t)),e(Object(_t.a)(t))})),en.test(Wt.a.location.pathname)&&Object(c.c)((function(){e(Object(Pt.a)()).then((function(){e(Bt(t))}))}))}),[Wt.a.location.pathname])}(),Object(a.useEffect)((function(){var e=en.test(Wt.a.location.pathname),t=Zt.test(Wt.a.location.pathname),n=[{enabled:t,legend:"Coins",url:"".concat(pt.c,"/").concat(s,"/balances")}];e||t||Wt.a.replace("".concat(pt.c,"/").concat(s,"/balances"));var a=u&&u.includes("ERC721");a?n.push({enabled:e,legend:"Collectibles",url:"".concat(pt.c,"/").concat(s,"/balances/collectibles")}):e&&Wt.a.replace(n[0].url),r((function(r){return $t({},r,{showCoins:t,showCollectibles:e,erc721Enabled:a,subMenuOptions:n})}))}),[Wt.a.location.pathname,u]);var l=function(e){r((function(t){return $t({},t,Gt({},"show".concat(e),!0))}))},d=function(e){r((function(t){return $t({},t,Gt({},"show".concat(e),!1))}))},f=e.classes,m=f.assetDivider,b=f.assetTab,h=f.assetTabActive,v=f.assetTabs,y=f.controls,g=f.manageTokensButton,O=f.receiveModal,x=f.tokenControls,w=n.erc721Enabled,k=n.sendFunds,S=n.showCoins,E=n.showCollectibles,C=n.showManageCollectibleModal,A=n.showReceive,T=n.showToken,I=n.subMenuOptions;return o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{align:"center",className:y},o.a.createElement(F.a,{className:v,sm:6,start:"sm",xs:12},I.length>1&&I.map((function(e,t){var n=e.enabled,r=e.legend,a=e.url;return o.a.createElement(o.a.Fragment,{key:"legend-".concat(t)},t>0&&o.a.createElement(je.a,{className:m}),o.a.createElement(ft.a,{className:n?h:b,"data-testid":"".concat(r.toLowerCase(),"'-assets-btn'"),size:"md",to:a,weight:n?"bold":"regular"},r))}))),o.a.createElement(F.a,{className:x,end:"sm",sm:6,xs:12},S&&o.a.createElement(It,null),o.a.createElement(dt.a,{className:g,onClick:w&&E?function(){return l("ManageCollectibleModal")}:function(){return l("Token")},size:"lg",testId:"manage-tokens-btn"},"Manage List"),o.a.createElement(lt.a,{description:w?"Enable and disables assets to be listed":"Enable and disable tokens to be listed",handleClose:C?function(){return d("ManageCollectibleModal")}:function(){return d("Token")},open:T||C,title:"Manage List"},o.a.createElement(st,{modalScreen:C?"assetsList":"tokenList",onClose:C?function(){return d("ManageCollectibleModal")}:function(){return d("Token")},safeAddress:s})))),S&&Object(Ht.a)(o.a.createElement(Jt,{showReceiveFunds:function(){return l("Receive")},showSendFunds:function(e){r((function(t){return $t({},t,{sendFunds:{isOpen:!0,selectedToken:e}})}))}})),w&&E&&Object(Ht.a)(o.a.createElement(Yt,null)),o.a.createElement(mt.a,{activeScreenType:"sendFunds",isOpen:k.isOpen,onClose:function(){r((function(e){return $t({},e,{sendFunds:{isOpen:!1,selectedToken:void 0}})}))},selectedToken:k.selectedToken}),o.a.createElement(lt.a,{description:"Receive Tokens Form",handleClose:function(){return d("Receive")},open:A,paperClassName:O,title:"Receive Tokens"},o.a.createElement(i.a,{onClose:function(){return d("Receive")}})))}))}}]);