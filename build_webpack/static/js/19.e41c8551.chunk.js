(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1681:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return b}));var r=n(260),a=n(109),c=n(72),o=n(258),i=n(1690),s=n(39),u=n(138),l=n(12);function d(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){d(c,r,a,o,i,"next",e)}function i(e){d(c,r,a,o,i,"throw",e)}o(void 0)}))}}var m=function(e){return e.match(/.{2}/g).reduce((function(e,t){return t===u.a?e+0:"00"===t?e+4:e+16}),0)},p=function(){var e=f(regeneratorRuntime.mark((function e(t,n,a,o,d){var f,m,p,b,x,h,g,v,E,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f=Object(l.k)(),e.next=4,Object(l.d)(f);case 4:return m=e.sent,p=new f.eth.Contract(r.abi,t),e.next=8,p.methods.nonce().call();case 8:return b=e.sent,e.next=11,p.methods.getThreshold().call();case 11:if(x=e.sent,!(o&&o.confirmations.size===x||!!d||"1"===x)){e.next=20;break}return g=o&&o.confirmations?Object(i.a)(o.confirmations,d):"0x000000000000000000000000".concat(m.replace("0x",""),"000000000000000000000000000000000000000000000000000000000000000001"),e.next=17,p.methods.execTransaction(n,o?o.value:0,a,c.a,0,0,0,s.a,s.a,g).encodeABI();case 17:h=e.sent,e.next=26;break;case 20:return e.next=22,p.methods.getTransactionHash(n,o?o.value:0,a,c.a,0,0,0,s.a,s.a,b).call({from:m});case 22:return v=e.sent,e.next=25,p.methods.approveHash(v).encodeABI();case 25:h=e.sent;case 26:return e.next=28,Object(u.b)(h,m,t);case 28:return E=e.sent,e.next=31,Object(u.c)();case 31:return y=e.sent,e.abrupt("return",E*parseInt(y,10));case 35:return e.prev=35,e.t0=e.catch(0),console.error("Error while estimating transaction execution gas costs:"),console.error(e.t0),e.abrupt("return",1e4);case 40:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),b=function(){var e=f(regeneratorRuntime.mark((function e(t,n,r,c,i,s){var u,d,f,p,b,x,h,g,v,E,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u=t){e.next=6;break}return e.next=5,Object(o.h)(n);case 5:u=e.sent;case 6:return e.next=8,Object(l.k)();case 8:return d=e.sent,f=u.contract.methods.requiredTxGas(c,i,r,s).encodeABI(),e.next=12,d.eth.call({to:n,from:n,data:f});case 12:return p=e.sent,b=new a.BigNumber(p.substring(138),16).toNumber()+1e4,x=m(f)+21e3,h=[1e4,2e4,4e4,8e4,16e4,32e4,64e4,128e4,256e4,512e4],g=new d.BatchRequest,v=h.map((function(e){return new Promise((function(n){var r=d.eth.call.request({to:t.address,from:t.address,data:f,gasPrice:0,gasLimit:b+x+e},(function(t,r){var a=r&&"string"===typeof r.data,c=!t&&("string"===typeof r&&"0x"!==r||a&&"0x"!==r.data.slice(9));n({success:c,estimation:b+e})}));g.add(r)}))})),g.execute(),e.next=21,Promise.all(v);case 21:if(E=e.sent,!(y=E.find((function(e){return e.success})))){e.next=25;break}return e.abrupt("return",y.estimation);case 25:return e.abrupt("return",0);case 28:return e.prev=28,e.t0=e.catch(0),console.error("Error calculating tx gas estimation",e.t0),e.abrupt("return",0);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t,n,r,a,c,o){return e.apply(this,arguments)}}()},1683:function(e,t,n){"use strict";var r=n(67),a=n(511),c=n.n(a),o=n(153),i=n(22),s=n(258),u=n(31),l=n(72),d=n(1681),f=n(510),m=n(504),p=n(39),b=n(138),x=n(83),h=n(64),g=n(1704),v=n(1691),E=n(1692);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){j(c,r,a,o,i,"next",e)}function i(e){j(c,r,a,o,i,"throw",e)}o(void 0)}))}}t.a=function(e){var t=e.safeAddress,n=e.to,a=e.valueInWei,y=e.txData,O=void 0===y?b.a:y,j=e.notifiedTransaction,k=e.enqueueSnackbar,C=e.closeSnackbar,S=e.txNonce,R=e.operation,A=void 0===R?l.a:R,N=e.navigateToTransactionsTab,P=void 0===N||N,I=e.origin,D=void 0===I?null:I;return function(){var e=T(regeneratorRuntime.mark((function e(b,y){var R,N,I,L,B,H,_,z,W,M,F,G,q,U,X,$,V,Y,J,K,Q,Z;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R=y(),P&&b(Object(r.d)("".concat(h.c,"/").concat(t,"/transactions"))),e.next=4,Object(o.c)();case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return N=Object(x.e)(R),I=N.account,L=N.hardwareWallet,B=N.smartContractWallet,e.next=10,Object(s.h)(t);case 10:return H=e.sent,e.next=13,Object(v.a)(t);case 13:return _=e.sent,e.next=16,Object(v.b)(S,_,H);case 16:return z=e.sent,e.next=19,Object(v.c)(H,z,_);case 19:return W=e.sent,e.next=22,Object(m.c)(H);case 22:return M=e.sent,e.next=25,Object(d.a)(H,t,O,n,a,A);case 25:if(F=e.sent,G="0x000000000000000000000000".concat(I.replace("0x",""),"000000000000000000000000000000000000000000000000000000000000000001"),q=Object(u.c)(j,D),U=Object(u.d)(q.beforeExecution,k,C),Y={safeInstance:H,to:n,valueInWei:a,data:O,operation:A,nonce:z,safeTxGas:F,baseGas:0,gasPrice:0,gasToken:p.a,refundReceiver:p.a,sender:I,sigs:G},e.prev=30,!(!W&&!B&&c()(M,f.a))){e.next=43;break}return e.next=35,Object(f.b)(w({},Y,{safeAddress:t}),L);case 35:if(!(J=e.sent)){e.next=43;break}return C(U),e.next=40,Object(l.f)(w({},Y,{signature:J,origin:D}));case 40:return Object(u.d)(q.afterExecution.moreConfirmationsNeeded,k,C),b(Object(g.a)(t)),e.abrupt("return");case 43:if(!W){e.next=49;break}return e.next=46,Object(l.e)(Y);case 46:e.t0=e.sent,e.next=52;break;case 49:return e.next=51,Object(l.d)(Y);case 51:e.t0=e.sent;case 52:return V=e.t0,K={from:I,value:0},Y.to===Object(i.a)()&&(K.gas="2000000"),e.next=58,V.send(K).once("transactionHash",function(){var e=T(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $=n,C(U),X=Object(u.d)(q.pendingExecution,k,C),e.prev=3,e.next=6,Object(l.f)(w({},Y,{txHash:$,origin:D}));case 6:b(Object(g.a)(t)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e){console.error("Tx error: ",e)})).then((function(e){return C(X),Object(u.d)(W?q.afterExecution.noMoreConfirmationsNeeded:q.afterExecution.moreConfirmationsNeeded,k,C),b(Object(g.a)(t)),e.transactionHash}));case 58:e.next=71;break;case 60:return e.prev=60,e.t1=e.catch(30),console.error(e.t1),C(U),C(X),Object(u.d)(q.afterExecutionError,k,C),Q=H.contract.methods.execTransaction(n,a,O,A,0,0,0,p.a,p.a,G).encodeABI(),e.next=69,Object(E.a)(H.address,0,Q,I);case 69:Z=e.sent,console.error("Error creating the TX: ".concat(Z));case 71:return e.abrupt("return",$);case 72:case"end":return e.stop()}}),e,null,[[30,60]])})));return function(t,n){return e.apply(this,arguments)}}()}},1690:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(6);var r=function(e,t){var n=e.reduce((function(e,t){return e[t.owner.toLowerCase()]=t,e}),{});t&&(n[t.toLowerCase()]={owner:t});var r="0x";return Object.keys(n).sort().forEach((function(e){var t=n[e];t.signature?r+=t.signature.slice(2):r+="000000000000000000000000".concat(e.replace("0x",""),"000000000000000000000000000000000000000000000000000000000000000001")})),r}},1691:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(84),a=n.n(r),c=n(508);function o(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){o(c,r,a,i,s,"next",e)}function s(e){o(c,r,a,i,s,"throw",e)}i(void 0)}))}}var s=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(c.a)(t),e.next=4,a.a.get(n,{params:{limit:1}});case 4:return r=e.sent,e.abrupt("return",r.data.results[0]||null);case 8:return e.prev=8,e.t0=e.catch(0),console.error("failed to retrieve last Tx from server",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=i(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Number.isInteger(Number.parseInt(t,10))){e.next=9;break}if(null!==n){e.next=7;break}return e.next=4,r.nonce();case 4:e.t0=e.sent.toString(),e.next=8;break;case 7:e.t0="".concat(n.nonce+1);case 8:return e.abrupt("return",e.t0);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),l=function(){var e=i(regeneratorRuntime.mark((function e(t,n,r){var a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getThreshold();case 2:if(1!==e.sent.toNumber()){e.next=7;break}return a=0===Number.parseInt(n),c=r&&r.isExecuted,e.abrupt("return",a||c);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},1692:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(1708),a=n.n(r),c=n(12);function o(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,a)}var i=function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r,o,i){var s,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=Object(c.k)(),t.next=3,s.eth.call({to:n,from:i,value:r,data:o});case 3:return u=t.sent,l=e.from(u.slice(2),"hex"),t.abrupt("return",a.a.rawDecode(["string"],l.slice(4))[0]);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var c=t.apply(e,n);function i(e){o(c,r,a,i,s,"next",e)}function s(e){o(c,r,a,i,s,"throw",e)}i(void 0)}))});return function(e,t,r,a){return n.apply(this,arguments)}}()}).call(this,n(11).Buffer)},2307:function(e,t,n){e.exports=n.p+"img/c843685af0e88c27dba47c66e1ad3f83.svg"},2308:function(e,t,n){e.exports=n.p+"img/48f89a49962f255dd7367938f2279288.svg"},2309:function(e,t,n){e.exports=n.p+"img/2ae34c37774290b9b3d8483885576ce7.svg"},2310:function(e,t,n){e.exports=n.p+"img/234816b020f08e84f0fe4f51655cb222.svg"},2311:function(e,t,n){e.exports=n.p+"img/f146d7d1504e1899d6231ae514c5c7c1.svg"},2312:function(e,t,n){e.exports=n.p+"img/863cc18ee75a7933db15cbd17d4a97a0.svg"},2313:function(e,t,n){e.exports=n.p+"img/d9eb1eaf4469194c6e64deec76aafc82.svg"},2314:function(e,t,n){e.exports=n.p+"img/66056606909b4ff23e60d3c7e08ed7b2.svg"},2315:function(e,t,n){e.exports=n.p+"img/5c545656efe7956592e75e620a9b4746.svg"},2316:function(e,t,n){e.exports=n.p+"img/6bb5b8466f187e54abbeafcfe03e47d4.svg"},2317:function(e,t,n){e.exports=n.p+"img/219be6d5e308175b5e2a463029f98fab.svg"},2318:function(e,t,n){e.exports=n.p+"img/eb34ab01c3da0b828aeb31ebf844811b.svg"},2319:function(e,t,n){e.exports=n.p+"img/7c11ba594f49575cc22db63b58fd52d4.svg"},2356:function(e,t,n){"use strict";n.r(t),n.d(t,"TRANSACTION_ROW_TEST_ID",(function(){return Wt}));var r=n(590),a=n(479),c=n(2350),o=n(2179),i=n(2349),s=n(8),u=n(241),l=n.n(u),d=n(242),f=n.n(d),m=n(42),p=n.n(m),b=n(0),x=n.n(b),h=n(47),g=n(379),v=n(523),E=n(749),y=n(582),w=n(501),O=n.n(w),j=n(212),T=n(2),k=n(502),C=n(95),S=n(512),R=n(96),A=n(80),N=n(27),P=n(70),I=n(72),D=n(1681),L=n(318),B=n(12),H=n(83),_=n(511),z=n.n(_),W=n(258),M=n(31),F=n(1690),G=n(510),q=n(504),U=n(1730),X=n(1704),$=n(1691),V=n(1692);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(Tt){return void n(Tt)}i.done?t(s):Promise.resolve(s).then(r,a)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){Q(c,r,a,o,i,"next",e)}function i(e){Q(c,r,a,o,i,"throw",e)}o(void 0)}))}}var ee=function(e){var t=e.approveAndExecute,n=e.closeSnackbar,r=e.enqueueSnackbar,a=e.notifiedTransaction,c=e.safeAddress,o=e.tx,i=e.userAddress;return function(){var e=Z(regeneratorRuntime.mark((function e(s,u){var l,d,f,m,p,b,x,h,g,v,E,y,w,O,j,T,k,C,S,R,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=u(),d=Object(H.e)(l),f=d.account,m=d.hardwareWallet,p=d.smartContractWallet,e.next=4,Object(W.h)(c);case 4:return b=e.sent,e.next=7,Object($.a)(c);case 7:return x=e.sent,e.next=10,Object($.b)(null,x,b);case 10:if(h=e.sent,e.t0=t,e.t0){e.next=16;break}return e.next=15,Object($.c)(b,h,x);case 15:e.t0=e.sent;case 16:return g=e.t0,e.next=19,Object(q.c)(b);case 19:if(v=e.sent,(E=Object(F.a)(o.confirmations,t&&i))||(E="0x000000000000000000000000".concat(f.replace("0x",""),"000000000000000000000000000000000000000000000000000000000000000001")),y=Object(M.c)(a,o.origin),w=Object(M.d)(y.beforeExecution,r,n),k={safeInstance:b,to:o.recipient,valueInWei:o.value,data:o.data,operation:o.operation,nonce:o.nonce,safeTxGas:o.safeTxGas,baseGas:o.baseGas,gasPrice:o.gasPrice||"0",gasToken:o.gasToken,refundReceiver:o.refundReceiver,sender:f,sigs:E},e.prev=25,!(!g&&!p&&z()(v,G.a))){e.next=38;break}return e.next=30,Object(G.b)(J({},k,{safeAddress:c}),m);case 30:if(!(C=e.sent)){e.next=38;break}return n(w),e.next=35,Object(I.f)(J({},k,{signature:C,origin:origin}));case 35:return Object(M.d)(y.afterExecution.moreConfirmationsNeeded,r,n),s(Object(X.a)(c)),e.abrupt("return");case 38:if(!g){e.next=44;break}return e.next=41,Object(I.e)(k);case 41:e.t1=e.sent,e.next=47;break;case 44:return e.next=46,Object(I.d)(k);case 46:e.t1=e.sent;case 47:return T=e.t1,S={from:f,value:0},e.next=52,T.send(S).once("transactionHash",function(){var e=Z(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j=t,n(w),O=Object(M.d)(y.pendingExecution,r,n),e.prev=3,e.next=6,Object(I.f)(J({},k,{txHash:j}));case 6:s(Object(X.a)(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e){console.error("Processing transaction error: ",e)})).then((function(e){return n(O),Object(M.d)(g?y.afterExecution.noMoreConfirmationsNeeded:y.afterExecution.moreConfirmationsNeeded,r,n),s(Object(X.a)(c)),g&&s(Object(U.c)(c)),e.transactionHash}));case 52:e.next=65;break;case 54:return e.prev=54,e.t2=e.catch(25),console.error(e.t2),n(w),n(O),Object(M.d)(y.afterExecutionError,r,n),R=b.contract.methods.approveHash(j).encodeABI(),e.next=63,Object(V.a)(b.address,0,R,f);case 63:A=e.sent,console.error("Error executing the TX: ".concat(A));case 65:return e.abrupt("return",j);case 66:case"end":return e.stop()}}),e,null,[[25,54]])})));return function(t,n){return e.apply(this,arguments)}}()},te=n(32);function ne(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(Tt){return void n(Tt)}i.done?t(s):Promise.resolve(s).then(r,a)}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,c=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce=Object(s.a)((function(){return{heading:{padding:"".concat(T.sm," ").concat(T.lg),justifyContent:"space-between",boxSizing:"border-box",maxHeight:"75px"},headingText:{fontSize:T.lg},closeIcon:{height:"35px",width:"35px"},container:{padding:"".concat(T.md," ").concat(T.lg)},buttonRow:{height:"84px",justifyContent:"center",position:"absolute",bottom:0,width:"100%",borderTop:"1px solid ".concat(T.border)},nonceNumber:{marginTop:T.sm,fontSize:T.md}}}))(Object(j.withSnackbar)((function(e){var t=e.canExecute,n=e.classes,r=e.closeSnackbar,c=e.enqueueSnackbar,o=e.isCancelTx,i=e.isOpen,s=e.onClose,u=e.thresholdReached,l=e.tx,d=Object(h.e)(),f=Object(h.f)(H.f),m=Object(h.f)(te.x),p=Object(h.f)(te.v),g=re(Object(b.useState)(t),2),v=g[0],w=g[1],j=re(Object(b.useState)("< 0.001"),2),T=j[0],_=j[1],z=function(e,t){var n={title:"Execute Transaction Rejection",description:"This action will execute this transaction."};return t||(e?(n.title="Execute Transaction",n.description="This action will execute this transaction. A separate Transaction will be performed to submit the execution."):(n.title="Approve Transaction",n.description="This action will approve this transaction. A separate Transaction will be performed to submit the approval.")),n}(u,o),W=z.description,M=z.title,F=!u&&l.confirmations.size+1===m,G=!!F||u;Object(b.useEffect)((function(){var e=!0;return function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n,r,a,c,o,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(B.k)(),r=n.utils,a=r.fromWei,c=r.toBN,t.next=4,Object(D.b)(p,l.recipient,l.data,l,v?f:void 0);case 4:o=t.sent,i=a(c(o),"ether"),s=Object(L.a)(i),e&&_(s);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var c=t.apply(e,n);function o(e){ne(c,r,a,o,i,"next",e)}function i(e){ne(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}()(),function(){e=!1}}),[v]);return x.a.createElement(k.a,{description:W,handleClose:s,open:i,title:M},x.a.createElement(P.a,{align:"center",className:n.heading,grow:!0},x.a.createElement(N.a,{className:n.headingText,noMargin:!0,weight:"bolder"},M),x.a.createElement(a.a,{disableRipple:!0,onClick:s},x.a.createElement(O.a,{className:n.closeIcon}))),x.a.createElement(A.a,null),x.a.createElement(C.a,{className:n.container},x.a.createElement(P.a,{style:{flexDirection:"column"}},x.a.createElement(N.a,null,W),x.a.createElement(N.a,{color:"medium",size:"sm"},"Transaction nonce:",x.a.createElement("br",null),x.a.createElement(S.a,{className:n.nonceNumber},l.nonce)),F&&t&&x.a.createElement(x.a.Fragment,null,x.a.createElement(N.a,{color:"error"},"Approving this transaction executes it right away.",!o&&" If you want approve but execute the transaction manually later, click on the checkbox below."),!o&&x.a.createElement(y.a,{control:x.a.createElement(E.a,{checked:v,color:"primary",onChange:function(){return w((function(e){return!e}))}}),label:"Execute transaction"}))),x.a.createElement(P.a,null,x.a.createElement(N.a,null,"You're about to ".concat(v?"execute":"approve"," a transaction and will have to confirm it with your currently connected wallet. Make sure you have ").concat(T," (fee price) ETH in this wallet to fund this confirmation.")))),x.a.createElement(P.a,{align:"center",className:n.buttonRow},x.a.createElement(R.a,{minHeight:42,minWidth:140,onClick:s},"Exit"),x.a.createElement(R.a,{color:o?"secondary":"primary",minHeight:42,minWidth:214,onClick:function(){d(ee({safeAddress:p,tx:l,userAddress:f,notifiedTransaction:I.c.CONFIRMATION_TX,enqueueSnackbar:c,closeSnackbar:r,approveAndExecute:t&&v&&G})),s()},testId:o?"reject-tx-modal-submit-btn":"approve-tx-modal-submit-btn",type:"submit",variant:"contained"},M)))}))),oe=(n(6),n(2307)),ie=n.n(oe),se=n(2308),ue=n.n(se),le=n(2309),de=n.n(le),fe=n(2310),me=n.n(fe),pe=n(2311),be=n.n(pe),xe=function(){return{ownersList:{height:"192px",overflowY:"scroll",padding:0,width:"100%"},rightCol:{borderLeft:"2px solid ".concat(T.border),boxSizing:"border-box"},verticalLine:{backgroundColor:T.secondaryText,height:"55px",left:"27px",position:"absolute",top:"-27px",width:"2px",zIndex:"12"},verticalLinePending:{backgroundColor:T.secondaryText},verticalLineDone:{backgroundColor:T.secondary},verticalLineCancel:{backgroundColor:T.error},icon:{marginRight:T.sm},owner:{borderBottom:"1px solid ".concat(T.border)},container:{alignItems:"center",display:"flex",padding:"13px 15px 13px 18px",position:"relative"},ownerListTitle:{alignItems:"center",display:"flex",fontSize:"11px",fontWeight:T.boldFont,letterSpacing:"1px",lineHeight:1.3,padding:"15px 15px 15px 18px",position:"relative",textTransform:"uppercase"},olderTxAnnotation:{textAlign:"center"},ownerListTitleDone:{color:T.secondary},ownerListTitleCancelDone:{color:T.error},name:{height:"15px",overflow:"hidden",textOverflow:"ellipsis"},address:{height:"20px"},spacer:{flex:"auto"},circleState:{display:"flex",justifyContent:"center",marginRight:"18px",width:"20px",zIndex:"13","& > img":{display:"block"}},button:{alignSelf:"center",flexGrow:"0",fontSize:"16px",justifyContent:"center",paddingLeft:"14px",paddingRight:"14px"},lastButton:{marginLeft:"10px"},executor:{alignSelf:"center",background:T.border,borderRadius:"3px",color:T.primary,fontSize:"11px",height:"24px",lineHeight:"24px",padding:"0 12px"}}},he=n(1722),ge=n(151),ve=n(50),Ee=n(505);function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,c=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Oe=Object(s.a)(xe)((function(e){var t=e.classes,n=e.confirmed,r=e.executor,a=e.isCancelTx,c=e.onTxConfirm,o=e.onTxExecute,i=e.onTxReject,s=e.owner,u=e.showConfirmBtn,l=e.showExecuteBtn,d=e.showExecuteRejectBtn,f=e.showRejectBtn,m=e.thresholdReached,b=e.userAddress,g=Object(h.f)((function(e){return Object(Ee.d)(e,s)})),v=ye(x.a.useState(me.a),2),E=v[0],y=v[1];x.a.useMemo((function(){n?y(a?ie.a:ue.a):(m||r)&&y(a?be.a:de.a)}),[n,m,r,a]);return x.a.createElement(C.a,{className:t.container},x.a.createElement("div",{className:p()(t.verticalLine,(n||m||r)&&(a?t.verticalLineCancel:t.verticalLineDone))}),x.a.createElement("div",{className:t.circleState},x.a.createElement(ve.a,{alt:"",src:E})),x.a.createElement(ge.a,{address:s,className:t.icon,diameter:32}),x.a.createElement(C.a,null,x.a.createElement(N.a,{className:t.name,noMargin:!0},g),x.a.createElement(he.a,{className:t.address,cut:4,type:"address",value:s})),x.a.createElement(C.a,{className:t.spacer}),s===b&&x.a.createElement(C.a,null,a?x.a.createElement(x.a.Fragment,null,f&&x.a.createElement(R.a,{className:p()(t.button,t.lastButton),color:"secondary",onClick:i,testId:"reject-btn",variant:"contained"},"Reject"),d&&x.a.createElement(R.a,{className:p()(t.button,t.lastButton),color:"secondary",onClick:i,testId:"execute-reject-btn",variant:"contained"},"Execute")):x.a.createElement(x.a.Fragment,null,u&&x.a.createElement(R.a,{className:t.button,color:"primary",onClick:c,testId:"confirm-btn",variant:"contained"},"Confirm"),l&&x.a.createElement(R.a,{className:t.button,color:"primary",onClick:o,testId:"execute-btn",variant:"contained"},"Execute"))),s===r&&x.a.createElement(C.a,{className:t.executor},"Executor"))})),je=Object(s.a)(xe)((function(e){var t=e.classes,n=e.executor,r=e.isCancelTx,a=e.onTxConfirm,c=e.onTxExecute,o=e.onTxReject,i=e.ownersUnconfirmed,s=e.ownersWhoConfirmed,u=e.showConfirmBtn,l=e.showExecuteBtn,d=e.showExecuteRejectBtn,f=e.showRejectBtn,m=e.thresholdReached,p=e.userAddress;return x.a.createElement(x.a.Fragment,null,s.map((function(e){return x.a.createElement(Oe,{classes:t,confirmed:!0,executor:n,isCancelTx:r,key:e,onTxExecute:c,onTxReject:o,owner:e,showExecuteBtn:l,showExecuteRejectBtn:d,showRejectBtn:f,thresholdReached:m,userAddress:p})})),i.map((function(e){return x.a.createElement(Oe,{classes:t,executor:n,isCancelTx:r,key:e,onTxConfirm:a,onTxExecute:c,onTxReject:o,owner:e,showConfirmBtn:u,showExecuteBtn:l,showExecuteRejectBtn:d,showRejectBtn:f,thresholdReached:m,userAddress:p})})))})),Te=n(2312),ke=n.n(Te),Ce=n(2313),Se=n.n(Ce),Re=n(2314),Ae=n.n(Re),Ne=n(2315),Pe=n.n(Ne),Ie=n(2316),De=n.n(Ie),Le=n(97),Be=n(527),He=n(1903);function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,c=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function We(e,t){var n=[],r=!1;return e.confirmations.forEach((function(e){e.owner===t&&(r=!0),e.type===Be.c&&n.push(e.owner)})),[n,r]}function Me(e,t,n){var r=[],a=!0;return e.forEach((function(e){var c=t.confirmations.find((function(t){return t.owner===e.address}));c||r.push(e.address),c&&c.owner===n&&(a=!1)})),[r,a]}var Fe=Object(s.a)(xe)((function(e){var t,n=e.tx,r=e.cancelTx,a=void 0===r?Object(He.a)():r,c=e.classes,o=e.thresholdReached,i=e.cancelThresholdReached,s=e.onTxConfirm,u=e.onTxExecute,l=e.onTxReject,d=e.canExecute,f=e.canExecuteCancel;t=!n.isExecuted&&!a.isExecuted&&(o&&!d||i&&!f);var m=Object(h.f)(te.u),b=Object(h.f)(te.x),g=Object(h.f)(H.f),v=_e(We(n,g),2),E=v[0],y=v[1],w=_e(Me(m,n,g),2),O=w[0],j=w[1],T=_e(We(a,g),2),k=T[0],S=T[1],R=_e(Me(m,a,g),2),A=R[0],P=R[1],I=!0;(n.executionTxHash||"cancelled"===n.status||S)&&(I=!1);var D=!n.isExecuted&&"pending"!==n.status&&!n.cancelled&&j&&!y&&!o,L=d&&!n.isExecuted&&o,B=!a.isExecuted&&!n.isExecuted&&"pending"!==a.status&&P&&!S&&!i&&I,_=!a.isExecuted&&!n.isExecuted&&f&&i,z=a.isExecuted?n.confirmations.size:b,W=n.isExecuted?a.confirmations.size:b;return x.a.createElement(Le.a,{className:c.rightCol,layout:"block",xs:6},x.a.createElement(C.a,{className:p()(c.ownerListTitle,(o||n.isExecuted)&&c.ownerListTitleDone)},x.a.createElement("div",{className:c.circleState},x.a.createElement(ve.a,{alt:"",src:o||n.isExecuted?ke.a:Ae.a})),n.isExecuted?"Confirmed [".concat(n.confirmations.size,"/").concat(n.confirmations.size,"]"):"Confirmed [".concat(n.confirmations.size,"/").concat(z,"]")),x.a.createElement(je,{executor:n.executor,onTxConfirm:s,onTxExecute:u,ownersUnconfirmed:O,ownersWhoConfirmed:E,showConfirmBtn:D,showExecuteBtn:L,thresholdReached:o,userAddress:g}),x.a.createElement(C.a,{className:p()(c.ownerListTitle,(i||a.isExecuted)&&c.ownerListTitleCancelDone)},x.a.createElement("div",{className:p()(c.verticalLine,n.isExecuted?c.verticalLineDone:c.verticalLinePending)}),x.a.createElement("div",{className:c.circleState},x.a.createElement(ve.a,{alt:"",src:i||a.isExecuted?Se.a:De.a})),a.isExecuted?"Rejected [".concat(a.confirmations.size,"/").concat(a.confirmations.size,"]"):"Rejected [".concat(a.confirmations.size,"/").concat(W,"]")),x.a.createElement(je,{executor:a.executor,isCancelTx:!0,onTxReject:l,ownersUnconfirmed:A,ownersWhoConfirmed:k,showExecuteRejectBtn:_,showRejectBtn:B,thresholdReached:i,userAddress:g}),x.a.createElement(C.a,{className:p()(c.ownerListTitle,n.isExecuted&&c.ownerListTitleDone,a.isExecuted&&c.ownerListTitleCancelDone)},x.a.createElement("div",{className:p()(c.verticalLine,n.isExecuted&&c.verticalLineDone,a.isExecuted&&c.verticalLineCancel)}),x.a.createElement("div",{className:c.circleState},!n.isExecuted&&!a.isExecuted&&x.a.createElement(ve.a,{alt:"Confirm / Execute tx",src:Pe.a}),n.isExecuted&&x.a.createElement(ve.a,{alt:"TX Executed icon",src:ke.a}),a.isExecuted&&x.a.createElement(ve.a,{alt:"TX Executed icon",src:Se.a})),"Executed"),t&&x.a.createElement(C.a,{className:c.olderTxAnnotation},x.a.createElement(N.a,null,"There are older transactions that need to be executed first")))})),Ge=n(138),qe=n(1683);function Ue(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(Tt){return void n(Tt)}i.done?t(s):Promise.resolve(s).then(r,a)}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,c=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ve=Object(s.a)((function(){return{heading:{padding:"".concat(T.sm," ").concat(T.lg),justifyContent:"space-between",boxSizing:"border-box",maxHeight:"75px"},headingText:{fontSize:T.lg},closeIcon:{height:"35px",width:"35px"},container:{padding:"".concat(T.md," ").concat(T.lg)},buttonRow:{height:"84px",justifyContent:"center",position:"absolute",bottom:0,width:"100%",borderTop:"1px solid ".concat(T.border)},nonceNumber:{marginTop:T.sm,fontSize:T.md}}}))(Object(j.withSnackbar)((function(e){var t=e.classes,n=e.closeSnackbar,r=e.enqueueSnackbar,c=e.isOpen,o=e.onClose,i=e.tx,s=Xe(Object(b.useState)("< 0.001"),2),u=s[0],l=s[1],d=Object(h.e)(),f=Object(h.f)(te.v);Object(b.useEffect)((function(){var e=!0;return function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n,r,a,c,o,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(B.k)(),r=n.utils,a=r.fromWei,c=r.toBN,t.next=4,Object(D.b)(f,f,Ge.a);case 4:o=t.sent,i=a(c(o),"ether"),s=Object(L.a)(i),e&&l(s);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var c=t.apply(e,n);function o(e){Ue(c,r,a,o,i,"next",e)}function i(e){Ue(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}()(),function(){e=!1}}),[]);return x.a.createElement(k.a,{description:"Reject Transaction",handleClose:o,open:c,title:"Reject Transaction"},x.a.createElement(P.a,{align:"center",className:t.heading,grow:!0},x.a.createElement(N.a,{className:t.headingText,noMargin:!0,weight:"bolder"},"Reject transaction"),x.a.createElement(a.a,{disableRipple:!0,onClick:o},x.a.createElement(O.a,{className:t.closeIcon}))),x.a.createElement(A.a,null),x.a.createElement(C.a,{className:t.container},x.a.createElement(P.a,null,x.a.createElement(N.a,null,"This action will cancel this transaction. A separate transaction will be performed to submit the rejection."),x.a.createElement(N.a,{color:"medium",size:"sm"},"Transaction nonce:",x.a.createElement("br",null),x.a.createElement(S.a,{className:t.nonceNumber},i.nonce))),x.a.createElement(P.a,null,x.a.createElement(N.a,null,"You're about to create a transaction and will have to confirm it with your currently connected wallet. Make sure you have ".concat(u," (fee price) ETH in this wallet to fund this confirmation.")))),x.a.createElement(P.a,{align:"center",className:t.buttonRow},x.a.createElement(R.a,{minHeight:42,minWidth:140,onClick:o},"Exit"),x.a.createElement(R.a,{color:"secondary",minHeight:42,minWidth:214,onClick:function(){d(Object(qe.a)({safeAddress:f,to:f,valueInWei:0,notifiedTransaction:I.c.CANCELLATION_TX,enqueueSnackbar:r,closeSnackbar:n,txNonce:i.nonce,origin:i.origin})),o()},type:"submit",variant:"contained"},"Reject Transaction")))}))),Ye=n(1827),Je=n(316),Ke=n(317),Qe=n(81),Ze=n(1901),et=n(39),tt=n(1758);function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,c=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var at=function(e){var t=e.amount,n=void 0===t?"":t,r=e.recipient,a=Object(h.f)((function(e){return Object(Ee.d)(e,r)}));return x.a.createElement(C.a,{"data-testid":"tx-description-send"},x.a.createElement(S.a,null,"Send ",n," to:"),a?x.a.createElement(tt.a,{address:r,knownAddress:!0,showLinks:!0,userName:a}):x.a.createElement(he.a,{knownAddress:!1,type:"address",value:r}))},ct=function(e){var t=e.removedOwner,n=Object(h.f)((function(e){return Object(Ee.d)(e,t)}));return x.a.createElement(C.a,{"data-testid":"tx-description-remove-owner"},x.a.createElement(S.a,null,"Remove owner:"),n?x.a.createElement(tt.a,{address:t,knownAddress:!0,showLinks:!0,userName:n}):x.a.createElement(he.a,{knownAddress:!1,type:"address",value:t}))},ot=function(e){var t=e.addedOwner,n=Object(h.f)((function(e){return Object(Ee.d)(e,t)}));return x.a.createElement(C.a,{"data-testid":"tx-description-add-owner"},x.a.createElement(S.a,null,"Add owner:"),n?x.a.createElement(tt.a,{address:t,knownAddress:!0,showLinks:!0,userName:n}):x.a.createElement(he.a,{knownAddress:!1,type:"address",value:t}))},it=function(e){var t=e.newThreshold;return x.a.createElement(C.a,{"data-testid":"tx-description-change-threshold"},x.a.createElement(S.a,null,"Change required confirmations:"),x.a.createElement(N.a,{noMargin:!0,size:"md"},t))},st=function(e){var t=e.action,n=e.addedOwner,r=e.newThreshold,a=e.removedOwner;return t===Ye.a.REMOVE_OWNER&&a&&r?x.a.createElement(x.a.Fragment,null,x.a.createElement(ct,{removedOwner:a}),x.a.createElement(it,{newThreshold:r})):t===Ye.a.CHANGE_THRESHOLD&&r?x.a.createElement(it,{newThreshold:r}):t===Ye.a.ADD_OWNER_WITH_THRESHOLD&&n&&r?x.a.createElement(x.a.Fragment,null,x.a.createElement(ot,{addedOwner:n}),x.a.createElement(it,{newThreshold:r})):t===Ye.a.SWAP_OWNER&&a&&n?x.a.createElement(x.a.Fragment,null,x.a.createElement(ct,{removedOwner:a}),x.a.createElement(ot,{addedOwner:n})):x.a.createElement(C.a,{"data-testid":"tx-description-no-data"},x.a.createElement(S.a,null,"No data available for current transaction"))},ut=function(e){var t=e.amount,n=void 0===t?0:t,r=e.classes,a=e.data,c=e.recipient,o=nt(Object(b.useState)(!1),2),i=o[0],s=o[1],u=Object(h.f)((function(e){return Object(Ee.d)(e,c)}));return x.a.createElement(x.a.Fragment,null,x.a.createElement(C.a,{"data-testid":"tx-description-custom-value"},x.a.createElement(S.a,null,"Send ",n," to:"),u?x.a.createElement(tt.a,{address:c,knownAddress:!0,showLinks:!0,userName:u}):x.a.createElement(he.a,{knownAddress:!1,type:"address",value:c})),x.a.createElement(C.a,{className:r.txData,"data-testid":"tx-description-custom-data"},x.a.createElement(S.a,null,"Data (hex encoded):"),x.a.createElement(N.a,{className:r.txDataParagraph,noMargin:!0,size:"md"},i?x.a.createElement(x.a.Fragment,null,a," ",x.a.createElement(Qe.a,{"aria-label":"Hide details of the transaction",className:r.linkTxData,onClick:function(){return s(!1)},rel:"noopener noreferrer",target:"_blank"},"Show Less")):x.a.createElement(x.a.Fragment,null,Object(et.e)(a,20)," ",x.a.createElement(Qe.a,{"aria-label":"Show details of the transaction",className:r.linkTxData,onClick:function(){return s(!0)},rel:"noopener noreferrer",target:"_blank"},"Show More")))))},lt=function(e){var t=e.label,n=e.value,r=n.addr,a=n.amount,c=Object(h.f)((function(e){return Object(Ee.d)(e,r)})),o=Ze.a.formatValue(a.value);return x.a.createElement("div",null,x.a.createElement("div",{style:{fontWeight:"bold"}},t,":"),x.a.createElement("div",null,"Value: ",o," ",a.unit),x.a.createElement("div",null,c?x.a.createElement("div",{style:{display:"flex"}},"Address: ",c,x.a.createElement("div",{style:{display:"flex",marginLeft:"0.5rem"}},x.a.createElement(Je.a,{content:r}),x.a.createElement(Ke.a,{type:"address",value:r}))):x.a.createElement(he.a,{knownAddress:!1,type:"address",value:r})))},dt=function(e){var t=e.classes,n=e.data;return x.a.createElement(x.a.Fragment,null,x.a.createElement(C.a,{className:t.txData,"data-testid":"tx-description-custom-data"},x.a.createElement(S.a,null,"Bounty payout:"),x.a.createElement("div",{className:t.txDataParagraph},n.bountyLink&&x.a.createElement("p",null,"Bounty:"," ",x.a.createElement("a",{href:n.bountyLink,rel:"noopener noreferrer",target:"_blank"},n.bountyLink)),n.gardener&&x.a.createElement(lt,{label:"Gardener",value:n.gardener}),n.worker&&x.a.createElement(lt,{label:"Worker",value:n.worker}),n.reviewer&&x.a.createElement(lt,{label:"Reviewer",value:n.reviewer}))))},ft=Object(s.a)((function(){return{txDataContainer:{paddingTop:T.lg,paddingLeft:T.md,paddingBottom:T.md},txData:{wordBreak:"break-all"},txDataParagraph:{whiteSpace:"normal"},linkTxData:{textDecoration:"underline",cursor:"pointer"}}}))((function(e){var t=e.classes,n=e.tx,r=function(e){var t=Object(B.k)().utils,n=t.fromWei,r=t.toBN,a={};return e.isTokenTransfer&&e.decodedParams?(a.recipient=e.decodedParams.recipient,a.value=n(r(e.decodedParams.value),"ether")):e.isBountyTx?a.data=e.bountyParams:e.customTx?(a.recipient=e.recipient,a.value=n(r(e.value),"ether"),a.data=e.data,a.customTx=!0):Number(e.value)>0?(a.recipient=e.recipient,a.value=n(r(e.value),"ether")):e.modifySettingsTx?(a.recipient=e.recipient,a.modifySettingsTx=!0,e.decodedParams&&(a.action=e.decodedParams.methodName,a.action===Ye.a.REMOVE_OWNER?(a.removedOwner=e.decodedParams.args[1],a.newThreshold=e.decodedParams.args[2]):a.action===Ye.a.CHANGE_THRESHOLD?a.newThreshold=e.decodedParams.args[0]:a.action===Ye.a.ADD_OWNER_WITH_THRESHOLD?(a.addedOwner=e.decodedParams.args[0],a.newThreshold=e.decodedParams.args[1]):a.action===Ye.a.SWAP_OWNER&&(a.removedOwner=e.decodedParams.args[1],a.addedOwner=e.decodedParams.args[2]))):e.cancellationTx?a.cancellationTx=!0:e.creationTx?a.creationTx=!0:e.upgradeTx?(a.upgradeTx=!0,a.data="The contract of this Safe is upgraded to Version ".concat({"34cfac646f301356faa8b21e94227e3583fe3f5f":"1.1.1"}[e.data.substr(340,40).toLowerCase()]||"X.x.x")):(a.recipient=e.recipient,a.value=0),a}(n),a=r.action,c=r.addedOwner,o=r.cancellationTx,i=r.creationTx,s=r.customTx,u=r.data,l=r.modifySettingsTx,d=r.newThreshold,f=r.recipient,m=r.removedOwner,p=r.upgradeTx,b=Object(v.g)(n,!1);return x.a.createElement(C.a,{className:t.txDataContainer},l&&a&&x.a.createElement(st,{action:a,addedOwner:c,newThreshold:d,removedOwner:m}),n.isBountyTx?x.a.createElement(dt,{classes:t,data:u}):x.a.createElement(x.a.Fragment,null,!p&&s&&x.a.createElement(ut,{amount:b,classes:t,data:u,recipient:f}),p&&x.a.createElement("div",null,u),!o&&!l&&!s&&!i&&!p&&x.a.createElement(at,{amount:b,recipient:f})))})),mt=n(1759),pt=Object(g.a)({txDataContainer:{paddingTop:T.lg,paddingLeft:T.md,paddingBottom:T.md,borderRight:"2px solid rgb(232, 231, 230)"}}),bt=function(e){var t=e.from,n=e.txFromName,r=e.value,a=void 0===r?"":r;return x.a.createElement(C.a,{"data-testid":"tx-description-incoming"},x.a.createElement(S.a,null,"Received ",a," from:"),x.a.createElement("br",null),n?x.a.createElement(tt.a,{address:t,knownAddress:!0,showLinks:!0,userName:n}):x.a.createElement(he.a,{knownAddress:!1,type:"address",value:t}))},xt=function(e){var t=e.tx,n=pt(),r=Object(h.f)((function(e){return Object(Ee.d)(e,t.from)}));return x.a.createElement(C.a,{className:n.txDataContainer},x.a.createElement(bt,{from:t.from,txFromName:r,value:Object(v.f)(t,!1)}))},ht=n(376);function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,c=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Et=Object(g.a)((function(){return{expandedTxBlock:{borderBottom:"2px solid ".concat(T.border)},txDataContainer:{padding:"".concat(T.lg," ").concat(T.md)},txData:{alignItems:"center",display:"flex",lineHeight:"1.6"},awaiting_your_confirmation:{color:T.disabled},awaiting_confirmations:{color:T.disabled},awaiting_execution:{color:T.disabled},success:{color:T.connected},cancelled:{color:T.error},txHash:{paddingRight:"3px"},incomingTxBlock:{borderRight:"2px solid rgb(232, 231, 230)"}}})),yt=function(e){var t=e.cancelTx,n=e.tx,r=Et(),a=Object(h.f)(te.t),c=Object(h.f)(te.x),o=gt(Object(b.useState)(null),2),i=o[0],s=o[1],u=function(){return s("approveTx")},l=function(){return s(null)},d=!!ht.a[n.type],f=!d&&c<=n.confirmations.size,m=!d&&a===n.nonce,g=!!t&&c<=t.confirmations.size,E=a===n.nonce;return x.a.createElement(x.a.Fragment,null,x.a.createElement(C.a,{className:r.expandedTxBlock},x.a.createElement(P.a,null,x.a.createElement(Le.a,{layout:"column",xs:6},x.a.createElement(C.a,{className:p()(r.txDataContainer,d&&r.incomingTxBlock)},x.a.createElement(C.a,{align:"left",className:r.txData},x.a.createElement(S.a,{className:r.txHash},"Hash:"),n.executionTxHash?x.a.createElement(he.a,{cut:8,type:"tx",value:n.executionTxHash}):"n/a"),!d&&x.a.createElement(N.a,{noMargin:!0},x.a.createElement(S.a,null,"Nonce: "),x.a.createElement(mt.a,null,n.nonce)),x.a.createElement(N.a,{noMargin:!0},x.a.createElement(S.a,null,"Fee: "),n.fee?n.fee:"n/a"),d?x.a.createElement(x.a.Fragment,null,x.a.createElement(N.a,{noMargin:!0},x.a.createElement(S.a,null,"Created: "),Object(v.d)(n.executionDate))):x.a.createElement(x.a.Fragment,null,x.a.createElement(N.a,{noMargin:!0},x.a.createElement(S.a,null,"Created: "),Object(v.d)(n.submissionDate)),n.executionDate&&x.a.createElement(N.a,{noMargin:!0},x.a.createElement(S.a,null,"Executed: "),Object(v.d)(n.executionDate)),n.refundParams&&x.a.createElement(N.a,{noMargin:!0},x.a.createElement(S.a,null,"Refund: "),"max. ",n.refundParams.fee," ",n.refundParams.symbol),1===n.operation&&x.a.createElement(N.a,{noMargin:!0},x.a.createElement(S.a,null,"Delegate Call")),2===n.operation&&x.a.createElement(N.a,{noMargin:!0},x.a.createElement(S.a,null,"Contract Creation")))),x.a.createElement(A.a,null),d?x.a.createElement(xt,{tx:n}):x.a.createElement(ft,{tx:n})),!d&&x.a.createElement(Fe,{cancelThresholdReached:g,cancelTx:t,canExecute:m,canExecuteCancel:E,onTxConfirm:u,onTxExecute:u,onTxReject:function(){t&&a===t.nonce?s("executeRejectTx"):s("rejectTx")},thresholdReached:f,tx:n}))),"approveTx"===i&&x.a.createElement(ce,{canExecute:m,isOpen:!0,onClose:l,thresholdReached:f,tx:n}),"rejectTx"===i&&x.a.createElement(Ve,{isOpen:!0,onClose:l,tx:n}),"executeRejectTx"===i&&x.a.createElement(ce,{canExecute:E,isCancelTx:!0,isOpen:!0,onClose:l,thresholdReached:g,tx:t}))},wt=n(482),Ot=n(2317),jt=n.n(Ot),Tt=n(2318),kt=n.n(Tt),Ct=n(2319);function St(e){return(St="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Rt={success:n.n(Ct).a,cancelled:kt.a,failed:kt.a,awaiting_your_confirmation:jt.a,awaiting_confirmations:jt.a,awaiting_execution:jt.a,pending:b.createElement(wt.a,{size:14})},At={success:"Success",cancelled:"Cancelled",failed:"Failed",awaiting_your_confirmation:"Awaiting your confirmation",awaiting_confirmations:"Awaiting confirmations",awaiting_execution:"Awaiting execution",pending:"Pending"},Nt={height:"14px",width:"14px"},Pt=Object(s.a)((function(){return{container:{display:"flex",fontSize:T.extraSmallFontSize,fontWeight:T.boldFont,padding:T.sm,alignItems:"center",boxSizing:"border-box",height:T.lg,marginTop:T.sm,marginBottom:T.sm,borderRadius:"3px"},success:{backgroundColor:"#A1D2CA",color:T.secondary},cancelled:{backgroundColor:"transparent",color:T.error,border:"1px solid ".concat(T.error)},failed:{backgroundColor:"transparent",color:T.error,border:"1px solid ".concat(T.error)},awaiting_your_confirmation:{backgroundColor:"#d4d5d3",color:T.disabled},awaiting_confirmations:{backgroundColor:"#d4d5d3",color:T.disabled},awaiting_execution:{backgroundColor:"#d4d5d3",color:T.disabled},pending:{backgroundColor:"#fff3e2",color:"#e8673c"},statusText:{padding:"0 7px"}}}))((function(e){var t=e.classes,n=e.status,r=Rt[n];return b.createElement(C.a,{className:"".concat(t.container," ").concat(t[n])},"object"===St(r)?r:b.createElement(ve.a,{alt:At[n],src:r,style:Nt}),b.createElement(N.a,{className:t.statusText,noMargin:!0},At[n]))})),It=n(1736),Dt=n(1707),Lt=n(503);function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,c=s}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wt="transaction-row",Mt={paddingLeft:0,paddingRight:15};t.default=Object(s.a)((function(){return{container:{marginTop:"56px"},row:{cursor:"pointer","&:hover":{backgroundColor:"#fff3e2"}},expandedRow:{backgroundColor:"#fff3e2"},cancelledRow:{opacity:.4},extendedTxContainer:{padding:0,border:0,"&:last-child":{padding:0},backgroundColor:"#fffaf4"},actions:{display:"flex",justifyContent:"flex-end"}}}))((function(e){var t=e.classes,n=_t(Object(b.useState)(null),2),s=n[0],u=n[1],d=Object(h.f)(te.m),m=Object(h.f)(Lt.b),g=Object(v.e)(),E=g.filter((function(e){return!e.custom})),y=Object(v.h)(m,d).sort((function(e,t){var n=e.tx.nonce,r=e.tx.nonce;if(n&&r){var a=n-r;if(0!==a)return a}var c=e.dateOrder,o=t.dateOrder;return c&&o?c-o:0})).map((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{id:t})}));return x.a.createElement(C.a,{className:t.container},x.a.createElement(o.a,null,x.a.createElement(It.a,{columns:g,data:y,defaultFixed:!0,defaultOrder:"desc",defaultOrderBy:v.a,defaultRowsPerPage:25,label:"Transactions",size:y.size},(function(e){return e.map((function(e,n){return x.a.createElement(x.a.Fragment,{key:n},x.a.createElement(i.a,{className:p()(t.row,s===e.tx.safeTxHash&&t.expandedRow),"data-testid":Wt,onClick:function(){return t=e.tx.safeTxHash,void u((function(e){return e===t?null:t}));var t},tabIndex:-1},E.map((function(n){return x.a.createElement(c.a,{align:n.align,className:p()(t.cell,["cancelled","failed"].includes(e.status)&&t.cancelledRow),component:"td",key:n.id,style:Object(Dt.a)(n.width)},e[n.id])})),x.a.createElement(c.a,{component:"td"},x.a.createElement(P.a,{align:"end",className:t.actions},x.a.createElement(Pt,{status:e.status}))),x.a.createElement(c.a,{style:Mt},!e.tx.creationTx&&x.a.createElement(a.a,{disableRipple:!0},s===e.safeTxHash?x.a.createElement(l.a,null):x.a.createElement(f.a,null)))),!e.tx.creationTx&&x.a.createElement(i.a,null,x.a.createElement(c.a,{className:t.extendedTxContainer,colSpan:6,style:{paddingBottom:0,paddingTop:0}},x.a.createElement(r.a,{cancelTx:e[v.b],component:yt,in:s===e.tx.safeTxHash,timeout:"auto",tx:e[v.c],unmountOnExit:!0}))))}))}))))}))}}]);